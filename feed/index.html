<?xml version="1.0" encoding="utf-8"?>
  <rss version="2.0"
        xmlns:content="http://purl.org/rss/1.0/modules/content/"
        xmlns:atom="http://www.w3.org/2005/Atom"
  >
  <channel>
    <title>爱海游</title>
    <link href="http://blog.ihaiu.com/feed/" rel="self" />
    <link href="http://blog.ihaiu.com" />
    <lastBuildDate>2021-02-09T02:28:16+08:00</lastBuildDate>
    <webMaster>ihaiu@qq.com</webMaster>
    
    <item>
      <title>【笔记】LOL图形管线之旅读后感</title>
      <link href="http://blog.ihaiu.com/bj-lolgxdhg/"/>
      <pubDate>2020-12-15T21:51:00+08:00</pubDate>
      <author>ihaiu</author>
      <guid>http://blog.ihaiu.com/bj-lolgxdhg</guid>
      <content:encoded><![CDATA[<h1 id="阴影">阴影</h1>

<ol>
  <li>
    <p>通过灯光角度去渲染，每个像素存储rgb(灯光到阴影的投射距离)、a（阴影区域）</p>
  </li>
  <li>
    <p>对阴影进行模糊处理，使表现有柔和的边缘</p>
  </li>
  <li>
    <p>猜测1：渲染地图表面时，通过灯光视角生成屏幕UV，采用这张渲染好的贴图控制在阴影区域的地图颜色为黑色。</p>
  </li>
  <li>
    <p>猜测2：有一个屏幕这么大的平面mesh贴在地图表面之上，用把这张贴图给到这个平面</p>

    <p><img src="https://blog.ihaiu.com/assets/docpic/2020-12-15-笔记-LOL图形管线之旅读后感/rendering_shadows_only_2.jpg" alt="img" /></p>

    <p><img src="https://blog.ihaiu.com/assets/docpic/2020-12-15-笔记-LOL图形管线之旅读后感/rendering_shadows_only_1.jpg" alt="img" /></p>
  </li>
</ol>

<p><img src="https://blog.ihaiu.com/assets/docpic/2020-12-15-笔记-LOL图形管线之旅读后感/rendering_static_geo.jpg" alt="img" /></p>

<p><img src="https://blog.ihaiu.com/assets/docpic/https://technology.riotgames.com/sites/default/files/rendering_full_scene_animated.gif" alt="img" /></p>

<h1 id="轮廓">轮廓</h1>

<p>通过获取上一阶段的缩放深度并使用<a href="https://en.wikipedia.org/wiki/Sobel_operator">Sobel滤镜对其</a>进行处理以提取边缘，然后在蒙皮网格上渲染回来，从而生成轮廓。</p>

<p><strong>猜测:</strong></p>

<ol>
  <li>先用摄像机角度渲染一张小的屏幕缓冲，只渲染单位类型的模型</li>
  <li>将这张贴图放大</li>
  <li>对这张图进行边缘检测，提取边缘</li>
  <li>可以将处理好的用于屏幕后期处理，叠加以显示描边轮廓</li>
</ol>

<h1 id="后期处理效果抗锯齿">后期处理效果–抗锯齿</h1>

<p><strong>FXAA(Fast Approximate Anti-Aliasing):</strong></p>

<ol>
  <li>找出图像中的所有边缘</li>
  <li>平滑边缘</li>
</ol>

<p><strong>SSAA（Super Sampling AA）：</strong></p>

<p>拿4xSSAA举例子</p>

<ol>
  <li>假设最终屏幕输出的分辨率是800x600</li>
  <li>4xSSAA就会先渲染到一个分辨率1600x1200的buffer上</li>
  <li>然后再直接把这个放大4倍的buffer下采样致800x600</li>
</ol>

<p>这种做法在数学上是最完美的抗锯齿。但是劣势也很明显，光栅化和着色的计算负荷都比原来多了4倍，render target的大小也涨了4倍。</p>

<p><strong>MSAA（Multi-Sampling AA）：</strong></p>

<p>只是在光栅化阶段，判断一个三角形是否被像素覆盖的时候会计算多个覆盖样本（Coverage sample），但是在pixel shader着色阶段计算像素颜色的时候每个像素还是只计算一次。</p>

<p>例如下图是4xMSAA，三角形只覆盖了4个coverage sample中的2个。所以这个三角形需要生成一个fragment在pixel shader里着色，只不过生成的fragment还是在像素中央（位置，法线等信息插值到像素中央）然后只运行一次pixel shader，最后得到的结果在resolve阶段会乘以0.5，因为这个三角形只cover了一半的sample。现代所有GPU都在硬件上实现了这个算法，而且在shading的运算量远大于光栅化的今天，这个方法远比SSAA快很多。顺便提一下之前NV的CSAA，它就是更进一步的把coverage sample和depth，stencil test分开了。</p>

<ol>
  <li>只是在光栅化阶段</li>
  <li>判断一个三角形是否被像素覆盖的时候会计算多个覆盖样本（Coverage sample</li>
  <li>pixel shader着色阶段计算像素颜色的时候每个像素还是只计算一次</li>
</ol>

<p><img src="https://blog.ihaiu.com/assets/docpic/2020-12-15-笔记-LOL图形管线之旅读后感/e4b5148a3cf4e38e2183069f9848ec84_720w.jpg" alt="img" /></p>

<h1 id="hud-三角形数量">HUD 三角形数量</h1>

<table>
  <thead>
    <tr>
      <th>名称</th>
      <th>三角形数量</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>HUD总的</td>
      <td>1000</td>
    </tr>
    <tr>
      <td>小地图</td>
      <td>300</td>
    </tr>
    <tr>
      <td>其余</td>
      <td>700</td>
    </tr>
  </tbody>
</table>

<h1 id="所有-三角形数量">所有 三角形数量</h1>

<table>
  <thead>
    <tr>
      <th>名称</th>
      <th>三角形数量</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>整个场景</td>
      <td>20万</td>
    </tr>
    <tr>
      <td>粒子</td>
      <td>9万</td>
    </tr>
    <tr>
      <td>绘图调用可渲染2800万像素</td>
      <td>695</td>
    </tr>
  </tbody>
</table>

<h1 id="相关文档">相关文档</h1>

<p><a href="https://technology.riotgames.com/news/story-fog-and-war">《英雄联盟》战争迷雾 https://technology.riotgames.com/news/story-fog-and-war</a></p>

<p><a href="https://en.wikipedia.org/wiki/Sobel_operator">索贝尔算子 Sobel， 边缘检测技术</a></p>

<p><a href="https://zh.wikipedia.org/wiki/%E8%BE%B9%E7%BC%98%E6%A3%80%E6%B5%8B">边缘检测</a></p>

<p><a href="https://zh.wikipedia.org/wiki/%E5%BF%AB%E9%80%9F%E8%BF%91%E4%BC%BC%E6%8A%97%E9%8B%B8%E9%BD%92">快速近似抗锯齿 FXAA</a></p>

<p><a href="https://blog.codinghorror.com/fast-approximate-anti-aliasing-fxaa/">快速近似抗锯齿 （FXAA）</a></p>

<p><a href="https://developer.download.nvidia.cn/assets/gamedev/files/sdk/11/FXAA_WhitePaper.pdf">快速近似抗锯齿 FXAA 白皮书</a></p>

<p><a href="https://www.zhihu.com/question/20236638">请问FXAA、FSAA与MSAA有什么区别？效果和性能上哪个好？</a></p>

]]></content:encoded>
    </item>
    
    <item>
      <title>【笔记】《英雄联盟》战争迷雾</title>
      <link href="http://blog.ihaiu.com/bj-zhanzhenmiwu/"/>
      <pubDate>2020-12-14T21:51:00+08:00</pubDate>
      <author>ihaiu</author>
      <guid>http://blog.ihaiu.com/bj-zhanzhenmiwu</guid>
      <content:encoded><![CDATA[<h1 id="描述">描述</h1>

<ol>
  <li>英雄联盟先用 128*128的图保存源数据</li>
  <li>[图像缩放技术] 将128 * 128 放大4倍到 512 * 512</li>
</ol>

<p><img src="https://blog.ihaiu.com/assets/docpic/2020-12-14-笔记-战争迷雾/fow_diagram.png" alt="img" /></p>

<ol>
  <li>[图像模糊技术] 高斯模糊处理512 * 512</li>
</ol>

<h1 id="相关文档">相关文档</h1>

<p><a href="https://technology.riotgames.com/news/story-fog-and-war">《英雄联盟》战争迷雾 https://technology.riotgames.com/news/story-fog-and-war</a></p>

<p><a href="https://en.wikipedia.org/wiki/Gaussian_blur">高斯模糊</a></p>

<p><img src="https://blog.ihaiu.com/assets/docpic/2020-12-14-笔记-战争迷雾/image-20201214213612475.png" alt="img" /></p>

<p><a href="http://rastergrid.com/blog/2010/09/efficient-gaussian-blur-with-linear-sampling/">线性采用的高效高斯模糊</a></p>

<p><img src="https://blog.ihaiu.com/assets/docpic/2020-12-14-笔记-战争迷雾/gaussian_function_2D.png" alt="img" /></p>

<p><img src="https://blog.ihaiu.com/assets/docpic/2020-12-14-笔记-战争迷雾/gaussian_graph.png" alt="img" /></p>

<p><img src="https://blog.ihaiu.com/assets/docpic/2020-12-14-笔记-战争迷雾/gaussian_function_1D.png" alt="img" /></p>

<p><img src="https://blog.ihaiu.com/assets/docpic/2020-12-14-笔记-战争迷雾/binomial_coeff2.png" alt="img" /></p>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">uniform</span> <span class="kt">sampler2D</span> <span class="n">image</span><span class="p">;</span>
 
<span class="k">out</span> <span class="kt">vec4</span> <span class="n">FragmentColor</span><span class="p">;</span>
 
<span class="k">uniform</span> <span class="kt">float</span> <span class="n">offset</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="o">=</span> <span class="kt">float</span><span class="p">[](</span><span class="mi">0</span><span class="p">.</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">.</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">.</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">.</span><span class="mi">0</span><span class="p">,</span> <span class="mi">4</span><span class="p">.</span><span class="mi">0</span><span class="p">);</span>
<span class="k">uniform</span> <span class="kt">float</span> <span class="n">weight</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="o">=</span> <span class="kt">float</span><span class="p">[](</span><span class="mi">0</span><span class="p">.</span><span class="mi">2270270270</span><span class="p">,</span> <span class="mi">0</span><span class="p">.</span><span class="mi">1945945946</span><span class="p">,</span> <span class="mi">0</span><span class="p">.</span><span class="mi">1216216216</span><span class="p">,</span>
                                  <span class="mi">0</span><span class="p">.</span><span class="mo">0540540541</span><span class="p">,</span> <span class="mi">0</span><span class="p">.</span><span class="mo">0162162162</span><span class="p">);</span>
 
<span class="kt">void</span> <span class="nf">main</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span> <span class="p">{</span>

    <span class="n">FragmentColor</span> <span class="o">=</span> <span class="n">texture2D</span><span class="p">(</span><span class="n">image</span><span class="p">,</span> <span class="kt">vec2</span><span class="p">(</span><span class="nb">gl_FragCoord</span><span class="p">)</span> <span class="o">/</span> <span class="mi">1024</span><span class="p">.</span><span class="mi">0</span><span class="p">)</span> <span class="o">*</span> <span class="n">weight</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>

    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span> <span class="n">i</span><span class="o">&lt;</span><span class="mi">5</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>

        <span class="n">FragmentColor</span> <span class="o">+=</span>
            <span class="n">texture2D</span><span class="p">(</span><span class="n">image</span><span class="p">,</span> <span class="p">(</span><span class="kt">vec2</span><span class="p">(</span><span class="nb">gl_FragCoord</span><span class="p">)</span> <span class="o">+</span> <span class="kt">vec2</span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">0</span><span class="p">,</span> <span class="n">offset</span><span class="p">[</span><span class="n">i</span><span class="p">]))</span> <span class="o">/</span> <span class="mi">1024</span><span class="p">.</span><span class="mi">0</span><span class="p">)</span>
                <span class="o">*</span> <span class="n">weight</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>

        <span class="n">FragmentColor</span> <span class="o">+=</span>
            <span class="n">texture2D</span><span class="p">(</span><span class="n">image</span><span class="p">,</span> <span class="p">(</span><span class="kt">vec2</span><span class="p">(</span><span class="nb">gl_FragCoord</span><span class="p">)</span> <span class="o">-</span> <span class="kt">vec2</span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">0</span><span class="p">,</span> <span class="n">offset</span><span class="p">[</span><span class="n">i</span><span class="p">]))</span> <span class="o">/</span> <span class="mi">1024</span><span class="p">.</span><span class="mi">0</span><span class="p">)</span>
                <span class="o">*</span> <span class="n">weight</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p><img src="https://blog.ihaiu.com/assets/docpic/2020-12-14-笔记-战争迷雾/gaussian_weight_equation.png" alt="img" /></p>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">uniform</span> <span class="kt">sampler2D</span> <span class="n">image</span><span class="p">;</span>
 
<span class="k">out</span> <span class="kt">vec4</span> <span class="n">FragmentColor</span><span class="p">;</span>
 
<span class="k">uniform</span> <span class="kt">float</span> <span class="n">offset</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="kt">float</span><span class="p">[](</span><span class="mi">0</span><span class="p">.</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">.</span><span class="mi">3846153846</span><span class="p">,</span> <span class="mi">3</span><span class="p">.</span><span class="mi">2307692308</span><span class="p">);</span>
<span class="k">uniform</span> <span class="kt">float</span> <span class="n">weight</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="kt">float</span><span class="p">[](</span><span class="mi">0</span><span class="p">.</span><span class="mi">2270270270</span><span class="p">,</span> <span class="mi">0</span><span class="p">.</span><span class="mi">3162162162</span><span class="p">,</span> <span class="mi">0</span><span class="p">.</span><span class="mo">0702702703</span><span class="p">);</span>
 
<span class="kt">void</span> <span class="nf">main</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span> <span class="p">{</span>

    <span class="n">FragmentColor</span> <span class="o">=</span> <span class="n">texture2D</span><span class="p">(</span><span class="n">image</span><span class="p">,</span> <span class="kt">vec2</span><span class="p">(</span><span class="nb">gl_FragCoord</span><span class="p">)</span> <span class="o">/</span> <span class="mi">1024</span><span class="p">.</span><span class="mi">0</span><span class="p">)</span> <span class="o">*</span> <span class="n">weight</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>

    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span> <span class="n">i</span><span class="o">&lt;</span><span class="mi">3</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>

        <span class="n">FragmentColor</span> <span class="o">+=</span>
            <span class="n">texture2D</span><span class="p">(</span><span class="n">image</span><span class="p">,</span> <span class="p">(</span><span class="kt">vec2</span><span class="p">(</span><span class="nb">gl_FragCoord</span><span class="p">)</span> <span class="o">+</span> <span class="kt">vec2</span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">0</span><span class="p">,</span> <span class="n">offset</span><span class="p">[</span><span class="n">i</span><span class="p">]))</span> <span class="o">/</span> <span class="mi">1024</span><span class="p">.</span><span class="mi">0</span><span class="p">)</span>
                <span class="o">*</span> <span class="n">weight</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>

        <span class="n">FragmentColor</span> <span class="o">+=</span>
            <span class="n">texture2D</span><span class="p">(</span><span class="n">image</span><span class="p">,</span> <span class="p">(</span><span class="kt">vec2</span><span class="p">(</span><span class="nb">gl_FragCoord</span><span class="p">)</span> <span class="o">-</span> <span class="kt">vec2</span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">0</span><span class="p">,</span> <span class="n">offset</span><span class="p">[</span><span class="n">i</span><span class="p">]))</span> <span class="o">/</span> <span class="mi">1024</span><span class="p">.</span><span class="mi">0</span><span class="p">)</span>
                <span class="o">*</span> <span class="n">weight</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p><a href="https://en.wikipedia.org/wiki/Separable_filter">图像滤镜 可分离性</a>
<a href="https://en.wikipedia.org/wiki/Hqx">缩放图像技术 hqx</a></p>

<p><img src="https://blog.ihaiu.com/assets/docpic/2020-12-14-笔记-战争迷雾/image-20201214212934623.png" alt="img" /></p>

<p><a href="http://blog.pkh.me/p/19-butchering-hqx-scaling-filters.html">缩放图像技术 hqx 滤镜代码和原理</a></p>

<p>hqx有 hqx2、hqx3、hqx4 分别是放大2倍、3倍、4倍。</p>

<p>hq2x 放大2倍技术</p>

<p><img src="https://blog.ihaiu.com/assets/docpic/2020-12-14-笔记-战争迷雾/hq2x-all-combs.png" alt="img" /></p>

<p><a href="http://johanneskopf.de/publications/pixelart/">缩放图像技术论文 SIGGRAPH 2011</a></p>

<p><img src="https://blog.ihaiu.com/assets/docpic/2020-12-14-笔记-战争迷雾/image-20201214213808608.png" alt="img" /></p>

<p><a href="http://johanneskopf.de/publications/pixelart/supplementary/multi_comparison.html">缩放图像技术 不同算法效果展示</a></p>

<p><img src="https://blog.ihaiu.com/assets/docpic/2020-12-14-笔记-战争迷雾/image-20201214214018715.png" alt="img" /></p>
]]></content:encoded>
    </item>
    
    <item>
      <title>【笔记】图像技术-高斯模糊</title>
      <link href="http://blog.ihaiu.com/bj-txjs-gsmh/"/>
      <pubDate>2020-12-14T21:51:00+08:00</pubDate>
      <author>ihaiu</author>
      <guid>http://blog.ihaiu.com/bj-txjs-gsmh</guid>
      <content:encoded><![CDATA[<h1 id="相关文档">相关文档</h1>

<p><a href="https://technology.riotgames.com/news/story-fog-and-war">《英雄联盟》战争迷雾 https://technology.riotgames.com/news/story-fog-and-war</a></p>

<p><a href="https://en.wikipedia.org/wiki/Gaussian_blur">高斯模糊</a></p>

<p><img src="https://blog.ihaiu.com/assets/docpic/2020-12-14-笔记-战争迷雾/image-20201214213612475.png" alt="img" /></p>

<p><a href="http://rastergrid.com/blog/2010/09/efficient-gaussian-blur-with-linear-sampling/">线性采用的高效高斯模糊</a></p>

<p><img src="https://blog.ihaiu.com/assets/docpic/2020-12-14-笔记-战争迷雾/gaussian_function_2D.png" alt="img" /></p>

<p><img src="https://blog.ihaiu.com/assets/docpic/2020-12-14-笔记-战争迷雾/gaussian_graph.png" alt="img" /></p>

<p><img src="https://blog.ihaiu.com/assets/docpic/2020-12-14-笔记-战争迷雾/gaussian_function_1D.png" alt="img" /></p>

<p><img src="https://blog.ihaiu.com/assets/docpic/2020-12-14-笔记-战争迷雾/binomial_coeff2.png" alt="img" /></p>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">uniform</span> <span class="kt">sampler2D</span> <span class="n">image</span><span class="p">;</span>
 
<span class="k">out</span> <span class="kt">vec4</span> <span class="n">FragmentColor</span><span class="p">;</span>
 
<span class="k">uniform</span> <span class="kt">float</span> <span class="n">offset</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="o">=</span> <span class="kt">float</span><span class="p">[](</span><span class="mi">0</span><span class="p">.</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">.</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">.</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">.</span><span class="mi">0</span><span class="p">,</span> <span class="mi">4</span><span class="p">.</span><span class="mi">0</span><span class="p">);</span>
<span class="k">uniform</span> <span class="kt">float</span> <span class="n">weight</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="o">=</span> <span class="kt">float</span><span class="p">[](</span><span class="mi">0</span><span class="p">.</span><span class="mi">2270270270</span><span class="p">,</span> <span class="mi">0</span><span class="p">.</span><span class="mi">1945945946</span><span class="p">,</span> <span class="mi">0</span><span class="p">.</span><span class="mi">1216216216</span><span class="p">,</span>
                                  <span class="mi">0</span><span class="p">.</span><span class="mo">0540540541</span><span class="p">,</span> <span class="mi">0</span><span class="p">.</span><span class="mo">0162162162</span><span class="p">);</span>
 
<span class="kt">void</span> <span class="nf">main</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span> <span class="p">{</span>

    <span class="n">FragmentColor</span> <span class="o">=</span> <span class="n">texture2D</span><span class="p">(</span><span class="n">image</span><span class="p">,</span> <span class="kt">vec2</span><span class="p">(</span><span class="nb">gl_FragCoord</span><span class="p">)</span> <span class="o">/</span> <span class="mi">1024</span><span class="p">.</span><span class="mi">0</span><span class="p">)</span> <span class="o">*</span> <span class="n">weight</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>

    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span> <span class="n">i</span><span class="o">&lt;</span><span class="mi">5</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>

        <span class="n">FragmentColor</span> <span class="o">+=</span>
            <span class="n">texture2D</span><span class="p">(</span><span class="n">image</span><span class="p">,</span> <span class="p">(</span><span class="kt">vec2</span><span class="p">(</span><span class="nb">gl_FragCoord</span><span class="p">)</span> <span class="o">+</span> <span class="kt">vec2</span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">0</span><span class="p">,</span> <span class="n">offset</span><span class="p">[</span><span class="n">i</span><span class="p">]))</span> <span class="o">/</span> <span class="mi">1024</span><span class="p">.</span><span class="mi">0</span><span class="p">)</span>
                <span class="o">*</span> <span class="n">weight</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>

        <span class="n">FragmentColor</span> <span class="o">+=</span>
            <span class="n">texture2D</span><span class="p">(</span><span class="n">image</span><span class="p">,</span> <span class="p">(</span><span class="kt">vec2</span><span class="p">(</span><span class="nb">gl_FragCoord</span><span class="p">)</span> <span class="o">-</span> <span class="kt">vec2</span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">0</span><span class="p">,</span> <span class="n">offset</span><span class="p">[</span><span class="n">i</span><span class="p">]))</span> <span class="o">/</span> <span class="mi">1024</span><span class="p">.</span><span class="mi">0</span><span class="p">)</span>
                <span class="o">*</span> <span class="n">weight</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p><img src="https://blog.ihaiu.com/assets/docpic/2020-12-14-笔记-战争迷雾/gaussian_weight_equation.png" alt="img" /></p>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">uniform</span> <span class="kt">sampler2D</span> <span class="n">image</span><span class="p">;</span>
 
<span class="k">out</span> <span class="kt">vec4</span> <span class="n">FragmentColor</span><span class="p">;</span>
 
<span class="k">uniform</span> <span class="kt">float</span> <span class="n">offset</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="kt">float</span><span class="p">[](</span><span class="mi">0</span><span class="p">.</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">.</span><span class="mi">3846153846</span><span class="p">,</span> <span class="mi">3</span><span class="p">.</span><span class="mi">2307692308</span><span class="p">);</span>
<span class="k">uniform</span> <span class="kt">float</span> <span class="n">weight</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="kt">float</span><span class="p">[](</span><span class="mi">0</span><span class="p">.</span><span class="mi">2270270270</span><span class="p">,</span> <span class="mi">0</span><span class="p">.</span><span class="mi">3162162162</span><span class="p">,</span> <span class="mi">0</span><span class="p">.</span><span class="mo">0702702703</span><span class="p">);</span>
 
<span class="kt">void</span> <span class="nf">main</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span> <span class="p">{</span>

    <span class="n">FragmentColor</span> <span class="o">=</span> <span class="n">texture2D</span><span class="p">(</span><span class="n">image</span><span class="p">,</span> <span class="kt">vec2</span><span class="p">(</span><span class="nb">gl_FragCoord</span><span class="p">)</span> <span class="o">/</span> <span class="mi">1024</span><span class="p">.</span><span class="mi">0</span><span class="p">)</span> <span class="o">*</span> <span class="n">weight</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>

    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span> <span class="n">i</span><span class="o">&lt;</span><span class="mi">3</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>

        <span class="n">FragmentColor</span> <span class="o">+=</span>
            <span class="n">texture2D</span><span class="p">(</span><span class="n">image</span><span class="p">,</span> <span class="p">(</span><span class="kt">vec2</span><span class="p">(</span><span class="nb">gl_FragCoord</span><span class="p">)</span> <span class="o">+</span> <span class="kt">vec2</span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">0</span><span class="p">,</span> <span class="n">offset</span><span class="p">[</span><span class="n">i</span><span class="p">]))</span> <span class="o">/</span> <span class="mi">1024</span><span class="p">.</span><span class="mi">0</span><span class="p">)</span>
                <span class="o">*</span> <span class="n">weight</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>

        <span class="n">FragmentColor</span> <span class="o">+=</span>
            <span class="n">texture2D</span><span class="p">(</span><span class="n">image</span><span class="p">,</span> <span class="p">(</span><span class="kt">vec2</span><span class="p">(</span><span class="nb">gl_FragCoord</span><span class="p">)</span> <span class="o">-</span> <span class="kt">vec2</span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">0</span><span class="p">,</span> <span class="n">offset</span><span class="p">[</span><span class="n">i</span><span class="p">]))</span> <span class="o">/</span> <span class="mi">1024</span><span class="p">.</span><span class="mi">0</span><span class="p">)</span>
                <span class="o">*</span> <span class="n">weight</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p><a href="https://en.wikipedia.org/wiki/Separable_filter">图像滤镜 可分离性</a></p>
]]></content:encoded>
    </item>
    
    <item>
      <title>【笔记】 图像技术-缩放图片</title>
      <link href="http://blog.ihaiu.com/bi-tuxjis-sf/"/>
      <pubDate>2020-12-14T21:51:00+08:00</pubDate>
      <author>ihaiu</author>
      <guid>http://blog.ihaiu.com/bi-tuxjis-sf</guid>
      <content:encoded><![CDATA[<h1 id="相关文档">相关文档</h1>

<p><a href="https://technology.riotgames.com/news/story-fog-and-war">《英雄联盟》战争迷雾 https://technology.riotgames.com/news/story-fog-and-war</a></p>

<p><img src="https://blog.ihaiu.com/assets/docpic/2020-12-14-笔记-图像技术-缩放图片/fow_diagram.png" alt="img" /></p>

<p><a href="https://en.wikipedia.org/wiki/Hqx">缩放图像技术 hqx</a></p>

<p><img src="https://blog.ihaiu.com/assets/docpic/2020-12-14-笔记-战争迷雾/image-20201214212934623.png" alt="img" /></p>

<p><a href="http://blog.pkh.me/p/19-butchering-hqx-scaling-filters.html">缩放图像技术 hqx 滤镜代码和原理</a></p>

<p>hqx有 hqx2、hqx3、hqx4 分别是放大2倍、3倍、4倍。</p>

<p>hq2x 放大2倍技术</p>

<p><img src="https://blog.ihaiu.com/assets/docpic/2020-12-14-笔记-战争迷雾/hq2x-all-combs.png" alt="img" /></p>

<p><a href="http://johanneskopf.de/publications/pixelart/">缩放图像技术论文 SIGGRAPH 2011</a></p>

<p><img src="https://blog.ihaiu.com/assets/docpic/2020-12-14-笔记-战争迷雾/image-20201214213808608.png" alt="img" /></p>

<p><a href="http://johanneskopf.de/publications/pixelart/supplementary/multi_comparison.html">缩放图像技术 不同算法效果展示</a></p>

<p><img src="https://blog.ihaiu.com/assets/docpic/2020-12-14-笔记-战争迷雾/image-20201214214018715.png" alt="img" /></p>
]]></content:encoded>
    </item>
    
    <item>
      <title>Amplify Shader Editor Node</title>
      <link href="http://blog.ihaiu.com/ase-node/"/>
      <pubDate>2020-06-17T21:51:00+08:00</pubDate>
      <author>ihaiu</author>
      <guid>http://blog.ihaiu.com/ase-node</guid>
      <content:encoded><![CDATA[<p><strong>Amplify Shader Editor Node.docx</strong></p>

<p>链接：https://pan.baidu.com/s/1Mi6_6Ia-eQWZ8d35CesYrg</p>

<p>提取码：29lf</p>

<p><strong>AmplifyShaderEditor-Node.md</strong></p>

<p>链接：https://pan.baidu.com/s/1YMzvzuNJtLaaa0BA-NCjcA</p>

<p>提取码：cbe5</p>

<!-- START doctoc generated TOC please keep comment here to allow auto update -->
<!-- DON'T EDIT THIS SECTION, INSTEAD RE-RUN doctoc TO UPDATE -->
<p><strong>Table of Contents</strong>  <em>generated with <a href="https://github.com/thlorenz/doctoc">DocToc</a></em></p>

<ul>
  <li><a href="#vertex-data-%E9%A1%B6%E7%82%B9%E6%95%B0%E6%8D%AE">Vertex Data: 顶点数据</a>
    <ul>
      <li><a href="#face-%E6%B8%B2%E6%9F%93%E9%9D%A2%E7%9B%B8%E5%AF%B9%E6%91%84%E5%83%8F%E6%9C%BA-%E6%AD%A3%E9%9D%A2%E6%88%96%E8%83%8C%E9%9D%A2">Face: 渲染面相对摄像机 正面或背面</a></li>
      <li><a href="#instance-id">Instance ID</a></li>
      <li><a href="#object-scale-gameobject%E4%B8%96%E7%95%8C%E5%9D%90%E6%A0%87%E7%B3%BB%E7%BC%A9%E6%94%BE">Object Scale: GameObject世界坐标系缩放</a></li>
      <li><a href="#primitive-id">Primitive ID</a></li>
      <li><a href="#vertex-bitangent-%E9%A1%B6%E7%82%B9%E6%B3%95%E7%BA%BF%E5%92%8C%E5%88%87%E7%BA%BF%E7%9A%84%E5%8F%89%E4%B9%98%E5%9E%82%E7%9B%B4%E6%96%B9%E5%90%91">Vertex Bitangent: 顶点法线和切线的叉乘（垂直方向）</a></li>
      <li><a href="#vertex-color-%E9%A1%B6%E7%82%B9%E9%A2%9C%E8%89%B2">Vertex Color: 顶点颜色</a></li>
      <li><a href="#vertex-id">Vertex ID</a></li>
      <li><a href="#vertex-normal-%E9%A1%B6%E7%82%B9%E6%B3%95%E7%BA%BF">Vertex Normal： 顶点法线</a></li>
      <li><a href="#vertex-position%E9%A1%B6%E7%82%B9%E4%BD%8D%E7%BD%AE">Vertex Position：顶点位置</a></li>
      <li><a href="#vertex-tangent-%E9%A1%B6%E7%82%B9%E5%88%87%E7%BA%BF">Vertex Tangent: 顶点切线</a></li>
      <li><a href="#vertex-tangent-sign-%E9%A1%B6%E7%82%B9%E5%88%87%E7%BA%BF%E7%AC%A6%E5%8F%B7%E8%8A%82%E7%82%B9">Vertex Tangent Sign: 顶点切线符号节点</a></li>
    </ul>
  </li>
  <li><a href="#verctor-opertors-%E7%9F%A2%E9%87%8F%E6%93%8D%E4%BD%9C">Verctor Opertors: 矢量操作</a>
    <ul>
      <li><a href="#append-%E7%BB%84%E5%90%88%E7%9F%A2%E9%87%8F">Append: 组合矢量</a></li>
      <li><a href="#break-to-components--%E6%8B%86%E5%88%86%E7%9F%A2%E9%87%8F">Break To Components:  拆分矢量</a></li>
      <li><a href="#component-mask-%E8%AE%BF%E9%97%AE%E5%88%86%E9%87%8F">Component Mask: 访问分量</a></li>
      <li><a href="#create-orthogonal-vector-%E5%88%9B%E5%BB%BA%E6%AD%A3%E4%BA%A4%E5%90%91%E9%87%8F">Create Orthogonal Vector: 创建正交向量</a></li>
      <li><a href="#distance-%E8%B7%9D%E7%A6%BB">Distance: 距离</a></li>
      <li><a href="#dot-%E7%82%B9%E4%B9%98">Dot: 点乘</a></li>
      <li><a href="#length-%E9%95%BF%E5%BA%A6">Length: 长度</a></li>
      <li><a href="#normalize-%E5%BD%92%E4%B8%80%E5%8C%96">normalize: 归一化</a></li>
      <li><a href="#reflect-%E5%8F%8D%E5%B0%84">reflect: 反射</a></li>
      <li><a href="#refract-%E6%8A%98%E5%B0%84">Refract: 折射</a></li>
      <li><a href="#rotate-about-axis-%E7%BB%95%E8%BD%B4%E6%97%8B%E8%BD%AC">Rotate About Axis: 绕轴旋转</a></li>
      <li><a href="#swizzle-%E8%AE%BF%E9%97%AE%E5%88%86%E9%87%8F">Swizzle: 访问分量</a></li>
      <li><a href="#transform-direction-%E5%8F%98%E6%8D%A2%E5%9D%90%E6%A0%87%E7%A9%BA%E9%97%B4">Transform Direction: 变换坐标空间</a></li>
    </ul>
  </li>
  <li><a href="#time-%E6%97%B6%E9%97%B4">Time: 时间</a>
    <ul>
      <li><a href="#time-%E6%97%B6%E9%97%B4-1">Time: 时间</a></li>
      <li><a href="#time-parmeters-%E6%97%B6%E9%97%B4%E5%8F%82%E6%95%B0">Time Parmeters: 时间参数</a></li>
      <li><a href="#delta-time--%E6%AF%8F%E5%B8%A7%E6%97%B6%E9%95%BF">Delta Time : 每帧时长</a></li>
      <li><a href="#cos-time-cos%E6%97%B6%E9%97%B4">Cos Time: Cos时间</a></li>
      <li><a href="#sin-time-sin%E6%97%B6%E9%97%B4">Sin Time: Sin时间</a></li>
    </ul>
  </li>
  <li><a href="#math-operators-%E6%95%B0%E5%AD%A6%E6%93%8D%E4%BD%9C">Math Operators: 数学操作</a>
    <ul>
      <li><a href="#abs-%E7%BB%9D%E5%AF%B9%E5%80%BC">Abs: 绝对值</a></li>
      <li><a href="#add-%E5%8A%A0%E6%B3%95-">Add: 加法 +</a></li>
      <li><a href="#subtract-%E5%87%8F%E6%B3%95--">Subtract: 减法 -</a></li>
      <li><a href="#multiply-%E4%B9%98%E6%B3%95-">Multiply: 乘法 *</a></li>
      <li><a href="#divide-%E9%99%A4%E6%B3%95-">Divide: 除法 /</a></li>
      <li><a href="#remainder-%E5%8F%96%E4%BD%99%E6%95%B0--a-%EF%BC%85b%E7%9A%84%E9%99%A4%E6%B3%95%E4%BD%99%E6%95%B0">Remainder: 取余数 , A <strong>％</strong>B的除法余数</a></li>
      <li><a href="#ceil--%E5%90%91%E4%B8%8A%E5%8F%96%E6%95%B4">Ceil:  向上取整</a></li>
      <li><a href="#floor--%E5%90%91%E4%B8%8B%E5%8F%96%E6%95%B4">Floor:  向下取整</a></li>
      <li><a href="#round-%E5%9B%9B%E8%88%8D%E4%BA%94%E5%85%A5%E5%8F%96%E6%95%B4">round: 四舍五入取整</a></li>
      <li><a href="#fmod--%E5%8F%96%E4%BD%99%E6%95%B0-%E8%BE%93%E5%87%BA%E9%99%A4%E6%B3%95a--b%E7%9A%84%E5%85%B6%E4%BD%99%E9%83%A8%E5%88%86%E5%85%B6%E7%AC%A6%E5%8F%B7%E4%B8%8Ea%E7%9B%B8%E5%90%8C">Fmod:  取余数, 输出除法A <strong>/</strong> B的其余部分，其符号与<strong>A</strong>相同</a></li>
      <li><a href="#simplified-fmod---%E7%AE%80%E5%8C%96%E7%9A%84fmod%E8%8A%82%E7%82%B9%E8%BE%93%E5%87%BA%E9%99%A4%E6%B3%95a--b%E7%9A%84%E4%BD%99%E6%95%B0%E8%AF%A5%E8%8A%82%E7%82%B9%E6%AF%94fmod%E8%8A%82%E7%82%B9%E6%80%A7%E8%83%BD%E6%9B%B4%E9%AB%98%E4%BD%86%E4%B8%8D%E8%83%BD%E4%BF%9D%E8%AF%81%E6%9C%80%E7%BB%88%E7%94%9F%E6%88%90%E5%80%BC%E7%9A%84%E7%AC%A6%E5%8F%B7">Simplified Fmod :  简化的Fmod节点输出除法A <strong>/</strong> B的余数。该节点比Fmod节点性能更高，但不能保证最终生成值的符号。</a></li>
      <li><a href="#fract-%E5%8F%96%E5%B0%8F%E6%95%B0%E9%83%A8%E5%88%86---v---floorv">Fract: 取小数部分 ,  v - floor(v)</a></li>
      <li><a href="#lerp--%E7%BA%BF%E6%80%A7%E6%8F%92%E5%80%BC">Lerp:  线性插值</a></li>
      <li><a href="#compute-filter-width-%E8%AE%A1%E7%AE%97%E6%BB%A4%E6%B3%A2%E5%99%A8%E5%AE%BD%E5%BA%A6">Compute Filter Width: 计算滤波器宽度</a></li>
      <li><a href="#ddx-%E8%BE%93%E5%87%BA%E5%AF%B9%E4%BA%8E%E5%B1%8F%E5%B9%95%E7%A9%BA%E9%97%B4x%E5%9D%90%E6%A0%87%E8%BE%93%E5%87%BA%E6%8C%87%E5%AE%9A%E8%BE%93%E5%85%A5%E5%80%BC%E7%9A%84%E5%81%8F%E5%AF%BC%E6%95%B0">DDX: 输出对于屏幕空间x坐标输出指定输入值的偏导数。</a>
        <ul>
          <li><a href="#%E5%BA%94%E7%94%A81-%E9%A1%B6%E7%82%B9%E4%BD%8D%E7%BD%AE%E7%94%9F%E6%88%90%E6%B3%95%E7%BA%BF">应用1: 顶点位置生成法线</a></li>
          <li><a href="#%E5%BA%94%E7%94%A82-%E5%9B%BE%E7%89%87%E9%94%90%E5%8C%96">应用2: 图片锐化</a></li>
        </ul>
      </li>
      <li><a href="#ddy-%E8%BE%93%E5%87%BA%E7%9B%B8%E5%AF%B9%E4%BA%8E%E5%B1%8F%E5%B9%95%E7%A9%BA%E9%97%B4y%E5%9D%90%E6%A0%87%E7%9A%84%E6%8C%87%E5%AE%9A%E8%BE%93%E5%85%A5%E5%80%BC%E7%9A%84%E5%81%8F%E5%AF%BC%E6%95%B0">DDY: 输出相对于屏幕空间y坐标的指定输入值的偏导数。</a></li>
      <li><a href="#fwidth-%E5%81%8F%E5%AF%BC%E6%95%B0%E7%9A%84%E7%BB%9D%E5%AF%B9%E5%80%BC-absddxinput----absddyinput">FWidth: 偏导数的绝对值 abs(ddx(input))   + abs(ddy(input))</a></li>
      <li><a href="#exp-%E4%BB%A5%E8%87%AA%E7%84%B6%E5%B8%B8%E6%95%B0e%E4%B8%BA%E5%BA%95%E7%9A%84%E6%8C%87%E6%95%B0%E5%87%BD%E6%95%B0%E5%AE%83%E5%90%8C%E6%97%B6%E5%8F%88%E6%98%AF%E8%88%AA%E6%A8%A1%E5%90%8D%E8%AF%8D%E5%85%A8%E7%A7%B0exponential%E6%8C%87%E6%95%B0%E6%9B%B2%E7%BA%BF">Exp: 以自然常数e为底的指数函数，它同时又是航模名词，全称Exponential(指数曲线)</a></li>
      <li><a href="#exp2-%E4%BB%A52%E4%B8%BA%E5%BA%95%E7%9A%84%E6%8C%87%E6%95%B0%E5%80%BC">Exp2: 以2为底的指数值</a></li>
      <li><a href="#pow-%E5%B9%82%E8%BF%90%E7%AE%97">pow: 幂运算</a></li>
      <li><a href="#log--%E8%87%AA%E7%84%B6%E5%AF%B9%E6%95%B0-%E6%A0%87%E9%87%8F%E6%88%96%E5%90%91%E9%87%8F%E5%90%84%E4%B8%AA%E5%88%86%E9%87%8F%E7%9A%84%E5%9F%BA%E6%9C%ACe%E5%AF%B9%E6%95%B0%E5%80%BC">Log:  自然对数, 标量或向量各个分量的基本e对数值</a></li>
      <li><a href="#log10--%E4%BB%A510%E4%B8%BA%E4%BD%8E%E7%9A%84%E5%AF%B9%E6%95%B0">Log10:  以10为低的对数</a></li>
      <li><a href="#log2--%E4%BB%A52%E4%B8%BA%E4%BD%8E%E7%9A%84%E5%AF%B9%E6%95%B0">Log2:  以2为低的对数</a></li>
      <li><a href="#sqrt-%E5%B9%B3%E6%96%B9%E6%A0%B9-%E5%BC%80%E5%B9%B3%E6%96%B9">sqrt: 平方根, 开平方</a></li>
      <li><a href="#rsqrt%E5%80%92%E6%95%B0-%E5%B9%B3%E6%96%B9%E6%A0%B9-1sqrinput">rsqrt：倒数 平方根, 1/sqr(input)</a></li>
      <li><a href="#max-%E6%9C%80%E5%A4%A7%E5%80%BC">Max: 最大值</a></li>
      <li><a href="#min-%E6%9C%80%E5%B0%8F%E5%80%BC">Min: 最小值</a></li>
      <li><a href="#negate-%E5%8F%96%E5%8F%8D--">Negate: 取反 -</a></li>
      <li><a href="#one-minus--1---val">One Minus:  1 - val</a></li>
      <li><a href="#remap-%E6%98%A0%E5%B0%84%E5%80%BC">Remap: 映射值</a></li>
      <li><a href="#clamp--%E5%8F%96%E5%80%BC%E8%8C%83%E5%9B%B4--a--min--min------a--max--max--a">Clamp:  取值范围,  a &lt; min ? min   :   a &gt; max ? max : a</a></li>
      <li><a href="#saturate-%E9%A5%B1%E5%92%8C%E5%8F%96%E5%80%BC-%E5%80%BC%E9%99%90%E5%AE%9A%E5%9C%A801%E8%8C%83%E5%9B%B4---a--0---0----------a-1--1---a">Saturate: 饱和取值, 值限定在[0,1]范围,   a &lt; 0 ?  0    :      a &gt;1 ? 1 :  a</a></li>
      <li><a href="#step-%E9%98%B6%E6%A2%AF%E5%8F%96%E5%80%BC--%E8%BF%94%E5%9B%9E0%E6%88%961--b--a--0--1">Step: 阶梯取值,  返回0或1，  b &lt; a ? 0 : 1</a></li>
      <li><a href="#smoothstep-%E5%B9%B3%E6%BB%91%E9%98%B6%E6%A2%AF%E5%8F%96%E5%80%BC">Smoothstep: 平滑阶梯取值</a></li>
      <li><a href="#sign-%E7%AC%A6%E5%8F%B7---a--0--0----------a--0--1---1">Sign: 符号,   a == 0 ? 0       :   a &gt; 0 ? 1 : -1</a></li>
      <li><a href="#scale-%E4%B9%98%E4%B8%80%E4%B8%AA%E6%95%B0%E5%80%BC--input--val">Scale: 乘一个数值,  input * val</a></li>
      <li><a href="#scale-and-offset-%E4%B9%98%E4%B8%80%E4%B8%AA%E6%95%B0%E5%80%BC%E5%86%8D%E5%81%8F%E7%A7%BB%E4%B8%80%E4%B8%AA%E6%95%B0%E5%80%BC-inpu--scale--offset">Scale And Offset: 乘一个数值，再偏移一个数值 inpu * scale + offset</a></li>
      <li><a href="#step-antialiasing--%E9%98%B6%E6%A2%AF%E5%B9%B3%E6%BB%91">Step Antialiasing:  阶梯平滑</a></li>
      <li><a href="#trunc--%E5%B0%86%E6%B5%AE%E7%82%B9%E5%80%BC%E6%88%AA%E6%96%AD%E4%B8%BA%E7%9F%A2%E9%87%8F%E5%80%BC%E7%9A%84%E6%95%B4%E6%95%B0%E9%83%A8%E5%88%86%E6%88%96%E6%AF%8F%E4%B8%AA%E5%8D%95%E7%8B%AC%E7%9A%84%E9%83%A8%E5%88%86">trunc:  将浮点值截断为矢量值的整数部分或每个单独的部分。</a></li>
    </ul>
  </li>
  <li><a href="#trigonometry-operators-%E4%B8%89%E8%A7%92%E5%87%BD%E6%95%B0%E6%93%8D%E4%BD%9C">Trigonometry Operators: 三角函数操作</a>
    <ul>
      <li><a href="#radians-%E8%A7%92%E5%BA%A6%E8%BD%AC%E5%BC%A7%E5%BA%A6">Radians： 角度转弧度</a></li>
      <li><a href="#degrees-%E5%BC%A7%E5%BA%A6%E8%BD%AC%E8%A7%92%E5%BA%A6">Degrees: 弧度转角度</a></li>
      <li><a href="#cos-%E4%BD%99%E5%BC%A6%E5%80%BC%E8%BE%93%E5%85%A5%E5%80%BC%E5%BF%85%E9%A1%BB%E4%BB%A5%E5%BC%A7%E5%BA%A6%E5%8D%95%E4%BD%8D%E5%88%B6%E4%B8%BA%E5%8D%95%E4%BD%8D">Cos: 余弦值。输入值必须以弧度单位制为单位。</a></li>
      <li><a href="#acos-%E5%8F%8D%E4%BD%99%E5%BC%A6%E5%87%BD%E6%95%B0">ACos: 反余弦函数</a></li>
      <li><a href="#cosh-%E5%8F%8C%E6%9B%B2%E4%BD%99%E5%BC%A6%E5%80%BC%E8%BE%93%E5%85%A5%E5%80%BC%E5%BF%85%E9%A1%BB%E4%BB%A5%E5%BC%A7%E5%BA%A6%E5%8D%95%E4%BD%8D%E5%88%B6%E4%B8%BA%E5%8D%95%E4%BD%8D">Cosh: 双曲余弦值。输入值必须以弧度单位制为单位。</a></li>
      <li><a href="#sin-%E6%AD%A3%E5%BC%A6%E5%80%BC%E8%BE%93%E5%85%A5%E5%80%BC%E5%BF%85%E9%A1%BB%E4%BB%A5%E5%BC%A7%E5%BA%A6%E5%8D%95%E4%BD%8D%E5%88%B6%E4%B8%BA%E5%8D%95%E4%BD%8D">Sin: 正弦值。输入值必须以弧度单位制为单位。</a></li>
      <li><a href="#asin-%E5%8F%8D%E6%AD%A3%E5%BC%A6%E5%81%87%E8%AE%BE%E8%BE%93%E5%85%A5%E5%80%BC%E5%9C%A8-11%E8%8C%83%E5%9B%B4%E5%86%85%E7%BB%93%E6%9E%9C%E5%80%BC%E5%B0%86%E5%9C%A8-%CF%80-2%CF%80-2%E8%8C%83%E5%9B%B4%E5%86%85">ASin: 反正弦。假设输入值在[-1,1]范围内，结果值将在[-π/ 2，π/ 2]范围内。</a></li>
      <li><a href="#sinh-%E5%8F%8C%E6%9B%B2%E6%AD%A3%E5%BC%A6%E5%80%BC%E8%BE%93%E5%85%A5%E5%80%BC%E5%BF%85%E9%A1%BB%E4%BB%A5%E5%BC%A7%E5%BA%A6%E5%8D%95%E4%BD%8D%E5%88%B6%E4%B8%BA%E5%8D%95%E4%BD%8D">Sinh: 双曲正弦值。输入值必须以弧度单位制为单位。</a></li>
      <li><a href="#atan-%E5%8F%8D%E6%AD%A3%E5%88%87%E5%80%BC%E7%BB%93%E6%9E%9C%E5%80%BC%E5%B0%86%E5%9C%A8-%CF%80-2%CF%80-2%E8%8C%83%E5%9B%B4%E5%86%85">ATan: 反正切值。结果值将在[-π/ 2，π/ 2]范围内。</a></li>
      <li><a href="#atan2-%E8%BE%93%E5%87%BA%E9%99%A4%E6%B3%95a--b%E7%9A%84%E5%8F%8D%E6%AD%A3%E5%88%87%E5%A6%82%E6%9E%9Cba%E5%AE%9A%E4%B9%89%E4%BA%86xy%E5%90%91%E9%87%8F%E5%88%99%E4%BD%BF%E7%94%A8%E6%AD%A4%E8%BF%90%E7%AE%97%E7%AC%A6%E8%BF%94%E5%9B%9E%E5%AE%83%E4%B8%8Ex%E8%BD%B4%E7%9A%84%E5%BC%A7%E5%BA%A6%E8%A7%92">ATan2: 输出除法A <strong>/</strong> B的反正切。如果（B，A）定义了（x，y）向量，则使用此运算符返回它与x轴的弧度角。</a></li>
      <li><a href="#tanh-%E5%8F%8C%E6%9B%B2%E6%AD%A3%E5%88%87%E5%80%BC%E8%BE%93%E5%85%A5%E5%80%BC%E5%BF%85%E9%A1%BB%E4%BB%A5%E5%BC%A7%E5%BA%A6%E5%8D%95%E4%BD%8D%E5%88%B6%E4%B8%BA%E5%8D%95%E4%BD%8D">Tanh： 双曲正切值。输入值必须以弧度单位制为单位。</a></li>
      <li><a href="#tan-%E6%AD%A3%E5%88%87%E8%AE%A1%E7%AE%97%E5%9C%A8%E5%85%B6input%E4%B8%8A%E6%8C%87%E5%AE%9A%E7%9A%84%E5%80%BC%E7%9A%84%E5%88%87%E7%BA%BF%E8%BE%93%E5%85%A5%E5%80%BC%E5%BF%85%E9%A1%BB%E4%BB%A5%E5%BC%A7%E5%BA%A6%E5%8D%95%E4%BD%8D%E5%88%B6%E4%B8%BA%E5%8D%95%E4%BD%8D">Tan: 正切。计算在其Input上指定的值的切线。输入值必须以弧度单位制为单位。</a></li>
    </ul>
  </li>
  <li><a href="#camera-and-screen-%E6%91%84%E5%83%8F%E6%9C%BA%E5%92%8C%E5%B1%8F%E5%B9%95">Camera And Screen: 摄像机和屏幕</a>
    <ul>
      <li><a href="#camera-depth-fade-%E6%91%84%E5%83%8F%E6%9C%BA%E6%B7%B1%E5%BA%A6%E6%B7%A1%E5%85%A5%E6%B7%A1%E5%87%BA">Camera Depth Fade: 摄像机深度淡入淡出</a></li>
      <li><a href="#clip-planes-%E8%A3%81%E5%89%AA%E5%B9%B3%E9%9D%A2">Clip Planes: 裁剪平面</a></li>
      <li><a href="#compute-grap-screen-pos-%E8%AE%A1%E7%AE%97%E9%A1%B6%E7%82%B9%E5%9C%A8%E5%B1%8F%E5%B9%95%E7%A9%BA%E9%97%B4%E7%9A%84%E4%BD%8D%E7%BD%AE">Compute Grap Screen Pos: 计算顶点在屏幕空间的位置</a></li>
      <li><a href="#compute-screen-pos-%E8%AE%A1%E7%AE%97%E5%B1%8F%E5%B9%95%E5%9D%90%E6%A0%87">Compute Screen Pos: 计算屏幕坐标</a></li>
      <li><a href="#dither-%E6%8A%96%E5%8A%A8">Dither： 抖动</a></li>
      <li><a href="#grab_screen_color-%E6%8A%93%E5%8F%96%E5%B1%8F%E5%B9%95%E9%A2%9C%E8%89%B2">Grab_Screen_Color: 抓取屏幕颜色</a></li>
      <li><a href="#grap-screen-pos-%E6%8A%93%E5%8F%96%E5%B1%8F%E5%B9%95%E4%BD%8D%E7%BD%AE">Grap Screen Pos: 抓取屏幕位置</a></li>
      <li><a href="#ortho-params-%E6%AD%A3%E4%BA%A4%E5%8F%82%E6%95%B0">Ortho Params： 正交参数</a></li>
      <li><a href="#projection-matrices-%E6%8A%95%E5%BD%B1%E7%9F%A9%E9%98%B5-%E6%8A%95%E5%BD%B1%E9%80%86%E7%9F%A9%E9%98%B5">Projection Matrices: 投影矩阵, 投影逆矩阵</a></li>
      <li><a href="#projection-params-%E6%8A%95%E5%BD%B1%E5%8F%82%E6%95%B0">Projection Params: 投影参数</a></li>
      <li><a href="#screen-depth-%E5%B1%8F%E5%B9%95%E6%B7%B1%E5%BA%A6">Screen Depth: 屏幕深度</a></li>
      <li><a href="#screen-params-%E5%B1%8F%E5%B9%95%E5%8F%82%E6%95%B0">Screen Params: 屏幕参数</a></li>
      <li><a href="#screen-position-%E5%B1%8F%E5%B9%95%E4%BD%8D%E7%BD%AE">Screen Position: 屏幕位置</a></li>
      <li><a href="#view-dir-%E8%A7%86%E5%9B%BE%E6%96%B9%E5%90%91">View Dir: 视图方向</a></li>
      <li><a href="#world-space-camera-pos-%E7%9B%B8%E6%9C%BA%E5%9C%A8%E4%B8%96%E7%95%8C%E7%A9%BA%E9%97%B4%E4%B8%AD%E7%9A%84%E4%BD%8D%E7%BD%AE">World Space Camera Pos: 相机在世界空间中的位置</a></li>
      <li><a href="#z-buffer-params-z%E7%BC%93%E5%86%B2%E5%8C%BA%E5%8F%82%E6%95%B0">Z Buffer Params: Z缓冲区参数</a></li>
    </ul>
  </li>
  <li><a href="#constants-and-properties-%E5%B8%B8%E9%87%8F%E5%92%8C%E5%B1%9E%E6%80%A7">Constants And Properties: 常量和属性</a>
    <ul>
      <li><a href="#gradient-%E6%B8%90%E5%8F%98">Gradient: 渐变</a></li>
      <li><a href="#pi-%CF%80">PI: π</a></li>
      <li><a href="#tau-2%CF%80">Tau: 2π</a></li>
    </ul>
  </li>
  <li><a href="#functions-%E5%87%BD%E6%95%B0">Functions: 函数</a>
    <ul>
      <li><a href="#blinnphonglightwrap-blinnphong%E5%85%89%E7%85%A7">BlinnPhongLightWrap: BlinnPhong光照</a></li>
      <li><a href="#box-mask-%E7%9B%92%E5%AD%90%E9%81%AE%E7%BD%A9">Box Mask: 盒子遮罩</a></li>
      <li><a href="#burn-effect-%E7%87%83%E7%83%A7%E7%86%94%E5%B2%A9%E6%95%88%E6%9E%9C">Burn Effect: 燃烧、熔岩效果</a></li>
      <li><a href="#color-mask-%E9%A2%9C%E8%89%B2%E8%BF%87%E6%BB%A4">Color Mask: 颜色过滤</a></li>
      <li><a href="#constant-bias-scale-%E6%81%92%E5%AE%9A%E5%81%8F%E7%A7%BB%E5%92%8C%E7%BC%A9%E6%94%BE">Constant Bias Scale: 恒定偏移和缩放</a></li>
      <li><a href="#cool-wave-%E6%B3%A2">Cool Wave: 波</a></li>
      <li><a href="#cotangent-frame-%E4%BD%99%E5%88%87">Cotangent Frame: 余切</a></li>
      <li><a href="#decode-directional-lighmap-%E8%A7%A3%E7%A0%81%E6%96%B9%E5%90%91%E5%9B%BE">Decode Directional Lighmap: 解码方向图</a></li>
      <li><a href="#derive-tangent-basis-%E5%AF%BC%E5%87%BA%E5%88%87%E7%BA%BF%E7%9F%A9%E9%98%B5">Derive Tangent Basis: 导出切线矩阵</a></li>
      <li><a href="#detail-aldedo-2%E4%B8%AA%E9%A2%9C%E8%89%B2%E8%9E%8D%E5%90%88">Detail Aldedo: 2个颜色融合</a></li>
      <li><a href="#"></a></li>
    </ul>
  </li>
  <li><a href="#textures-%E8%B4%B4%E5%9B%BE">Textures: 贴图</a>
    <ul>
      <li><a href="#blend-normals-%E6%B7%B7%E5%90%88%E6%B3%95%E7%BA%BF">Blend Normals: 混合法线</a></li>
      <li><a href="#heightmap-texture-blend-%E9%AB%98%E5%BA%A6%E8%B4%B4%E5%9B%BE%E6%B7%B7%E5%90%88">HeightMap Texture Blend: 高度贴图混合</a></li>
      <li><a href="#texel-size-%E8%B4%B4%E5%9B%BE%E5%A4%A7%E5%B0%8F">Texel Size: 贴图大小</a></li>
      <li><a href="#texture-array-%E7%BA%B9%E7%90%86%E9%98%B5%E5%88%97">Texture Array： 纹理阵列</a></li>
      <li><a href="#texture-sample-%E8%B4%B4%E5%9B%BE%E9%87%87%E6%A0%B7">Texture Sample: 贴图采样</a></li>
      <li><a href="#texture-transform-%E8%AE%BE%E7%BD%AE%E7%BA%B9%E7%90%86%E5%B9%B3%E9%93%BA%E5%92%8C%E5%81%8F%E7%A7%BB">Texture Transform: 设置纹理平铺和偏移</a></li>
      <li><a href="#unpackscalenormal--%E8%A7%A3%E6%B3%95%E7%BA%BF%E8%B4%B4%E5%9B%BE-%E5%B9%B6%E4%B8%94%E4%B9%98%E4%B8%80%E4%B8%AA%E5%80%BC">UnpackScaleNormal : 解法线贴图， 并且乘一个值</a></li>
    </ul>
  </li>
  <li><a href="#uv-coordinates-uv%E5%9D%90%E6%A0%87">UV Coordinates: UV坐标</a>
    <ul>
      <li><a href="#texture-coordinates-%E8%B4%B4%E5%9B%BEuv%E5%9D%90%E6%A0%87">Texture Coordinates: 贴图UV坐标</a></li>
      <li><a href="#rotator-uv%E6%97%8B%E8%BD%AC">Rotator: UV旋转</a></li>
      <li><a href="#pixelate-uv-%E5%83%8F%E7%B4%A0%E7%94%BBuv">Pixelate UV: 像素画UV</a></li>
      <li><a href="#panner-uv%E5%B9%B3%E7%A7%BB">Panner: UV平移</a></li>
      <li><a href="#bidirectional-parallax-mapping">Bidirectional Parallax Mapping</a></li>
      <li><a href="#filpbook-uv-animation-uv-%E5%BA%8F%E5%88%97%E5%B8%A7%E5%8A%A8%E7%94%BB">Filpbook UV Animation: UV 序列帧动画</a></li>
      <li><a href="#parallax-mapping-%E8%A7%86%E5%B7%AE%E6%98%A0%E5%B0%84">Parallax Mapping: 视差映射</a></li>
      <li><a href="#parallax-occlusion-mapping-%E8%A7%86%E5%B7%AE%E9%81%AE%E6%8C%A1%E8%B4%B4%E5%9B%BE">Parallax Occlusion Mapping： 视差遮挡贴图</a></li>
      <li><a href="#parallax-offset-%E8%A7%86%E5%AF%9F%E5%81%8F%E7%A7%BB">Parallax Offset： 视察偏移</a></li>
    </ul>
  </li>
  <li><a href="#logical-operators-%E9%80%BB%E8%BE%91%E6%93%8D%E4%BD%9C">Logical Operators: 逻辑操作</a>
    <ul>
      <li><a href="#compare-ab--%E6%AF%94%E8%BE%83-ab">Compare (A&lt;B) : 比较 A&lt;B</a></li>
      <li><a href="#compare-ab--%E6%AF%94%E8%BE%83-ab">Compare (A==B) : 比较 A==B</a></li>
      <li><a href="#compare-ab--%E6%AF%94%E8%BE%83-ab">Compare (A&gt;B) : 比较 A&gt;B</a></li>
      <li><a href="#compare-ab--%E6%AF%94%E8%BE%83-ab-1">Compare (A&gt;B) : 比较 A&gt;B</a></li>
      <li><a href="#compare-a-%E2%89%A0b--%E6%AF%94%E8%BE%83-ab">Compare (A ≠B) : 比较 A!=B</a></li>
      <li><a href="#compare-ab--%E6%AF%94%E8%BE%83-ab">Compare (A&lt;=B) : 比较 A&lt;=B</a></li>
      <li><a href="#compare-ab--%E6%AF%94%E8%BE%83-ab">Compare (A&gt;=B) : 比较 A&gt;=B</a></li>
      <li><a href="#compare-with-range-%E6%AF%94%E8%BE%83%E8%8C%83%E5%9B%B4">Compare With Range: 比较范围</a></li>
      <li><a href="#debug-switch-%E8%B0%83%E8%AF%95%E9%80%89%E6%8B%A9%E4%BD%BF%E7%94%A8%E6%9F%90%E4%B8%AA%E8%BE%93%E5%85%A5%E5%8F%82%E6%95%B0">Debug Switch: 调试，选择使用某个输入参数</a></li>
      <li><a href="#if-%E6%9D%A1%E4%BB%B6">if: 条件</a></li>
      <li></li>
      <li><a href="#material-quality-%E6%9D%90%E8%B4%A8%E7%90%83%E8%B4%A8%E9%87%8F">Material Quality: 材质球质量</a></li>
      <li><a href="#static-switch--%E5%AE%8F%E6%9D%A1%E4%BB%B6%E5%AE%9A%E4%B9%89%E5%8F%98%E9%87%8F">Static Switch:  宏条件定义变量</a></li>
      <li><a href="#template-multi-pass-switch-%E8%AE%BE%E7%BD%AE%E4%B8%8D%E5%90%8Cpass%E5%8F%82%E6%95%B0">Template Multi-Pass Switch： 设置不同Pass参数</a></li>
      <li><a href="#toggle-switch0-2%E4%B8%AA%E5%80%BC%E7%9B%B4%E6%8E%A5%E5%88%87%E6%8D%A2%E5%BC%80%E5%85%B3">Toggle Switch0: 2个值直接切换开关</a></li>
    </ul>
  </li>
  <li><a href="#matrix-operators-%E7%9F%A9%E9%98%B5%E6%93%8D%E4%BD%9C">Matrix Operators: 矩阵操作</a>
    <ul>
      <li><a href="#determinant-%E8%A1%8C%E5%88%97%E5%BC%8F">Determinant: 行列式</a></li>
      <li><a href="#inverse-%E9%80%86%E7%9F%A9%E9%98%B5">Inverse: 逆矩阵</a></li>
      <li><a href="#matrix-from-vectors-%E7%94%B1%E5%A4%9A%E4%B8%AA%E5%90%91%E9%87%8F%E7%BB%84%E6%88%90%E7%9F%A9%E9%98%B5">Matrix From Vectors: 由多个向量组成矩阵</a></li>
      <li><a href="#position-from-transform-%E8%AF%BB%E5%8F%96%E7%9F%A9%E9%98%B5%E7%9A%84%E4%BD%8D%E7%BD%AE">Position From Transform： 读取矩阵的位置</a></li>
      <li><a href="#transpose-%E8%BD%AC%E7%BD%AE">Transpose: 转置</a></li>
      <li><a href="#vector-from-matrix-%E8%AF%BB%E5%8F%96%E7%9F%A9%E9%98%B5%E4%B8%AD%E7%9A%84%E4%B8%80%E8%A1%8C%E6%88%96%E8%80%85%E4%B8%80%E5%88%97%E7%BB%84%E6%88%90%E4%B8%80%E4%B8%AA%E5%90%91%E9%87%8F">Vector From Matrix: 读取矩阵中的一行或者一列组成一个向量</a></li>
    </ul>
  </li>
  <li><a href="#matrix-transform-%E8%BD%AC%E6%8D%A2%E7%9F%A9%E9%98%B5">Matrix Transform: 转换矩阵</a>
    <ul>
      <li><a href="#camera-to-world-matrix-%E6%91%84%E5%83%8F%E6%9C%BA%E8%BD%AC%E4%B8%96%E7%95%8C%E7%9F%A9%E9%98%B5-unity_cameratoworld">Camera To World Matrix： 摄像机转世界矩阵, unity_CameraToWorld</a></li>
      <li><a href="#object-to-world-matrix-%E6%A8%A1%E5%9E%8B%E5%AF%B9%E8%B1%A1%E8%BD%AC%E4%B8%96%E7%95%8C%E7%9F%A9%E9%98%B5-unity_objecttoworld">Object To World Matrix: 模型对象转世界矩阵, unity_ObjectToWorld</a></li>
      <li><a href="#world-to-camera-matrix-%E4%B8%96%E7%95%8C%E8%BD%AC%E6%91%84%E5%83%8F%E6%9C%BA%E7%9F%A9%E9%98%B5-unity_worldtocamera">World To Camera Matrix: 世界转摄像机矩阵， unity_WorldToCamera</a></li>
      <li><a href="#world-to-object-matrix-%E4%B8%96%E7%95%8C%E8%BD%AC%E6%A8%A1%E5%9E%8B%E5%AF%B9%E8%B1%A1%E7%9F%A9%E9%98%B5-unity_worldtoobject">World To Object Matrix: 世界转模型对象矩阵, unity_WorldToObject</a></li>
      <li><a href="#world-to-tangent-matrix-%E4%B8%96%E7%95%8C%E8%BD%AC%E5%88%87%E7%BA%BF%E7%9F%A9%E9%98%B5">World To Tangent Matrix: 世界转切线矩阵</a></li>
      <li><a href="#transpose-model-view-matrix-%E8%BD%AC%E7%BD%AE%E6%A8%A1%E5%9E%8B%E8%A7%86%E5%9B%BE%E7%9F%A9%E9%98%B5%E8%8A%82%E7%82%B9-unity_matrix_t_mv">Transpose Model View Matrix： 转置模型视图矩阵节点， UNITY_MATRIX_T_MV</a></li>
      <li><a href="#model-matrix-%E6%A8%A1%E5%9E%8B%E7%9F%A9%E9%98%B5-unity_matrix_m">Model Matrix: 模型矩阵, UNITY_MATRIX_M</a></li>
      <li><a href="#view-matrix-%E8%A7%86%E5%9B%BE%E7%9F%A9%E9%98%B5-unity_matrix_v">View Matrix: 视图矩阵, UNITY_MATRIX_V</a></li>
      <li><a href="#projection-matrix%E6%8A%95%E5%BD%B1%E7%9F%A9%E9%98%B5-unity_matrix_p">Projection Matrix：投影矩阵, UNITY_MATRIX_P</a></li>
      <li><a href="#model-view-matrix-%E6%A8%A1%E5%9E%8B%E8%A7%86%E5%9B%BE%E7%9F%A9%E9%98%B5unity_matrix_mv">Model View Matrix: 模型视图矩阵，UNITY_MATRIX_MV</a></li>
      <li><a href="#view-projection-matrix-%E8%A7%86%E5%9B%BE%E6%8A%95%E5%BD%B1%E7%9F%A9%E9%98%B5-unity_matrix_vp">View Projection Matrix: 视图投影矩阵, UNITY_MATRIX_VP</a></li>
      <li><a href="#model-view-projection-matrix%E6%A8%A1%E5%9E%8B%E8%A7%86%E5%9B%BE%E6%8A%95%E5%BD%B1%E7%9F%A9%E9%98%B5-unityobjecttoclipposvvertex">Model View Projection Matrix：模型视图投影矩阵, UnityObjectToClipPos(v.vertex)</a></li>
      <li><a href="#projector-matrix-%E6%8A%95%E5%BD%B1%E4%BB%AA%E7%9F%A9%E9%98%B5-%E8%B4%B4%E8%8A%B1-unity_projector">Projector Matrix: 投影仪矩阵 贴花, unity_Projector</a></li>
      <li><a href="#projector-clip-matrix-%E6%8A%95%E5%BD%B1%E8%A3%81%E5%89%AA%E7%9F%A9%E9%98%B5unity_projectorclip">Projector Clip Matrix： 投影裁剪矩阵，unity_ProjectorClip</a></li>
      <li><a href="#inverse-view-matrix%E8%A7%86%E5%9B%BE%E9%80%86%E7%9F%A9%E9%98%B5-unity_matrix_i_v">Inverse View Matrix：视图逆矩阵， UNITY_MATRIX_I_V</a></li>
      <li><a href="#inverse-transpose-model-view-matrix-%E6%A8%A1%E5%9E%8B%E8%A7%86%E5%9B%BE%E8%BD%AC%E7%BD%AE%E9%80%86%E7%9F%A9%E9%98%B5-unity_matrix_it_mv">Inverse Transpose Model View Matrix: 模型视图转置逆矩阵, UNITY_MATRIX_IT_MV</a></li>
      <li><a href="#inverse-projection-matrix-%E6%8A%95%E5%BD%B1%E9%80%86%E7%9F%A9%E9%98%B5">Inverse Projection Matrix: 投影逆矩阵</a></li>
      <li><a href="#inverse-view-projection-matrix-%E8%A7%86%E5%9B%BE%E6%8A%95%E5%BD%B1%E9%80%86%E7%9F%A9%E9%98%B5">Inverse View Projection Matrix: 视图投影逆矩阵</a></li>
      <li><a href="#common-transform-matrices-%E9%80%9A%E7%94%A8%E7%9F%A9%E9%98%B5">Common Transform Matrices： 通用矩阵</a></li>
    </ul>
  </li>
  <li><a href="#object-transform-%E7%A9%BA%E9%97%B4%E8%BD%AC%E6%8D%A2">Object Transform: 空间转换</a>
    <ul>
      <li><a href="#object-space-view-dir%E8%BF%94%E5%9B%9E%E4%BB%8E%E5%BD%93%E5%89%8D%E6%B8%B8%E6%88%8F%E5%AF%B9%E8%B1%A1%E5%88%B0%E6%91%84%E5%83%8F%E6%9C%BA%E7%9A%84%E6%96%B9%E5%90%91float3-v3--objspaceviewdirv4">Object Space View Dir：返回从当前游戏对象到摄像机的方向。float3 v3 = ObjSpaceViewDir(v4)</a></li>
      <li><a href="#object-to-clip-pos-%E5%B0%86%E5%AF%B9%E8%B1%A1%E5%B1%80%E9%83%A8%E7%A9%BA%E9%97%B4%E4%B8%AD%E7%9A%84%E4%BD%8D%E7%BD%AE%E8%BD%AC%E6%8D%A2%E4%B8%BA%E5%90%8C%E7%B1%BB%E5%9D%90%E6%A0%87%E4%B8%AD%E7%9B%B8%E6%9C%BA%E7%9A%84%E5%89%AA%E8%BE%91%E7%A9%BA%E9%97%B4-float4-v4--unityobjecttoclipposv3">Object To Clip Pos: 将对象/局部空间中的位置转换为同类坐标中相机的剪辑空间。 float4 v4 = UnityObjectToClipPos(v3)</a></li>
      <li><a href="#object-to-view-pos-%E8%BD%AC%E6%8D%A2%E4%B8%BA%E7%9B%B8%E6%9C%BA%E7%9A%84%E8%A7%86%E5%9B%BE%E7%A9%BA%E9%97%B4-float3-v3--unityobjecttoviewposv3">Object To View Pos: 转换为相机的视图空间, float3 v3 = UnityObjectToViewPos(v3)</a></li>
      <li><a href="#object-to-world-%E4%BB%8E%E5%AF%B9%E8%B1%A1%E6%9C%AC%E5%9C%B0%E7%A9%BA%E9%97%B4%E8%BD%AC%E6%8D%A2%E4%B8%BA%E4%B8%96%E7%95%8C%E7%A9%BA%E9%97%B4-float4-transform--mulunity_objecttoworldfloat4-vvertexxyz--00-">Object To World: 从“对象/本地空间”转换为“世界空间”, float4 transform = mul(unity_ObjectToWorld,float4( v.vertex.xyz , 0.0 ));</a></li>
      <li><a href="#world-space-view-dir-%E8%BF%94%E5%9B%9E%E4%BB%8E%E5%BD%93%E5%89%8D%E6%B8%B8%E6%88%8F%E5%AF%B9%E8%B1%A1%E5%88%B0%E6%91%84%E5%83%8F%E6%9C%BA%E7%9A%84%E6%96%B9%E5%90%91float3-v3--worldspaceviewdirv4">World Space View Dir: 返回从当前游戏对象到摄像机的方向。float3 v3 = WorldSpaceViewDir(v4)</a></li>
      <li><a href="#world-to-object-%E4%B8%96%E7%95%8C%E7%A9%BA%E9%97%B4%E8%BD%AC%E6%8D%A2%E4%B8%BA%E5%AF%B9%E8%B1%A1%E5%B1%80%E9%83%A8%E7%A9%BA%E9%97%B4float4-transform--mulunity_worldtoobjectfloat4-worldpos--00-">World To Object: “世界空间”转换为“对象/局部空间”。float4 transform = mul(unity_WorldToObject,float4( worldPos , 0.0 ));</a></li>
      <li><a href="#world-transform-params-%E4%B8%96%E7%95%8C%E5%8F%98%E6%8D%A2%E5%8F%82%E6%95%B0-float4-unity_worldtransformparams">World Transform Params: 世界变换参数， float4 unity_WorldTransformParams</a></li>
      <li><a href="#transform-position-%E5%8F%98%E6%8D%A2%E4%BD%8D%E7%BD%AE-%E4%B8%8D%E5%90%8C%E7%A9%BA%E9%97%B4%E8%BD%AC%E6%8D%A2">Transform Position: 变换位置, 不同空间转换</a>
        <ul>
          <li><a href="#object-to-world">Object To World</a></li>
          <li><a href="#object-to-view">Object To View</a></li>
          <li><a href="#object-to-tangent">Object To Tangent</a></li>
          <li><a href="#object-to-clip">Object To Clip</a></li>
          <li><a href="#object-to-clip-perpective-divide">Object To Clip， Perpective Divide</a></li>
          <li><a href="#world-to-object">World To Object</a></li>
          <li><a href="#world-to-view">World To View</a></li>
          <li><a href="#world-to-tangent">World To Tangent</a></li>
          <li><a href="#world-to-clip">World To Clip</a></li>
          <li><a href="#world-to-clip-perpective-divide">World To Clip， Perpective Divide</a></li>
          <li><a href="#view-to-object">View To Object</a></li>
          <li><a href="#view-to-world">View To World</a></li>
          <li><a href="#view-to-tangent">View To Tangent</a></li>
          <li><a href="#view-to-clip">View To Clip</a></li>
          <li><a href="#view-to-clip-perpective-divide">View To Clip， Perpective Divide</a></li>
          <li><a href="#tangent-to-object--inverse-tbn-faset-%E5%BF%AB%E9%80%9F%E7%9A%84">Tangent To Object,  Inverse TBN: Faset 快速的</a></li>
          <li><a href="#tangent-to-object--inverse-tbn-precise-%E7%B2%BE%E7%A1%AE%E7%9A%84">Tangent To Object,  Inverse TBN: Precise 精确的</a></li>
          <li><a href="#tangent-to-world">Tangent To World</a></li>
          <li><a href="#tangent-to-view">Tangent To View</a></li>
          <li><a href="#tangent-to-clip">Tangent To Clip</a></li>
        </ul>
      </li>
    </ul>
  </li>
  <li><a href="#light-%E7%81%AF%E5%85%89">Light: 灯光</a>
    <ul>
      <li><a href="#blinn-phong-light-blinn-phong-%E5%85%89%E7%85%A7%E6%A8%A1%E5%9E%8B">Blinn-Phong Light: Blinn-Phong 光照模型</a></li>
      <li><a href="#fog-and-ambient-colors-%E9%9B%BE%E5%92%8C%E7%8E%AF%E5%A2%83%E5%85%89%E9%A2%9C%E8%89%B2">Fog And Ambient Colors： 雾和环境光颜色</a></li>
      <li><a href="#fog-params-%E9%9B%BE%E5%8F%82%E6%95%B0">Fog Params: 雾参数</a></li>
      <li><a href="#indirect-diffuse-light-%E9%97%B4%E6%8E%A5%E6%BC%AB%E5%8F%8D%E5%B0%84">Indirect Diffuse Light: 间接漫反射</a></li>
      <li><a href="#indirect-specular-light-%E9%97%B4%E6%8E%A5%E9%95%9C%E9%9D%A2%E7%85%A7%E6%98%8E">Indirect Specular Light: 间接镜面照明</a></li>
      <li><a href="#light-attenuation-%E7%81%AF%E5%85%89%E9%98%B4%E5%BD%B1">Light Attenuation: 灯光阴影</a></li>
      <li><a href="#light-color-%E7%81%AF%E5%85%89%E9%A2%9C%E8%89%B2">Light Color: 灯光颜色</a></li>
      <li><a href="#object-space-light-dir-%E5%AF%B9%E8%B1%A1%E7%A9%BA%E9%97%B4%E7%81%AF%E5%85%89%E6%96%B9%E5%90%91-float3-v3--objspacelightdirv4">Object Space Light Dir: 对象空间灯光方向 float3 v3 = ObjSpaceLightDir(v4)</a></li>
      <li><a href="#world-space-light-dir-%E4%B8%96%E7%95%8C%E7%A9%BA%E9%97%B4%E7%81%AF%E5%85%89%E6%96%B9%E5%90%91">World Space Light Dir: 世界空间灯光方向</a></li>
      <li><a href="#world-space-light-pos-%E7%81%AF%E5%85%89%E4%BF%A1%E6%81%AF%E4%BD%8D%E7%BD%AE%E6%96%B9%E5%90%91-%E7%B1%BB%E5%9E%8B-_worldspacelightpos0">World Space Light Pos: 灯光信息（位置/方向， 类型） _WorldSpaceLightPos0</a></li>
      <li><a href="#shade-vertex-lights-%E9%98%B4%E5%BD%B1%E9%A1%B6%E7%82%B9%E7%81%AF">Shade Vertex Lights: 阴影顶点灯</a></li>
      <li><a href="#standard-surface-light-%E6%A0%87%E5%87%86%E8%A1%A8%E9%9D%A2%E5%85%89">Standard Surface Light: 标准表面光</a></li>
    </ul>
  </li>
  <li><a href="#surface-data-%E8%A1%A8%E9%9D%A2%E6%95%B0%E6%8D%AE">Surface Data: 表面数据</a>
    <ul>
      <li><a href="#bling-phong-half-vector-%E4%B8%96%E7%95%8C%E5%9D%90%E6%A0%87%E7%B3%BB-%E8%A7%86%E8%A7%92%E5%92%8C%E7%81%AF%E5%85%89%E6%96%B9%E5%90%91%E4%B9%8B%E5%92%8Cnormalize-worldviewdir--worldspacelightdir--">Bling-Phong Half Vector: 世界坐标系， 视角和灯光方向之和。normalize( worldViewDir + worldSpaceLightDir  )</a></li>
      <li><a href="#depth-fade-%E6%B7%B1%E5%BA%A6%E6%B7%A1%E5%85%A5%E6%B7%A1%E5%87%BA">Depth Fade: 深度淡入淡出</a></li>
      <li><a href="#fresnel-%E8%8F%B2%E6%B6%85%E8%80%B3">Fresnel: 菲涅耳</a></li>
      <li><a href="#half-lambert-term--%E4%B8%96%E7%95%8C%E6%B3%95%E7%BA%BF%E5%92%8C%E4%B8%96%E7%95%8C%E7%81%AF%E5%85%89%E6%96%B9%E5%90%91dot%E5%80%BC--05--05-dotworldnormal-worldspacelightdir--05--05">Half Lambert Term:  世界法线和世界灯光方向dot值 * 0.5 + 0.5。 dot(worldNormal, worldSpaceLightDir) * 0.5 + 0.5</a></li>
      <li><a href="#surface-depth-%E8%A1%A8%E9%9D%A2%E6%B7%B1%E5%BA%A6-eyedepth---unityobjecttoviewpos-vvertexxyz-z">Surface Depth: 表面深度。 eyeDepth = -UnityObjectToViewPos( v.vertex.xyz ).z</a></li>
      <li><a href="#template-fragment-data-%E6%A8%A1%E6%9D%BF%E7%89%87%E6%AE%B5%E6%95%B0%E6%8D%AE">Template Fragment Data: 模板片段数据</a></li>
      <li><a href="#template-local-var-data-%E6%A8%A1%E6%9D%BF%E6%9C%AC%E5%9C%B0%E5%8F%98%E9%87%8F%E6%95%B0%E6%8D%AE">Template Local Var Data: 模板本地变量数据</a></li>
      <li><a href="#world-bitangent-%E4%B8%96%E7%95%8C%E6%B3%95%E7%BA%BF%E5%92%8C%E5%88%87%E7%BA%BF%E5%9E%82%E7%9B%B4%E9%9D%A2%E6%96%B9%E5%90%91">World Bitangent: 世界法线和切线垂直面方向</a></li>
      <li><a href="#world-normal-%E4%B8%96%E7%95%8C%E6%B3%95%E7%BA%BF">World Normal: 世界法线</a></li>
      <li><a href="#world-position%E4%B8%96%E7%95%8C%E4%BD%8D%E7%BD%AE-float3-ase_worldpos--mulunity_objecttoworld-vvertexxyz">World Position:世界位置 float3 ase_worldPos = mul(unity_ObjectToWorld, v.vertex).xyz;</a></li>
      <li><a href="#world-reflection-%E4%B8%96%E7%95%8C%E5%8F%8D%E5%B0%84">World Reflection: 世界反射</a></li>
      <li><a href="#world-tangent-%E4%B8%96%E7%95%8C%E5%88%87%E7%BA%BF-float3-ase_worldtangent--unityobjecttoworlddirvase_tangent">World Tangent: 世界切线, float3 ase_worldTangent = UnityObjectToWorldDir(v.ase_tangent);</a></li>
    </ul>
  </li>
  <li><a href="#image-effects--%E5%9B%BE%E7%89%87%E6%95%88%E6%9E%9C">Image Effects : 图片效果</a>
    <ul>
      <li><a href="#blend-operations-%E6%B7%B7%E5%90%88%E6%93%8D%E4%BD%9C">Blend Operations: 混合操作</a>
        <ul>
          <li><a href="#color-burn">Color Burn</a></li>
          <li><a href="#color-dodge">Color Dodge</a></li>
          <li><a href="#darken">Darken</a></li>
          <li><a href="#divide">Divide</a></li>
          <li><a href="#difference">Difference</a></li>
          <li><a href="#exclusion">Exclusion</a></li>
          <li><a href="#soft-light">Soft Light</a></li>
          <li><a href="#hard-light">Hard Light</a></li>
          <li><a href="#hard-mix">Hard Mix</a></li>
          <li><a href="#lighten">Lighten</a></li>
          <li><a href="#linear-burn">Linear Burn</a></li>
          <li><a href="#linear-dodge">Linear Dodge</a></li>
          <li><a href="#linear-light">Linear Light</a></li>
          <li><a href="#multiply">Multiply</a></li>
          <li><a href="#overlay">Overlay</a></li>
          <li><a href="#pin-light">Pin Light</a></li>
          <li><a href="#subtract">Subtract</a></li>
          <li><a href="#screen">Screen</a></li>
          <li><a href="#vivid-light">Vivid Light</a></li>
        </ul>
      </li>
      <li><a href="#desaturate-%E5%8E%BB%E9%A5%B1%E5%92%8C%E5%BA%A6">Desaturate: 去饱和度</a></li>
      <li><a href="#grayscale-%E5%8E%BB%E8%89%B2-%E7%81%B0%E8%89%B2%E5%9B%BE">Grayscale: 去色, 灰色图</a></li>
      <li><a href="#luminance-%E5%8E%BB%E8%89%B2-%E4%BA%AE%E5%BA%A6%E5%9B%BE">Luminance: 去色, 亮度图</a></li>
      <li><a href="#gamma-to-linear-%E4%BC%BD%E9%A9%AC">Gamma To Linear: 伽马</a></li>
      <li><a href="#linear-to-gamma-%E4%BC%BD%E9%A9%AC">Linear To Gamma: 伽马</a></li>
      <li><a href="#rgb-to-hsv--rgb-%E8%BD%AC-hsv">RGB To HSV:  RGB 转 HSV</a></li>
      <li><a href="#hvs-to-rgb">HVS To RGB</a></li>
      <li><a href="#posterize-%E8%89%B2%E5%BD%A9%E5%88%86%E7%A6%BB">Posterize: 色彩分离</a></li>
      <li><a href="#simple-contrast-%E7%AE%80%E5%8D%95%E5%AF%B9%E6%AF%94%E5%BA%A6">Simple Contrast: 简单对比度</a></li>
    </ul>
  </li>
  <li><a href="#miscellaneous-%E5%85%B6%E4%BB%96">Miscellaneous: 其他</a>
    <ul>
      <li><a href="#billboard-%E5%B9%BF%E5%91%8A%E7%89%8C">Billboard: 广告牌</a></li>
      <li><a href="#checkerboard-%E6%A3%8B%E7%9B%98%E6%A0%BC%E7%BA%B9%E7%90%86">Checkerboard: 棋盘格纹理</a></li>
      <li><a href="#clip-%E4%B8%A2%E5%BC%83%E5%83%8F%E7%B4%A0">Clip: 丢弃像素</a></li>
      <li><a href="#color-space-double-%E5%8F%8C%E8%89%B2%E7%A9%BA%E9%97%B4-unity_colorspacedouble">Color Space Double: 双色空间, unity_ColorSpaceDouble</a></li>
      <li><a href="#decode-depth-normal-%E8%A7%A3%E7%A0%81%E6%B7%B1%E5%BA%A6%E6%B3%95%E7%BA%BF">Decode Depth Normal: 解码深度法线</a></li>
      <li><a href="#decode-lightmap-%E8%A7%A3%E7%A0%81%E5%85%89%E7%85%A7%E8%B4%B4%E5%9B%BE">Decode Lightmap: 解码光照贴图</a></li>
      <li><a href="#decode-float-rg-%E8%A7%A3%E7%A0%81%E6%B5%AE%E7%82%B9rg">Decode Float RG: <strong>解码浮点RG</strong></a></li>
      <li><a href="#encode-float-rg--%E7%BC%96%E7%A0%81float-rg">Encode Float RG:  <strong>编码Float RG</strong></a></li>
      <li><a href="#decodefloatrgba-%E8%A7%A3%E7%A0%81%E6%B5%AE%E7%82%B9rgba">DecodeFloatRGBA: <strong>解码浮点RGBA</strong></a></li>
      <li><a href="#encode-float-rgba--%E7%BC%96%E7%A0%81%E6%B5%AE%E7%82%B9rgba">Encode Float RGBA:  <strong>编码浮点RGBA</strong></a></li>
      <li><a href="#diffuse-and-specular-from-metallic-%E6%BC%AB%E5%8F%8D%E5%B0%84%E5%92%8C%E9%95%9C%E9%9D%A2%E5%8F%8D%E5%B0%84">Diffuse And Specular From Metallic: 漫反射和镜面反射</a></li>
      <li><a href="#distance-based-tessellation-%E5%9F%BA%E4%BA%8E%E8%B7%9D%E7%A6%BB%E7%9A%84%E9%95%B6%E5%B5%8C">Distance-based Tessellation: 基于距离的镶嵌</a></li>
      <li><a href="#edge-length-tessellation-%E8%BE%B9%E7%BC%98%E9%95%BF%E5%BA%A6%E7%BB%86%E5%88%86">Edge Length Tessellation: 边缘长度细分</a></li>
      <li><a href="#edge-length-tessellation-with-cull-%E5%B8%A6%E5%89%94%E9%99%A4%E8%8A%82%E7%82%B9%E7%9A%84%E8%BE%B9%E9%95%BF%E7%BB%86%E5%88%86">Edge Length Tessellation With Cull： 带剔除节点的边长细分</a></li>
      <li><a href="#register-local-var-get-local-var-%E6%B3%A8%E5%86%8C%E6%9C%AC%E5%9C%B0%E5%8F%98%E9%87%8F%E5%92%8C%E8%8E%B7%E5%8F%96%E5%8F%98%E5%BE%97%E5%8F%98%E9%87%8F">Register Local Var, Get Local Var： 注册本地变量和获取变得变量</a></li>
      <li><a href="#layered-blend-%E5%88%86%E5%B1%82%E6%B7%B7%E5%90%88">Layered Blend: 分层混合</a></li>
      <li><a href="#noise-generator-%E5%99%AA%E9%9F%B3%E4%BA%A7%E7%94%9F%E5%99%A8">Noise Generator: <strong>噪音产生器</strong></a></li>
      <li><a href="#noise-sine-wave">Noise Sine Wave:</a></li>
      <li><a href="#summed-blend-%E6%B1%82%E5%92%8C%E6%B7%B7%E5%90%88">Summed Blend: 求和混合</a></li>
      <li><a href="#switch-by-face-%E5%88%87%E6%8D%A2%E9%9D%A2-vface">Switch by Face: 切换面, VFACE</a></li>
      <li><a href="#vertex-to-fragment-%E4%BC%A0%E9%80%81%E5%8F%98%E9%87%8F-%E9%A1%B6%E7%82%B9-%E5%88%B0-%E7%89%87%E6%AE%B5">Vertex To Fragment: 传送变量， 顶点 到 片段</a></li>
      <li><a href="#voronoi--%E7%94%9F%E6%88%90%E6%B3%B0%E6%A3%AE%E5%A4%9A%E8%BE%B9%E5%BD%A2%E7%BA%B9%E7%90%86-%E6%B0%B4%E9%9D%A2%E6%B3%A2%E5%85%89%E7%B2%BC%E7%B2%BC">Voronoi:  生成泰森多边形纹理， 水面波光粼粼</a></li>
      <li><a href="#triangle-wave-%E4%B8%89%E8%A7%92%E6%B3%A2">Triangle Wave： 三角波</a></li>
      <li><a href="#square-wave-%E6%96%B9%E6%B3%A2">Square Wave: 方波</a></li>
      <li><a href="#sawtooh-wave">Sawtooh Wave:</a></li>
      <li><a href="#rounded-rectangle-%E5%9C%86%E8%A7%92%E7%9F%A9%E5%BD%A2">Rounded Rectangle: 圆角矩形</a></li>
      <li><a href="#rectangle-%E7%9F%A9%E5%BD%A2">Rectangle: 矩形</a></li>
      <li><a href="#polygon-%E5%A4%9A%E8%BE%B9%E5%BD%A2">Polygon: 多边形</a></li>
      <li><a href="#ellipse-%E6%A4%AD%E5%9C%86">Ellipse: 椭圆</a></li>
      <li><a href="#flow-%E6%B5%AE%E5%8A%A8%E5%8F%AF%E4%BB%A5%E5%81%9A%E4%BA%91%E5%BD%A9%E9%A3%98%E5%8A%A8">Flow: 浮动，可以做云彩飘动</a></li>
    </ul>
  </li>
  <li><a href="#%E6%80%BB%E7%BB%93">总结</a></li>
</ul>

<!-- END doctoc generated TOC please keep comment here to allow auto update -->

<h1 id="vertex-data-顶点数据">Vertex Data: 顶点数据</h1>

<h3 id="face-渲染面相对摄像机-正面或背面">Face: 渲染面相对摄像机 正面或背面</h3>

<p>如果渲染的表面面向摄影机，则“面”节点输出正值<strong>1</strong>；如果其背离摄影机，则输出负值<strong>-1</strong>。</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>		fixed4 frag (v2f i , half ase_vface : VFACE) : SV_Target
		{
		}
</code></pre></div></div>

<p>​			<img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/docimage/image-20200528233021046.png" alt="image-20200528233021046" /></p>

<h3 id="instance-id">Instance ID</h3>

<blockquote>
  <p>顶点ID</p>
</blockquote>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">unity_InstanceID</span><span class="p">;</span>
</code></pre></div></div>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/docimage/image-20200528233310894.png" alt="image-20200528233310894" /></p>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/docimage/image-20200528233406513.png" alt="image-20200528233406513" /></p>

<h3 id="object-scale-gameobject世界坐标系缩放">Object Scale: GameObject世界坐标系缩放</h3>

<blockquote>
  <p>GameObject的世界坐标系缩放，从模型世界坐标系矩阵里取</p>
</blockquote>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">float3</span> <span class="n">ase_objectScale</span> <span class="o">=</span> <span class="n">float3</span>
    <span class="p">(</span> 
        <span class="n">length</span><span class="p">(</span> <span class="n">unity_ObjectToWorld</span><span class="p">[</span> <span class="mi">0</span> <span class="p">].</span><span class="n">xyz</span> <span class="p">),</span> 
        <span class="n">length</span><span class="p">(</span> <span class="n">unity_ObjectToWorld</span><span class="p">[</span> <span class="mi">1</span> <span class="p">].</span><span class="n">xyz</span> <span class="p">),</span> 
        <span class="n">length</span><span class="p">(</span> <span class="n">unity_ObjectToWorld</span><span class="p">[</span> <span class="mi">2</span> <span class="p">].</span><span class="n">xyz</span> <span class="p">)</span> 
    <span class="p">);</span>
</code></pre></div></div>

<p>​</p>

<h3 id="primitive-id">Primitive ID</h3>

<blockquote>
  <p>顶点原始ID，用于曲面细分</p>
</blockquote>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>fixed4 frag (v2f i , uint ase_primitiveId : SV_PrimitiveID) : SV_Target
{

} ![image-20200528234227337](https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/docimage/image-20200528234227337.png)
</code></pre></div></div>

<h3 id="vertex-bitangent-顶点法线和切线的叉乘垂直方向">Vertex Bitangent: 顶点法线和切线的叉乘（垂直方向）</h3>

<blockquote>
  <p>顶点法线和切线的叉乘（垂直方向）</p>
</blockquote>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">float3</span> <span class="n">ase_vertexBitangent</span> <span class="o">=</span> <span class="n">cross</span><span class="p">(</span><span class="n">v</span><span class="p">.</span><span class="n">normal</span><span class="p">,</span><span class="n">v</span><span class="p">.</span><span class="n">tangent</span><span class="p">.</span><span class="n">xyz</span><span class="p">);</span>
</code></pre></div></div>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/docimage/image-20200528235919568.png" alt="image-20200528235919568" /></p>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/docimage/image-20200529000002953.png" alt="image-20200529000002953" /></p>

<h3 id="vertex-color-顶点颜色">Vertex Color: 顶点颜色</h3>

<blockquote>
  <p>顶点颜色 <strong>v.color;</strong></p>
</blockquote>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">struct</span> <span class="n">appdata</span>
<span class="p">{</span>
    <span class="n">float4</span> <span class="n">vertex</span> <span class="o">:</span> <span class="n">POSITION</span><span class="p">;</span>
    <span class="n">float4</span> <span class="n">color</span> <span class="o">:</span> <span class="n">COLOR</span><span class="p">;</span>
    <span class="n">UNITY_VERTEX_INPUT_INSTANCE_ID</span>

<span class="p">};</span>
    
<span class="n">v2f</span> <span class="nf">vert</span> <span class="p">(</span> <span class="n">appdata</span> <span class="n">v</span> <span class="p">)</span>
<span class="p">{</span>
    <span class="n">v</span><span class="p">.</span><span class="n">color</span><span class="p">;</span>
<span class="p">}</span>

</code></pre></div></div>

<h3 id="vertex-id">Vertex ID</h3>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">v2f</span> <span class="nf">vert</span> <span class="p">(</span> <span class="n">appdata</span> <span class="n">v</span> <span class="p">,</span> <span class="kt">uint</span> <span class="n">ase_vertexId</span> <span class="o">:</span> <span class="n">SV_VertexID</span><span class="p">)</span>
<span class="p">{</span>
<span class="p">}</span>
</code></pre></div></div>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/docimage/image-20200529001034546.png" alt="image-20200529001034546" /></p>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/docimage/image-20200529001136845.png" alt="image-20200529001136845" /></p>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/docimage/image-20200529001521897.png" alt="image-20200529001521897" /></p>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/docimage/image-20200529001502821.png" alt="image-20200529001502821" /></p>

<h3 id="vertex-normal-顶点法线">Vertex Normal： 顶点法线</h3>

<blockquote>
  <p>顶点法线</p>
</blockquote>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">struct</span> <span class="n">appdata</span>
<span class="p">{</span>
    <span class="n">float3</span> <span class="n">normal</span> <span class="o">:</span> <span class="n">NORMAL</span><span class="p">;</span>
<span class="p">};</span>
    
<span class="n">v</span><span class="p">.</span><span class="n">normal</span><span class="p">;</span>
</code></pre></div></div>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/docimage/image-20200529001630456.png" alt="image-20200529001630456" /></p>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/docimage/image-20200529001927893.png" alt="image-20200529001927893" /></p>

<h3 id="vertex-position顶点位置">Vertex Position：顶点位置</h3>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">struct</span> <span class="n">appdata</span>
<span class="p">{</span>
	<span class="n">float4</span> <span class="n">vertex</span> <span class="o">:</span> <span class="n">POSITION</span><span class="p">;</span>

<span class="p">};</span>

<span class="n">v</span><span class="p">.</span><span class="n">vertex</span><span class="p">;</span>
</code></pre></div></div>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/docimage/image-20200529002007576.png" alt="image-20200529002007576" /></p>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/docimage/image-20200529002123391.png" alt="image-20200529002123391" /></p>

<h3 id="vertex-tangent-顶点切线">Vertex Tangent: 顶点切线</h3>

<blockquote>
  <p>顶点切线</p>
</blockquote>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">struct</span> <span class="n">appdata</span>
<span class="p">{</span>
	<span class="n">float4</span> <span class="n">tangent</span> <span class="o">:</span> <span class="n">TANGENT</span><span class="p">;</span>
<span class="p">};</span>

<span class="n">v</span><span class="p">.</span><span class="n">tangent</span><span class="p">;</span>
</code></pre></div></div>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/docimage/image-20200529002234707.png" alt="image-20200529002234707" /></p>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/docimage/image-20200529002406609.png" alt="image-20200529002406609" /></p>

<h3 id="vertex-tangent-sign-顶点切线符号节点">Vertex Tangent Sign: 顶点切线符号节点</h3>

<p>“顶点切线符号”节点在对象空间中输出顶点切线符号，更具体地说，它输出其向量的W分量。如果连接到“顶点偏移”或“顶点法线”以外的端口，则输出插值。</p>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">float</span> <span class="n">ase_vertexTangentSign</span> <span class="o">=</span> <span class="n">v</span><span class="p">.</span><span class="n">tangent</span><span class="p">.</span><span class="n">w</span> <span class="o">*</span> <span class="n">unity_WorldTransformParams</span><span class="p">.</span><span class="n">w</span><span class="p">;</span>
</code></pre></div></div>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/docimage/image-20200529002531906.png" alt="image-20200529002531906" /></p>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/docimage/image-20200529002621636.png" alt="image-20200529002621636" /></p>

<p>Vertex TexCoord</p>

<p>顶点UV坐标</p>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">struct</span> <span class="n">appdata</span>
<span class="p">{</span>
	<span class="n">float4</span> <span class="n">texcoord</span> <span class="o">:</span> <span class="n">TEXCOORD0</span><span class="p">;</span>
<span class="p">};</span>

<span class="n">v</span><span class="p">.</span><span class="n">texcoord</span><span class="p">;</span>
</code></pre></div></div>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/docimage/image-20200529002704555.png" alt="image-20200529002704555" /></p>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/docimage/image-20200529002741270.png" alt="image-20200529002741270" /></p>

<h1 id="verctor-opertors-矢量操作">Verctor Opertors: 矢量操作</h1>

<h3 id="append-组合矢量">Append: 组合矢量</h3>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>float2 appendResult44 = (float2(v.vertex.xyz.x , v.color.r));
float4 appendResult37 = (float4(float3(0,1,0) , appendResult44.x));
</code></pre></div></div>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/docimage/image-20200529004921243.png" alt="image-20200529004921243" /></p>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/docimage/image-20200529004954253.png" alt="image-20200529004954253" /></p>

<h3 id="break-to-components--拆分矢量">Break To Components:  拆分矢量</h3>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">float3</span> <span class="n">break47</span> <span class="o">=</span> <span class="n">float3</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">);</span>
<span class="n">float2</span> <span class="n">appendResult50</span> <span class="o">=</span> <span class="p">(</span><span class="n">float2</span><span class="p">(</span><span class="n">break47</span><span class="p">.</span><span class="n">x</span> <span class="p">,</span> <span class="n">break47</span><span class="p">.</span><span class="n">z</span><span class="p">));</span>
</code></pre></div></div>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/docimage/image-20200529005554536.png" alt="image-20200529005554536" /></p>

<h3 id="component-mask-访问分量">Component Mask: 访问分量</h3>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>vertexValue = (float3(0,1,0)).xyz;
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>finalColor = float4( (float2( 0,0 )).xy, 0.0 , 0.0 );
</code></pre></div></div>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/docimage/image-20200529010529212.png" alt="image-20200529010529212" /></p>

<h3 id="create-orthogonal-vector-创建正交向量">Create Orthogonal Vector: 创建正交向量</h3>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="n">fixed4</span> <span class="n">finalColor</span><span class="p">;</span>
<span class="n">float3</span> <span class="n">right</span> <span class="o">=</span> <span class="n">normalize</span><span class="p">(</span> <span class="n">float3</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span> <span class="p">);</span>
<span class="n">float3</span> <span class="n">up</span> <span class="o">=</span> <span class="n">normalize</span><span class="p">(</span> <span class="n">float3</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span> <span class="p">);</span>
<span class="n">float3</span> <span class="n">front</span> <span class="o">=</span> <span class="n">normalize</span><span class="p">(</span> <span class="n">cross</span><span class="p">(</span> <span class="n">right</span> <span class="p">,</span> <span class="n">up</span> <span class="p">)</span> <span class="p">);</span>
<span class="n">float3</span> <span class="n">offset</span> <span class="o">=</span> <span class="n">mul</span>
    <span class="p">(</span> 
        <span class="n">float4x4</span>
        <span class="p">(</span>
            <span class="n">float4</span><span class="p">(</span> <span class="n">right</span> <span class="p">,</span> <span class="mi">0</span><span class="p">.</span><span class="mi">0</span> <span class="p">),</span> 
            <span class="n">float4</span><span class="p">(</span> <span class="n">cross</span><span class="p">(</span> <span class="n">front</span> <span class="p">,</span> <span class="n">right</span> <span class="p">)</span> <span class="p">,</span> <span class="mi">0</span><span class="p">.</span><span class="mi">0</span> <span class="p">),</span> 
            <span class="n">float4</span><span class="p">(</span> <span class="n">front</span> <span class="p">,</span> <span class="mi">0</span><span class="p">.</span><span class="mi">0</span> <span class="p">),</span> 
            <span class="n">float4</span><span class="p">(</span> <span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span> <span class="p">)</span>
        <span class="p">),</span> 
        <span class="n">float4</span><span class="p">(</span> <span class="n">i</span><span class="p">.</span><span class="n">ase_texcoord</span><span class="p">.</span><span class="n">xyz</span> <span class="p">,</span> <span class="mi">0</span><span class="p">.</span><span class="mi">0</span> <span class="p">)</span> 
    <span class="p">).</span><span class="n">xyz</span><span class="p">;</span>


<span class="n">finalColor</span> <span class="o">=</span> <span class="n">float4</span><span class="p">(</span> <span class="n">offset</span> <span class="p">,</span> <span class="mi">0</span><span class="p">.</span><span class="mi">0</span> <span class="p">);</span>
</code></pre></div></div>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/docimage/image-20200529012459794.png" alt="image-20200529012459794" /></p>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/docimage/image-20200529013730150.png" alt="image-20200529013730150" /></p>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/docimage/image-20200529014054806.png" alt="image-20200529014054806" /></p>

<p>Cross 叉乘 垂直面方向</p>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">cross</span><span class="p">(</span> <span class="n">float3</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span> <span class="p">,</span> <span class="n">float3</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span> <span class="p">);</span> <span class="c1">// float3(0, 0, 1)</span>
</code></pre></div></div>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/docimage/image-20200529014349659.png" alt="image-20200529014349659" /></p>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/docimage/image-20200529014506871.png" alt="image-20200529014506871" /></p>

<h3 id="distance-距离">Distance: 距离</h3>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">float</span> <span class="n">d</span> <span class="o">=</span> <span class="n">distance</span><span class="p">(</span> <span class="n">float3</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span> <span class="p">,</span> <span class="n">float3</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span> <span class="p">);</span>
</code></pre></div></div>

<h3 id="dot-点乘">Dot: 点乘</h3>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">float</span> <span class="n">d</span> <span class="o">=</span> <span class="n">dot</span><span class="p">(</span> <span class="n">float3</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span> <span class="p">,</span> <span class="n">float3</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span> <span class="p">);</span>
</code></pre></div></div>

<h3 id="length-长度">Length: 长度</h3>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">float</span> <span class="n">d</span> <span class="o">=</span> <span class="n">length</span><span class="p">(</span> <span class="n">float3</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">);</span>
</code></pre></div></div>

<h3 id="normalize-归一化">normalize: 归一化</h3>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">float3</span> <span class="n">n</span> <span class="o">=</span> <span class="n">normalize</span><span class="p">(</span> <span class="n">float3</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">.</span><span class="mo">01</span><span class="p">,</span><span class="mi">0</span><span class="p">.</span><span class="mi">36</span><span class="p">)</span> <span class="p">);</span>
</code></pre></div></div>

<h3 id="reflect-反射">reflect: 反射</h3>

<p>反射节点根据给定的<a href="http://wiki.amplify.pt/index.php?title=Unity_Products:Amplify_Shader_Editor/Reflect#paramIncident">入射</a>向量和表面<a href="http://wiki.amplify.pt/index.php?title=Unity_Products:Amplify_Shader_Editor/Reflect#paramNormal">法线</a>向量计算反射向量。在内部，反射向量是通过表达式<strong>Incident-2 * Normal * <a href="http://wiki.amplify.pt/index.php?title=Unity_Products:Amplify_Shader_Editor/Dot">Dot</a>（Incident•Normal）计算的。</strong> 请注意，应该对Normal向量进行归一化，因为这样生成的反射向量将具有与原始Incident长度相同的长度。</p>

<p>如果法向和事件矢量的通道数量不同，则进行强制转换以使输入类型与最多的通道匹配。这也将确定反射的矢量大小。</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> Incident - 2 * Normal * Dot(Incident•Normal) 
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>float3 r = reflect( float3(1,1,1) , i.v_normal );
</code></pre></div></div>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/docimage/image-20200529020122172.png" alt="image-20200529020122172" /></p>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/docimage/image-20200529020057078.png" alt="image-20200529020057078" /></p>

<h3 id="refract-折射">Refract: 折射</h3>

<p>折射节点根据给定的<a href="http://wiki.amplify.pt/index.php?title=Unity_Products:Amplify_Shader_Editor/Refract#paramIncident">入射</a>向量，表面<a href="http://wiki.amplify.pt/index.php?title=Unity_Products:Amplify_Shader_Editor/Refract#paramNormal">法线</a>向量和表面界面处的<a href="http://wiki.amplify.pt/index.php?title=Unity_Products:Amplify_Shader_Editor/Refract#paramEta">折射率之</a>比来计算折射向量。正常向量和事件向量都应归一化。</p>

<p>如果法向和事件矢量的通道数量不同，则进行强制转换以使输入类型与最多的通道匹配。这也将确定折射矢量的大小。</p>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">float3</span> <span class="n">r</span> <span class="o">=</span> <span class="n">refract</span><span class="p">(</span> <span class="n">float3</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span> <span class="p">,</span> <span class="n">normalize</span><span class="p">(</span> <span class="n">i</span><span class="p">.</span><span class="n">normal</span> <span class="p">)</span> <span class="p">,</span> <span class="n">eta</span> <span class="p">)</span>
</code></pre></div></div>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/docimage/RefractNode.gif" alt="RefractNode.gif" /></p>

<h3 id="rotate-about-axis-绕轴旋转">Rotate About Axis: 绕轴旋转</h3>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">uniform</span> <span class="n">float3</span> <span class="n">_axis</span><span class="p">;</span>
<span class="k">uniform</span> <span class="kt">float</span> <span class="n">_Angle</span><span class="p">;</span>
<span class="k">uniform</span> <span class="n">float3</span> <span class="n">_pivot</span><span class="p">;</span>
<span class="n">float3</span> <span class="nf">RotateAroundAxis</span><span class="p">(</span> <span class="n">float3</span> <span class="n">center</span><span class="p">,</span> <span class="n">float3</span> <span class="n">original</span><span class="p">,</span> <span class="n">float3</span> <span class="n">u</span><span class="p">,</span> <span class="kt">float</span> <span class="n">angle</span> <span class="p">)</span>
<span class="p">{</span>
    <span class="n">original</span> <span class="o">-=</span> <span class="n">center</span><span class="p">;</span>
    <span class="kt">float</span> <span class="n">C</span> <span class="o">=</span> <span class="n">cos</span><span class="p">(</span> <span class="n">angle</span> <span class="p">);</span>
    <span class="kt">float</span> <span class="n">S</span> <span class="o">=</span> <span class="n">sin</span><span class="p">(</span> <span class="n">angle</span> <span class="p">);</span>
    <span class="kt">float</span> <span class="n">t</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">-</span> <span class="n">C</span><span class="p">;</span>
    <span class="kt">float</span> <span class="n">m00</span> <span class="o">=</span> <span class="n">t</span> <span class="o">*</span> <span class="n">u</span><span class="p">.</span><span class="n">x</span> <span class="o">*</span> <span class="n">u</span><span class="p">.</span><span class="n">x</span> <span class="o">+</span> <span class="n">C</span><span class="p">;</span>
    <span class="kt">float</span> <span class="n">m01</span> <span class="o">=</span> <span class="n">t</span> <span class="o">*</span> <span class="n">u</span><span class="p">.</span><span class="n">x</span> <span class="o">*</span> <span class="n">u</span><span class="p">.</span><span class="n">y</span> <span class="o">-</span> <span class="n">S</span> <span class="o">*</span> <span class="n">u</span><span class="p">.</span><span class="n">z</span><span class="p">;</span>
    <span class="kt">float</span> <span class="n">m02</span> <span class="o">=</span> <span class="n">t</span> <span class="o">*</span> <span class="n">u</span><span class="p">.</span><span class="n">x</span> <span class="o">*</span> <span class="n">u</span><span class="p">.</span><span class="n">z</span> <span class="o">+</span> <span class="n">S</span> <span class="o">*</span> <span class="n">u</span><span class="p">.</span><span class="n">y</span><span class="p">;</span>
    <span class="kt">float</span> <span class="n">m10</span> <span class="o">=</span> <span class="n">t</span> <span class="o">*</span> <span class="n">u</span><span class="p">.</span><span class="n">x</span> <span class="o">*</span> <span class="n">u</span><span class="p">.</span><span class="n">y</span> <span class="o">+</span> <span class="n">S</span> <span class="o">*</span> <span class="n">u</span><span class="p">.</span><span class="n">z</span><span class="p">;</span>
    <span class="kt">float</span> <span class="n">m11</span> <span class="o">=</span> <span class="n">t</span> <span class="o">*</span> <span class="n">u</span><span class="p">.</span><span class="n">y</span> <span class="o">*</span> <span class="n">u</span><span class="p">.</span><span class="n">y</span> <span class="o">+</span> <span class="n">C</span><span class="p">;</span>
    <span class="kt">float</span> <span class="n">m12</span> <span class="o">=</span> <span class="n">t</span> <span class="o">*</span> <span class="n">u</span><span class="p">.</span><span class="n">y</span> <span class="o">*</span> <span class="n">u</span><span class="p">.</span><span class="n">z</span> <span class="o">-</span> <span class="n">S</span> <span class="o">*</span> <span class="n">u</span><span class="p">.</span><span class="n">x</span><span class="p">;</span>
    <span class="kt">float</span> <span class="n">m20</span> <span class="o">=</span> <span class="n">t</span> <span class="o">*</span> <span class="n">u</span><span class="p">.</span><span class="n">x</span> <span class="o">*</span> <span class="n">u</span><span class="p">.</span><span class="n">z</span> <span class="o">-</span> <span class="n">S</span> <span class="o">*</span> <span class="n">u</span><span class="p">.</span><span class="n">y</span><span class="p">;</span>
    <span class="kt">float</span> <span class="n">m21</span> <span class="o">=</span> <span class="n">t</span> <span class="o">*</span> <span class="n">u</span><span class="p">.</span><span class="n">y</span> <span class="o">*</span> <span class="n">u</span><span class="p">.</span><span class="n">z</span> <span class="o">+</span> <span class="n">S</span> <span class="o">*</span> <span class="n">u</span><span class="p">.</span><span class="n">x</span><span class="p">;</span>
    <span class="kt">float</span> <span class="n">m22</span> <span class="o">=</span> <span class="n">t</span> <span class="o">*</span> <span class="n">u</span><span class="p">.</span><span class="n">z</span> <span class="o">*</span> <span class="n">u</span><span class="p">.</span><span class="n">z</span> <span class="o">+</span> <span class="n">C</span><span class="p">;</span>
    <span class="n">float3x3</span> <span class="n">finalMatrix</span> <span class="o">=</span> <span class="n">float3x3</span><span class="p">(</span> <span class="n">m00</span><span class="p">,</span> <span class="n">m01</span><span class="p">,</span> <span class="n">m02</span><span class="p">,</span> <span class="n">m10</span><span class="p">,</span> <span class="n">m11</span><span class="p">,</span> <span class="n">m12</span><span class="p">,</span> <span class="n">m20</span><span class="p">,</span> <span class="n">m21</span><span class="p">,</span> <span class="n">m22</span> <span class="p">);</span>
    <span class="k">return</span> <span class="n">mul</span><span class="p">(</span> <span class="n">finalMatrix</span><span class="p">,</span> <span class="n">original</span> <span class="p">)</span> <span class="o">+</span> <span class="n">center</span><span class="p">;</span>
<span class="p">}</span>

<span class="n">float3</span> <span class="n">rotatedValue93</span> <span class="o">=</span> <span class="n">RotateAroundAxis</span><span class="p">(</span> <span class="n">_pivot</span><span class="p">,</span> <span class="n">v</span><span class="p">.</span><span class="n">vertex</span><span class="p">.</span><span class="n">xyz</span><span class="p">,</span> <span class="n">normalize</span><span class="p">(</span> <span class="n">_axis</span> <span class="p">),</span> <span class="n">_Angle</span> <span class="p">);</span>
</code></pre></div></div>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/docimage/image-20200529024107858.png" alt="image-20200529024107858" /></p>

<h3 id="swizzle-访问分量">Swizzle: 访问分量</h3>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">(</span><span class="n">_Vector0</span><span class="p">).</span><span class="n">xyzz</span><span class="p">.</span><span class="n">xyz</span><span class="p">;</span>
</code></pre></div></div>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/docimage/image-20200529024742546.png" alt="image-20200529024742546" /></p>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/docimage/image-20200529031010990.png" alt="image-20200529031010990" /></p>

<h3 id="transform-direction-变换坐标空间">Transform Direction: 变换坐标空间</h3>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// from: object, to: world</span>
 <span class="n">float4</span> <span class="n">n</span> <span class="o">=</span> <span class="n">mul</span><span class="p">(</span> <span class="n">unity_ObjectToWorld</span><span class="p">,</span> <span class="n">float4</span><span class="p">(</span> <span class="n">i</span><span class="p">.</span><span class="n">ase_normal</span><span class="p">,</span> <span class="mi">0</span> <span class="p">)</span> <span class="p">)</span>
     
<span class="c1">// from: object, to: View   </span>
 <span class="n">mul</span><span class="p">(</span> <span class="n">UNITY_MATRIX_IT_MV</span><span class="p">,</span> <span class="n">float4</span><span class="p">(</span> <span class="n">i</span><span class="p">.</span><span class="n">ase_normal</span><span class="p">,</span> <span class="mi">0</span> <span class="p">)</span> <span class="p">).</span><span class="n">xyz</span><span class="p">;</span>   

<span class="c1">// from: object, to: Tangent   </span>
<span class="n">float3</span> <span class="n">ase_worldTangent</span> <span class="o">=</span> <span class="n">UnityObjectToWorldDir</span><span class="p">(</span><span class="n">v</span><span class="p">.</span><span class="n">ase_tangent</span><span class="p">);</span>
<span class="n">float3</span> <span class="n">ase_worldNormal</span> <span class="o">=</span> <span class="n">UnityObjectToWorldNormal</span><span class="p">(</span><span class="n">v</span><span class="p">.</span><span class="n">ase_normal</span><span class="p">);</span>
<span class="kt">float</span> <span class="n">ase_vertexTangentSign</span> <span class="o">=</span> <span class="n">v</span><span class="p">.</span><span class="n">ase_tangent</span><span class="p">.</span><span class="n">w</span> <span class="o">*</span> <span class="n">unity_WorldTransformParams</span><span class="p">.</span><span class="n">w</span><span class="p">;</span>
<span class="n">float3</span> <span class="n">ase_worldBitangent</span> <span class="o">=</span> <span class="n">cross</span><span class="p">(</span> <span class="n">ase_worldNormal</span><span class="p">,</span> <span class="n">ase_worldTangent</span> <span class="p">)</span> <span class="o">*</span> <span class="n">ase_vertexTangentSign</span><span class="p">;</span>
<span class="n">float3x3</span> <span class="n">ase_worldToTangent</span> <span class="o">=</span> <span class="n">float3x3</span><span class="p">(</span><span class="n">ase_worldTangent</span><span class="p">,</span><span class="n">ase_worldBitangent</span><span class="p">,</span><span class="n">ase_worldNormal</span><span class="p">);</span>
<span class="n">float3</span> <span class="n">objectToTangentDir112</span> <span class="o">=</span> <span class="n">mul</span><span class="p">(</span> <span class="n">ase_worldToTangent</span><span class="p">,</span> <span class="n">mul</span><span class="p">(</span> <span class="n">unity_ObjectToWorld</span><span class="p">,</span> <span class="n">float4</span><span class="p">(</span> <span class="n">v</span><span class="p">.</span><span class="n">ase_normal</span><span class="p">,</span> <span class="mi">0</span> <span class="p">)</span> <span class="p">).</span><span class="n">xyz</span><span class="p">);</span>

<span class="c1">// from: object, to: Clip  </span>
<span class="n">mul</span><span class="p">(</span><span class="n">UNITY_MATRIX_VP</span><span class="p">,</span> <span class="n">mul</span><span class="p">(</span><span class="n">unity_ObjectToWorld</span><span class="p">,</span> <span class="n">float4</span><span class="p">(</span><span class="n">v</span><span class="p">.</span><span class="n">ase_normal</span><span class="p">,</span> <span class="mi">0</span><span class="p">.</span><span class="mi">0</span><span class="p">)));</span>
</code></pre></div></div>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// from: world, to: object</span>
<span class="n">mul</span><span class="p">(</span> <span class="n">unity_WorldToObject</span><span class="p">,</span> <span class="n">float4</span><span class="p">(</span> <span class="n">v</span><span class="p">.</span><span class="n">ase_normal</span><span class="p">,</span> <span class="mi">0</span> <span class="p">)</span> <span class="p">).</span><span class="n">xyz</span><span class="p">;</span>

<span class="c1">// from: world, to: view</span>
<span class="n">mul</span><span class="p">(</span> <span class="n">UNITY_MATRIX_V</span><span class="p">,</span> <span class="n">float4</span><span class="p">(</span> <span class="n">v</span><span class="p">.</span><span class="n">ase_normal</span><span class="p">,</span> <span class="mi">0</span> <span class="p">)</span> <span class="p">).</span><span class="n">xyz</span><span class="p">;</span>

<span class="c1">// from: world, to: Tangent</span>
<span class="n">float3</span> <span class="n">ase_worldTangent</span> <span class="o">=</span> <span class="n">UnityObjectToWorldDir</span><span class="p">(</span><span class="n">v</span><span class="p">.</span><span class="n">ase_tangent</span><span class="p">);</span>
<span class="n">float3</span> <span class="n">ase_worldNormal</span> <span class="o">=</span> <span class="n">UnityObjectToWorldNormal</span><span class="p">(</span><span class="n">v</span><span class="p">.</span><span class="n">ase_normal</span><span class="p">);</span>
<span class="kt">float</span> <span class="n">ase_vertexTangentSign</span> <span class="o">=</span> <span class="n">v</span><span class="p">.</span><span class="n">ase_tangent</span><span class="p">.</span><span class="n">w</span> <span class="o">*</span> <span class="n">unity_WorldTransformParams</span><span class="p">.</span><span class="n">w</span><span class="p">;</span>
<span class="n">float3</span> <span class="n">ase_worldBitangent</span> <span class="o">=</span> <span class="n">cross</span><span class="p">(</span> <span class="n">ase_worldNormal</span><span class="p">,</span> <span class="n">ase_worldTangent</span> <span class="p">)</span> <span class="o">*</span> <span class="n">ase_vertexTangentSign</span><span class="p">;</span>
<span class="n">float3x3</span> <span class="n">ase_worldToTangent</span> <span class="o">=</span> <span class="n">float3x3</span><span class="p">(</span><span class="n">ase_worldTangent</span><span class="p">,</span><span class="n">ase_worldBitangent</span><span class="p">,</span><span class="n">ase_worldNormal</span><span class="p">);</span>
<span class="n">float3</span> <span class="n">worldToTangentDir112</span> <span class="o">=</span> <span class="n">mul</span><span class="p">(</span> <span class="n">ase_worldToTangent</span><span class="p">,</span> <span class="n">v</span><span class="p">.</span><span class="n">ase_normal</span><span class="p">);</span>

<span class="c1">// from: world, to: Clip  </span>
<span class="n">mul</span><span class="p">(</span><span class="n">UNITY_MATRIX_VP</span><span class="p">,</span> <span class="n">float4</span><span class="p">(</span><span class="n">v</span><span class="p">.</span><span class="n">ase_normal</span><span class="p">,</span> <span class="mi">0</span><span class="p">.</span><span class="mi">0</span><span class="p">));</span>

</code></pre></div></div>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// from: view, to: world  </span>
<span class="n">mul</span><span class="p">(</span> <span class="n">UNITY_MATRIX_I_V</span><span class="p">,</span> <span class="n">float4</span><span class="p">(</span> <span class="n">v</span><span class="p">.</span><span class="n">ase_normal</span><span class="p">,</span> <span class="mi">0</span> <span class="p">)</span> <span class="p">).</span><span class="n">xyz</span><span class="p">;</span>

<span class="c1">// from: view, to: object  </span>
<span class="n">mul</span><span class="p">(</span> <span class="n">UNITY_MATRIX_T_MV</span><span class="p">,</span> <span class="n">float4</span><span class="p">(</span> <span class="n">v</span><span class="p">.</span><span class="n">ase_normal</span><span class="p">,</span> <span class="mi">0</span> <span class="p">)</span> <span class="p">).</span><span class="n">xyz</span><span class="p">;</span>

<span class="c1">// from: view, to: clip  </span>
<span class="n">mul</span><span class="p">(</span><span class="n">UNITY_MATRIX_P</span><span class="p">,</span> <span class="n">float4</span><span class="p">(</span><span class="n">v</span><span class="p">.</span><span class="n">ase_normal</span><span class="p">,</span> <span class="mi">0</span><span class="p">.</span><span class="mi">0</span><span class="p">));</span>
</code></pre></div></div>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/docimage/image-20200529025136494.png" alt="image-20200529025136494" /></p>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/docimage/image-20200529025200720.png" alt="image-20200529025200720" /></p>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/docimage/image-20200529025434062.png" alt="image-20200529025434062" /></p>

<h1 id="time-时间">Time: 时间</h1>

<h3 id="time-时间-1">Time: 时间</h3>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="n">_Time</span><span class="p">.</span><span class="n">y</span>
</code></pre></div></div>

<h3 id="time-parmeters-时间参数">Time Parmeters: 时间参数</h3>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// t/20</span>
<span class="n">_Time</span><span class="p">.</span><span class="n">x</span><span class="p">;</span>
<span class="c1">// t</span>
<span class="n">_Time</span><span class="p">.</span><span class="n">y</span><span class="p">;</span>
<span class="c1">// t*2</span>
<span class="n">_Time</span><span class="p">.</span><span class="n">z</span><span class="p">;</span>
<span class="c1">// t*3</span>
<span class="n">_Time</span><span class="p">.</span><span class="n">w</span><span class="p">;</span>
</code></pre></div></div>

<p><img src="docimage/image-20200530225746564.png" alt="image-20200530225746564" /></p>

<h3 id="delta-time--每帧时长">Delta Time : 每帧时长</h3>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// dt</span>
<span class="n">unity_DeltaTime</span><span class="p">.</span><span class="n">x</span><span class="p">;</span>
<span class="c1">// 1/dt</span>
<span class="n">unity_DeltaTime</span><span class="p">.</span><span class="n">y</span><span class="p">;</span>
<span class="c1">// smoothDt</span>
<span class="n">unity_DeltaTime</span><span class="p">.</span><span class="n">z</span><span class="p">;</span>
<span class="c1">// 1/smoothDt</span>
<span class="n">unity_DeltaTime</span><span class="p">.</span><span class="n">w</span><span class="p">;</span>
</code></pre></div></div>

<p><img src="docimage/image-20200530225020749.png" alt="image-20200530225020749" /></p>

<h3 id="cos-time-cos时间">Cos Time: Cos时间</h3>

<blockquote>
  <p>cos(time / x)</p>
</blockquote>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// t/8</span>
<span class="n">_CosTime</span><span class="p">.</span><span class="n">x</span>
<span class="c1">// t/4</span>
<span class="n">_CosTime</span><span class="p">.</span><span class="n">y</span>    
<span class="c1">// t/2</span>
<span class="n">_CosTime</span><span class="p">.</span><span class="n">z</span>
<span class="c1">// t</span>
<span class="n">_CosTime</span><span class="p">.</span><span class="n">w</span>
</code></pre></div></div>

<p><img src="docimage/image-20200530224750142.png" alt="image-20200530224750142" /></p>

<h3 id="sin-time-sin时间">Sin Time: Sin时间</h3>

<blockquote>
  <p>sin(time / x)</p>
</blockquote>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// t/8</span>
<span class="n">_SinTime</span><span class="p">.</span><span class="n">x</span>
<span class="c1">// t/4</span>
<span class="n">_SinTime</span><span class="p">.</span><span class="n">y</span>    
<span class="c1">// t/2</span>
<span class="n">_SinTime</span><span class="p">.</span><span class="n">z</span>
<span class="c1">// t</span>
<span class="n">_SinTime</span><span class="p">.</span><span class="n">w</span>
</code></pre></div></div>

<p><img src="docimage/image-20200530225446031.png" alt="image-20200530225446031" /></p>

<h1 id="math-operators-数学操作">Math Operators: 数学操作</h1>

<h3 id="abs-绝对值">Abs: 绝对值</h3>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">abs</span><span class="p">(</span> <span class="n">i</span><span class="p">.</span><span class="n">ase_normal</span> <span class="p">)</span>
</code></pre></div></div>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/AbsGraphicNode.png" alt="img" /></p>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/AbsNode-1590852505541.gif" alt="AbsNode.gif" /></p>

<h3 id="add-加法-">Add: 加法 +</h3>

<blockquote>
  <p>a + b  + …</p>
</blockquote>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/AddNode.jpg" alt="img" /></p>

<h3 id="subtract-减法--">Subtract: 减法 -</h3>

<blockquote>
  <p>a - b</p>
</blockquote>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/SubtractNode.jpg" alt="img" /></p>

<h3 id="multiply-乘法-">Multiply: 乘法 *</h3>

<blockquote>
  <p>a  * b * …</p>
</blockquote>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/MultiplyNode.jpg" alt="img" /></p>

<h3 id="divide-除法-">Divide: 除法 /</h3>

<blockquote>
  <p>a / b</p>
</blockquote>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/DivideNode.jpg" alt="img" /></p>

<h3 id="remainder-取余数--a-b的除法余数">Remainder: 取余数 , <a href="http://wiki.amplify.pt/index.php?title=Unity_Products:Amplify_Shader_Editor/Remainder#paramA">A </a><strong>％</strong><a href="http://wiki.amplify.pt/index.php?title=Unity_Products:Amplify_Shader_Editor/Remainder#paramB">B</a>的除法余数</h3>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>0.1 % 0.3； // 0.1
0.2 % 0.3； // 0.2
0.3 % 0.3； // 0
5.2 % 5; // 0.2
6.2 % 5; // 1.2
</code></pre></div></div>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/RemainderNode.jpg" alt="img" /></p>

<h3 id="ceil--向上取整">Ceil:  向上取整</h3>

<blockquote>
  <p>ceil( v.ase_normal )</p>
</blockquote>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/CeilGraphicNode.png" alt="img" /></p>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/CeilNode.gif" alt="img" /></p>

<h3 id="floor--向下取整">Floor:  向下取整</h3>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">floor</span><span class="p">(</span> <span class="mi">1</span><span class="p">.</span><span class="mi">1</span> <span class="p">)</span> <span class="c1">// 1</span>
<span class="n">floor</span><span class="p">(</span> <span class="mi">1</span><span class="p">.</span><span class="mi">6</span> <span class="p">)</span> <span class="c1">// 2</span>
</code></pre></div></div>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/FloorGraphicNode.png" alt="img" /></p>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/FloorNode.gif" alt="img" /></p>

<h3 id="round-四舍五入取整">round: 四舍五入取整</h3>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">round</span><span class="p">(</span><span class="mi">1</span><span class="p">.</span><span class="mi">1</span><span class="p">);</span> <span class="c1">// 1</span>
<span class="n">round</span><span class="p">(</span><span class="mi">1</span><span class="p">.</span><span class="mi">5</span><span class="p">);</span> <span class="c1">// 2</span>
<span class="n">round</span><span class="p">(</span><span class="mi">1</span><span class="p">.</span><span class="mi">6</span><span class="p">);</span> <span class="c1">// 2</span>

</code></pre></div></div>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/RoundGraphicNode.png" alt="img" /></p>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/RoundNode.gif" alt="img" /></p>

<h3 id="fmod--取余数-输出除法a--b的其余部分其符号与a相同">Fmod:  取余数, 输出除法<a href="http://wiki.amplify.pt/index.php?title=Unity_Products:Amplify_Shader_Editor/Fmod#paramA">A </a><strong>/</strong> <a href="http://wiki.amplify.pt/index.php?title=Unity_Products:Amplify_Shader_Editor/Fmod#paramB">B</a>的其余部分，其符号与<strong>A</strong>相同</h3>

<p>Fmod节点输出除法<a href="http://wiki.amplify.pt/index.php?title=Unity_Products:Amplify_Shader_Editor/Fmod#paramA">A </a><strong>/</strong> <a href="http://wiki.amplify.pt/index.php?title=Unity_Products:Amplify_Shader_Editor/Fmod#paramB">B</a>的其余部分，其符号与<strong>A</strong>相同。请注意，如果B中的指定值为零并且其结果是实现定义的，则将被0除。
<strong>注意：</strong>多通道数据类型之间的FMod按通道进行。如果<em>A</em>和<em>B的</em>频道数量不同，则进行强制转换以匹配具有最多频道数量的频道。</p>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">fmod</span><span class="p">(</span> <span class="o">-</span><span class="mi">4</span><span class="p">.</span><span class="mi">1</span> <span class="p">,</span> <span class="mi">4</span><span class="p">.</span><span class="mi">0</span> <span class="p">);</span> <span class="c1">// -0.1</span>
<span class="n">fmod</span><span class="p">(</span> <span class="mi">4</span><span class="p">.</span><span class="mi">1</span> <span class="p">,</span> <span class="mi">4</span><span class="p">.</span><span class="mi">0</span> <span class="p">);</span> <span class="c1">// 0.1</span>
<span class="n">fmod</span><span class="p">(</span> <span class="mi">4</span> <span class="p">,</span> <span class="mi">4</span><span class="p">.</span><span class="mi">0</span> <span class="p">);</span> <span class="c1">// 0  </span>
<span class="n">fmod</span><span class="p">(</span> <span class="mi">4</span> <span class="p">,</span> <span class="mi">8</span><span class="p">.</span><span class="mi">0</span> <span class="p">);</span> <span class="c1">// 0  </span>
</code></pre></div></div>

<p><img src="docimage/image-20200531021316661.png" alt="image-20200531021316661" /></p>

<h3 id="simplified-fmod---简化的fmod节点输出除法a--b的余数该节点比fmod节点性能更高但不能保证最终生成值的符号">Simplified Fmod :  简化的Fmod节点输出除法<a href="http://wiki.amplify.pt/index.php?title=Unity_Products:Amplify_Shader_Editor/Simplified_Fmod#paramA">A </a><strong>/</strong> <a href="http://wiki.amplify.pt/index.php?title=Unity_Products:Amplify_Shader_Editor/Simplified_Fmod#paramB">B</a>的余数。该节点比<a href="http://wiki.amplify.pt/index.php?title=Unity_Products:Amplify_Shader_Editor/Fmod">Fmod</a>节点性能更高，但不能保证最终生成值的符号。</h3>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">frac</span><span class="p">(</span><span class="n">a</span><span class="o">/</span><span class="n">b</span><span class="p">)</span><span class="o">*</span><span class="n">b</span>
</code></pre></div></div>

<p><img src="docimage/image-20200603001607986.png" alt="image-20200603001607986" /></p>

<h3 id="fract-取小数部分---v---floorv">Fract: 取小数部分 ,  v - floor(v)</h3>

<p>输出其<a href="http://wiki.amplify.pt/index.php?title=Unity_Products:Amplify_Shader_Editor/Fract#paramInput">输入</a>上设置的值或向量各个分量的小数部分。在内部，它的作用类似于<strong>Input- <a href="http://wiki.amplify.pt/index.php?title=Unity_Products:Amplify_Shader_Editor/Floor">Floor</a>（Input）</strong>，它删除了值的整数部分，只保留了小数部分。</p>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">frac</span><span class="p">(</span> <span class="mi">4</span><span class="p">.</span><span class="mi">2</span> <span class="p">);</span> <span class="c1">// 0.2</span>
</code></pre></div></div>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/FractGraphicNode.png" alt="img" /></p>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/FractNode.gif" alt="img" /></p>

<h3 id="lerp--线性插值">Lerp:  线性插值</h3>

<p>Lerp节点<em>（快捷方式：L键）</em>通过<a href="http://wiki.amplify.pt/index.php?title=Unity_Products:Amplify_Shader_Editor/Lerp#paramAlpha">Alpha</a>计算两个值<a href="http://wiki.amplify.pt/index.php?title=Unity_Products:Amplify_Shader_Editor/Lerp#paramA">A</a>和<a href="http://wiki.amplify.pt/index.php?title=Unity_Products:Amplify_Shader_Editor/Lerp#paramB">B</a>之间的线性插值。换句话说，它将使用表达式<strong>（（1-A）* I + B * I）</strong>，根据称为Alpha的第三个Alpha值，在A和B之间生成新的混合值。在其它会返回-内插的值[1 0]之间的范围内<em>甲</em>如果<em>I = 0</em>和<em>乙</em>如果<em>I = 1</em>。</p>

<p><strong>注意：</strong>多通道数据类型之间的线性插值是按通道进行的。如果<em>A</em>和<em>B的</em>频道数量不同，则进行强制转换以匹配具有最多频道数量的频道。</p>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">float</span> <span class="nf">lerp</span><span class="p">(</span><span class="kt">float</span> <span class="n">a</span><span class="p">,</span> <span class="kt">float</span> <span class="n">b</span><span class="p">,</span> <span class="kt">float</span> <span class="n">t</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">return</span> <span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="n">a</span><span class="p">)</span> <span class="o">*</span> <span class="n">t</span> <span class="o">+</span> <span class="n">b</span> <span class="o">*</span> <span class="n">t</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<blockquote>
  <p>(1 - A) * t + b * t</p>
</blockquote>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">float4</span> <span class="n">lerpResult223</span> <span class="o">=</span> <span class="n">lerp</span><span class="p">(</span> <span class="n">color225</span> <span class="p">,</span> <span class="n">color226</span> <span class="p">,</span> <span class="n">dotResult126</span><span class="p">);</span>
</code></pre></div></div>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/LerpNode.jpg" alt="img" /></p>

<p><img src="docimage/image-20200531024633370.png" alt="image-20200531024633370" /></p>

<h3 id="compute-filter-width-计算滤波器宽度">Compute Filter Width: 计算滤波器宽度</h3>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">float3</span> <span class="n">v3</span> <span class="o">=</span> <span class="n">i</span><span class="p">.</span><span class="n">ase_normal</span><span class="p">;</span>

<span class="n">float3</span> <span class="n">v3_ddx</span> <span class="o">=</span> <span class="n">ddx</span><span class="p">(</span> <span class="n">v3</span> <span class="p">);</span>
<span class="kt">float</span> <span class="n">dot_ddx</span> <span class="o">=</span> <span class="n">dot</span><span class="p">(</span> <span class="n">v3_ddx</span> <span class="p">,</span> <span class="n">v3_ddx</span> <span class="p">);</span>

<span class="n">float3</span> <span class="n">v3_ddy</span> <span class="o">=</span> <span class="n">ddy</span><span class="p">(</span> <span class="n">v3</span> <span class="p">);</span>
<span class="kt">float</span> <span class="n">dot_ddy</span> <span class="o">=</span> <span class="n">dot</span><span class="p">(</span> <span class="n">v3_ddy</span> <span class="p">,</span> <span class="n">v3_ddy</span> <span class="p">);</span>

<span class="kt">float</span> <span class="n">dot_val</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="k">if</span><span class="p">(</span> <span class="n">dot_ddx</span> <span class="o">&lt;=</span> <span class="n">dot_ddy</span> <span class="p">)</span>
    <span class="n">dot_val</span> <span class="o">=</span> <span class="n">dot_ddy</span><span class="p">;</span>
<span class="k">else</span>
    <span class="n">dot_val</span> <span class="o">=</span> <span class="n">dot_ddx</span><span class="p">;</span>

<span class="n">float4</span> <span class="n">v3_out</span> <span class="o">=</span> <span class="p">(</span><span class="n">sqrt</span><span class="p">(</span> <span class="n">dot_val</span> <span class="p">)).</span><span class="n">xxxx</span><span class="p">;</span>
</code></pre></div></div>

<p><img src="docimage/image-20200530235220455.png" alt="image-20200530235220455" /></p>

<p><img src="docimage/image-20200530235456927.png" alt="image-20200530235456927" /></p>

<h3 id="ddx-输出对于屏幕空间x坐标输出指定输入值的偏导数">DDX: 输出对于屏幕空间x坐标输出指定<a href="http://wiki.amplify.pt/index.php?title=Unity_Products:Amplify_Shader_Editor/DDX#paramInput">输入</a>值的偏导数。</h3>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/DDXNode.jpg" alt="img" /></p>

<h4 id="应用1-顶点位置生成法线">应用1: 顶点位置生成法线</h4>

<p>执行 normalize( cross(ddx(pos),ddy(pos)) ) 就求出的面的法线，但是这里要注意，在HlSL上面，或者Unity上面要写成normalize( cross(ddy(pos),ddx(pos)) ),不然法线是反向的。这个是由于左右手坐标系引起的。</p>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">normalize</span><span class="p">(</span><span class="n">cross</span><span class="p">(</span><span class="n">ddy</span><span class="p">(</span><span class="n">IN</span><span class="p">.</span><span class="n">worldPos</span><span class="p">),</span><span class="n">ddx</span><span class="p">(</span><span class="n">IN</span><span class="p">.</span><span class="n">worldPos</span><span class="p">)));</span>
</code></pre></div></div>

<p><img src="docimage/image-20200531001456596.png" alt="image-20200531001456596" /></p>

<h4 id="应用2-图片锐化">应用2: 图片锐化</h4>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">void</span> <span class="nf">surf</span> <span class="p">(</span><span class="n">Input</span> <span class="n">IN</span><span class="p">,</span> <span class="k">inout</span> <span class="n">SurfaceOutput</span> <span class="n">o</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">half4</span> <span class="n">c</span> <span class="o">=</span> <span class="n">tex2D</span><span class="p">(</span><span class="n">_MainTex</span><span class="p">,</span> <span class="n">IN</span><span class="p">.</span><span class="n">uv_MainTex</span><span class="p">);</span>
    <span class="c1">//c += ddx(c)*2 + ddy(c)*2; //这行代码开启和关闭的效果</span>
    <span class="n">o</span><span class="p">.</span><span class="n">Albedo</span> <span class="o">=</span> <span class="n">c</span><span class="p">.</span><span class="n">rgb</span><span class="p">;</span>
    <span class="n">o</span><span class="p">.</span><span class="n">Alpha</span> <span class="o">=</span> <span class="n">c</span><span class="p">.</span><span class="n">a</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<p><img src="docimage/image-20200531002551609.png" alt="image-20200531002551609" /></p>

<h3 id="ddy-输出相对于屏幕空间y坐标的指定输入值的偏导数">DDY: 输出相对于屏幕空间y坐标的指定<a href="http://wiki.amplify.pt/index.php?title=Unity_Products:Amplify_Shader_Editor/DDY#paramInput">输入</a>值的偏导数。</h3>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">float3</span> <span class="n">v3</span> <span class="o">=</span> <span class="n">ddx</span><span class="p">(</span> <span class="n">i</span><span class="p">.</span><span class="n">ase_normal</span> <span class="p">)</span>
</code></pre></div></div>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/DDYNode.jpg" alt="img" /></p>

<h3 id="fwidth-偏导数的绝对值-absddxinput----absddyinput">FWidth: 偏导数的绝对值 abs(ddx(input))   + abs(ddy(input))</h3>

<p>输出指定<a href="http://wiki.amplify.pt/index.php?title=Unity_Products:Amplify_Shader_Editor/FWidth#paramInput">输入</a>值的偏导数的绝对值，或者在输出矢量的情况下输出输入矢量的每个分量值。换句话说，它在水平和垂直窗口空间<strong><a href="http://wiki.amplify.pt/index.php?title=Unity_Products:Amplify_Shader_Editor/Abs">abs</a>（<a href="http://wiki.amplify.pt/index.php?title=Unity_Products:Amplify_Shader_Editor/DDX">ddx</a>（Input））+ <a href="http://wiki.amplify.pt/index.php?title=Unity_Products:Amplify_Shader_Editor/Abs">abs</a>（<a href="http://wiki.amplify.pt/index.php?title=Unity_Products:Amplify_Shader_Editor/DDY">ddy</a>（Input））中<a href="http://wiki.amplify.pt/index.php?title=Unity_Products:Amplify_Shader_Editor/DDY">求和</a>输入</strong>值的偏导数的<strong><a href="http://wiki.amplify.pt/index.php?title=Unity_Products:Amplify_Shader_Editor/Abs">绝对值</a></strong>。</p>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">fwidth</span><span class="p">(</span> <span class="n">i</span><span class="p">.</span><span class="n">ase_texcoord</span><span class="p">.</span><span class="n">xyz</span> <span class="p">)</span>
</code></pre></div></div>

<p><img src="docimage/image-20200531023731834.png" alt="image-20200531023731834" /></p>

<p><img src="docimage/image-20200603002651571.png" alt="image-20200603002651571" /></p>

<h3 id="exp-以自然常数e为底的指数函数它同时又是航模名词全称exponential指数曲线">Exp: 以自然常数e为底的<a href="https://baike.baidu.com/item/指数函数/6013301">指数函数</a>，它同时又是<a href="https://baike.baidu.com/item/航模/10576318">航模</a>名词，全称Exponential(指数曲线)</h3>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/ExpGraphicNode.png" alt="img" /></p>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/ExpNode.gif" alt="img" /></p>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">exp</span><span class="p">(</span> <span class="mi">1</span> <span class="p">)</span> <span class="c1">// 2.71828</span>
</code></pre></div></div>

<blockquote>
  <p>exp(-10) 0.00004539992976248485
exp(-9) 0.00012340980408667956
exp(-8) 0.00033546262790251185
exp(-7) 0.0009118819655545162
exp(-6) 0.0024787521766663585
exp(-5) 0.006737946999085467
exp(-4) 0.01831563888873418
exp(-3) 0.049787068367863944
exp(-2) 0.1353352832366127
exp(-1) 0.36787944117144233
exp(0) 1
exp(1) 2.718281828459045
exp(2) 7.38905609893065
exp(3) 20.085536923187668
exp(4) 54.598150033144236
exp(5) 148.4131591025766
exp(6) 403.4287934927351
exp(7) 1096.6331584284585
exp(8) 2980.9579870417283
exp(9) 8103.083927575384</p>
</blockquote>

<h3 id="exp2-以2为底的指数值">Exp2: 以2为底的指数值</h3>

<blockquote>
  <p>2 ^ n,     2的n次方</p>

  <p>Math.pow(2, n),    n&gt;=0时</p>

  <p>1 / Math.pow(2, Math.abs(n)) == Math.pow(2, n)   n&lt;0时</p>
</blockquote>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">exp2</span><span class="p">(</span> <span class="o">-</span><span class="mi">4</span> <span class="p">),</span> <span class="mi">1</span><span class="o">/</span><span class="n">exp2</span><span class="p">(</span><span class="mi">4</span><span class="p">);</span>  <span class="c1">//0.0625</span>
<span class="n">exp2</span><span class="p">(</span> <span class="o">-</span><span class="mi">3</span> <span class="p">),</span> <span class="mi">1</span><span class="o">/</span><span class="n">exp2</span><span class="p">(</span><span class="mi">3</span><span class="p">);</span>  <span class="c1">//0.125</span>
<span class="n">exp2</span><span class="p">(</span> <span class="o">-</span><span class="mi">2</span> <span class="p">),</span> <span class="mi">1</span><span class="o">/</span><span class="n">exp2</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span>  <span class="c1">//0.25</span>
<span class="n">exp2</span><span class="p">(</span> <span class="o">-</span><span class="mi">1</span> <span class="p">),</span> <span class="mi">1</span><span class="o">/</span><span class="n">exp2</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>  <span class="c1">//0.5</span>
<span class="n">exp2</span><span class="p">(</span> <span class="mi">0</span> <span class="p">);</span> <span class="c1">// 1</span>
<span class="n">exp2</span><span class="p">(</span> <span class="mi">1</span> <span class="p">);</span> <span class="c1">// 2</span>
<span class="n">exp2</span><span class="p">(</span> <span class="mi">2</span> <span class="p">);</span> <span class="c1">// 4</span>
<span class="n">exp2</span><span class="p">(</span> <span class="mi">3</span> <span class="p">);</span> <span class="c1">// 8</span>
</code></pre></div></div>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/Exp2GraphicNode.png" alt="img" /></p>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/Exp2Node.gif" alt="img" /></p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=-</span><span class="mi">10</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">;</span> <span class="nx">i</span> <span class="o">++</span><span class="p">)</span>
<span class="p">{</span>
	<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">2 ^ </span><span class="dl">"</span><span class="o">+</span> <span class="nx">i</span><span class="o">+</span><span class="dl">"</span><span class="s2">=</span><span class="dl">"</span><span class="p">,</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">pow</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="nx">i</span><span class="p">))</span>
<span class="p">}</span>
</code></pre></div></div>

<blockquote>
  <p>2 ^ -10= 0.0009765625
2 ^ -9= 0.001953125
2 ^ -8= 0.00390625
2 ^ -7= 0.0078125
2 ^ -6= 0.015625
2 ^ -5= 0.03125
2 ^ -4= 0.0625
2 ^ -3= 0.125
2 ^ -2= 0.25
2 ^ -1= 0.5
2 ^ 0= 1
2 ^ 1= 2
2 ^ 2= 4
2 ^ 3= 8
2 ^ 4= 16
2 ^ 5= 32
2 ^ 6= 64
2 ^ 7= 128
2 ^ 8= 256
2 ^ 9= 512</p>
</blockquote>

<h3 id="pow-幂运算">pow: 幂运算</h3>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pow(10, 2); // 100
pow(10, 3); // 1000
pow(10, 0); // 1
pow(10, -1); // 0.1
pow(10, -2); // 0.01
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th style="text-align: center">Base</th>
      <th style="text-align: center">Exp</th>
      <th style="text-align: center">Result</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center">&lt; 0</td>
      <td style="text-align: center">any</td>
      <td style="text-align: center">NaN</td>
    </tr>
    <tr>
      <td style="text-align: center">&gt; 0</td>
      <td style="text-align: center">== 0</td>
      <td style="text-align: center">1</td>
    </tr>
    <tr>
      <td style="text-align: center">== 0</td>
      <td style="text-align: center">&gt; 0</td>
      <td style="text-align: center">0</td>
    </tr>
    <tr>
      <td style="text-align: center">== 0</td>
      <td style="text-align: center">&lt; 0</td>
      <td style="text-align: center">Infinite</td>
    </tr>
    <tr>
      <td style="text-align: center">&gt; 0</td>
      <td style="text-align: center">&lt; 0</td>
      <td style="text-align: center">1 / Base-Exp</td>
    </tr>
    <tr>
      <td style="text-align: center">== 0</td>
      <td style="text-align: center">== 0</td>
      <td style="text-align: center">Depends on GPU (0, 1 or NaN)</td>
    </tr>
  </tbody>
</table>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/PowerNode.jpg" alt="img" /></p>

<h3 id="log--自然对数-标量或向量各个分量的基本e对数值">Log:  自然对数, 标量或向量各个分量的基本e对数值</h3>

<p>提供标量或向量各个分量的基本e对数值。</p>

<blockquote>
  <p>输入大于0</p>
</blockquote>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">log</span><span class="p">(</span> <span class="n">_Float10</span> <span class="p">)</span>
</code></pre></div></div>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span><span class="mi">1</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">;</span> <span class="nx">i</span> <span class="o">++</span><span class="p">)</span>
<span class="p">{</span>
	<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">log(</span><span class="dl">"</span><span class="o">+</span> <span class="nx">i</span><span class="o">+</span><span class="dl">"</span><span class="s2">) =</span><span class="dl">"</span><span class="p">,</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span> <span class="nx">i</span> <span class="o">/</span> <span class="mi">10</span><span class="p">))</span>
<span class="p">}</span>

<span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span><span class="mi">1</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">;</span> <span class="nx">i</span> <span class="o">++</span><span class="p">)</span>
<span class="p">{</span>
	<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">log(</span><span class="dl">"</span><span class="o">+</span> <span class="nx">i</span><span class="o">+</span><span class="dl">"</span><span class="s2">) =</span><span class="dl">"</span><span class="p">,</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span> <span class="nx">i</span><span class="p">))</span>
<span class="p">}</span>
<span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span><span class="mi">1</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">;</span> <span class="nx">i</span> <span class="o">++</span><span class="p">)</span>
<span class="p">{</span>
	<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">log(</span><span class="dl">"</span><span class="o">+</span> <span class="p">(</span><span class="nb">Math</span><span class="p">.</span><span class="nx">pow</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="nx">i</span><span class="p">)</span> <span class="p">)</span><span class="o">+</span><span class="dl">"</span><span class="s2">) =</span><span class="dl">"</span><span class="p">,</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">pow</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="nx">i</span><span class="p">)</span> <span class="p">))</span>
<span class="p">}</span>
</code></pre></div></div>

<blockquote>
  <p>log(0.1) = -2.3025850929940455
log(0.2) = -1.6094379124341003
log(0.3) = -1.2039728043259361
log(0.4) = -0.916290731874155
log(0.5) = -0.6931471805599453
log(0.6) = -0.5108256237659907
log(0.7) = -0.35667494393873245
log(0.8) = -0.2231435513142097
log(0.9) = -0.10536051565782628
log(1) = 0
log(2) = 0.6931471805599453
log(3) = 1.0986122886681096
log(4) = 1.3862943611198906
log(5) = 1.6094379124341003
log(6) = 1.791759469228055
log(7) = 1.9459101490553132
log(8) = 2.0794415416798357
log(9) = 2.1972245773362196
log(10) = 2.302585092994046
log(100) = 4.605170185988092
log(1000) = 6.907755278982137
log(10000) = 9.210340371976184
log(100000) = 11.512925464970229
log(1000000) = 13.815510557964274
log(10000000) = 16.11809565095832
log(100000000) = 18.420680743952367
log(1000000000) = 20.72326583694641</p>
</blockquote>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=-</span><span class="mi">10</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">;</span> <span class="nx">i</span> <span class="o">++</span><span class="p">)</span>
<span class="p">{</span>
	<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">log( Math.exp(</span><span class="dl">"</span><span class="o">+</span><span class="nx">i</span><span class="o">+</span><span class="dl">"</span><span class="s2">) ) =</span><span class="dl">"</span><span class="p">,</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">exp</span><span class="p">(</span><span class="nx">i</span><span class="p">)),</span> <span class="dl">"</span><span class="s2">, exp(</span><span class="dl">"</span><span class="o">+</span><span class="nx">i</span><span class="o">+</span><span class="dl">"</span><span class="s2">)=</span><span class="dl">"</span><span class="p">,</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">exp</span><span class="p">(</span><span class="nx">i</span><span class="p">)</span> <span class="p">)</span>
<span class="p">}</span>
</code></pre></div></div>

<blockquote>
  <p>log( Math.exp(-10) ) = -10 , exp(-10)= 0.00004539992976248485
log( Math.exp(-9) ) = -9 , exp(-9)= 0.00012340980408667956
log( Math.exp(-8) ) = -8 , exp(-8)= 0.00033546262790251185
log( Math.exp(-7) ) = -7 , exp(-7)= 0.0009118819655545162
log( Math.exp(-6) ) = -6 , exp(-6)= 0.0024787521766663585
log( Math.exp(-5) ) = -5 , exp(-5)= 0.006737946999085467
log( Math.exp(-4) ) = -4 , exp(-4)= 0.01831563888873418
log( Math.exp(-3) ) = -3 , exp(-3)= 0.049787068367863944
log( Math.exp(-2) ) = -2 , exp(-2)= 0.1353352832366127
log( Math.exp(-1) ) = -1 , exp(-1)= 0.36787944117144233
log( Math.exp(0) ) = 0 , exp(0)= 1
log( Math.exp(1) ) = 1 , exp(1)= 2.718281828459045
log( Math.exp(2) ) = 2 , exp(2)= 7.38905609893065
log( Math.exp(3) ) = 3 , exp(3)= 20.085536923187668
log( Math.exp(4) ) = 4 , exp(4)= 54.598150033144236
log( Math.exp(5) ) = 5 , exp(5)= 148.4131591025766
log( Math.exp(6) ) = 6 , exp(6)= 403.4287934927351
log( Math.exp(7) ) = 7 , exp(7)= 1096.6331584284585
log( Math.exp(8) ) = 8 , exp(8)= 2980.9579870417283
log( Math.exp(9) ) = 9 , exp(9)= 8103.083927575384</p>
</blockquote>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/LogGraphicNode.png" alt="img" /></p>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/LogNode.gif" alt="img" /></p>

<h3 id="log10--以10为低的对数">Log10:  以10为低的对数</h3>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>log10( 10000 ); //4
</code></pre></div></div>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=-</span><span class="mi">10</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">;</span> <span class="nx">i</span> <span class="o">++</span><span class="p">)</span>
<span class="p">{</span>
	<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">log( log10(10, </span><span class="dl">"</span><span class="o">+</span><span class="nx">i</span><span class="o">+</span><span class="dl">"</span><span class="s2">) ) =</span><span class="dl">"</span><span class="p">,</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">log10</span><span class="p">(</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">pow</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="nx">i</span><span class="p">)),</span> <span class="dl">"</span><span class="s2">, pow(10, </span><span class="dl">"</span><span class="o">+</span><span class="nx">i</span><span class="o">+</span><span class="dl">"</span><span class="s2">)=</span><span class="dl">"</span><span class="p">,</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">pow</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="nx">i</span><span class="p">)</span> <span class="p">)</span>
<span class="p">}</span>
</code></pre></div></div>

<blockquote>
  <p>log10( pow(10, -10) ) = -10 , pow(10, -10)= 1e-10
log10( pow(10, -9) ) = -9 , pow(10, -9)= 1e-9
log10( pow(10, -8) ) = -8 , pow(10, -8)= 1e-8
log10( pow(10, -7) ) = -7 , pow(10, -7)= 1e-7
log10( pow(10, -6) ) = -6 , pow(10, -6)= 0.000001
log10( pow(10, -5) ) = -5 , pow(10, -5)= 0.000009999999999999999
log10( pow(10, -4) ) = -4 , pow(10, -4)= 0.00009999999999999999
log10( pow(10, -3) ) = -3 , pow(10, -3)= 0.001
log10( pow(10, -2) ) = -2 , pow(10, -2)= 0.01
log10( pow(10, -1) ) = -1 , pow(10, -1)= 0.1
log10( pow(10, 0) ) = 0 , pow(10, 0)= 1
log10( pow(10, 1) ) = 1 , pow(10, 1)= 10
log10( pow(10, 2) ) = 2 , pow(10, 2)= 100
log10( pow(10, 3) ) = 3 , pow(10, 3)= 1000
log10( pow(10, 4) ) = 4 , pow(10, 4)= 10000
log10( pow(10, 5) ) = 5 , pow(10, 5)= 100000
log10( pow(10, 6) ) = 6 , pow(10, 6)= 1000000
log10( pow(10, 7) ) = 7 , pow(10, 7)= 10000000
log10( pow(10, 8) ) = 8 , pow(10, 8)= 100000000
log10( pow(10, 9) ) = 9 , pow(10, 9)= 1000000000</p>
</blockquote>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/Log10GraphicNode.png" alt="img" /></p>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/Log10Node.gif" alt="img" /></p>

<h3 id="log2--以2为低的对数">Log2:  以2为低的对数</h3>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>log2( 8 ); //3
</code></pre></div></div>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=-</span><span class="mi">10</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">;</span> <span class="nx">i</span> <span class="o">++</span><span class="p">)</span>
<span class="p">{</span>
	<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">log2( pow(2, </span><span class="dl">"</span><span class="o">+</span><span class="nx">i</span><span class="o">+</span><span class="dl">"</span><span class="s2">) ) =</span><span class="dl">"</span><span class="p">,</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">log2</span><span class="p">(</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">pow</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="nx">i</span><span class="p">)),</span> <span class="dl">"</span><span class="s2">, pow(2, </span><span class="dl">"</span><span class="o">+</span><span class="nx">i</span><span class="o">+</span><span class="dl">"</span><span class="s2">)=</span><span class="dl">"</span><span class="p">,</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">pow</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="nx">i</span><span class="p">)</span> <span class="p">)</span>
<span class="p">}</span>
</code></pre></div></div>

<blockquote>
  <p>log2( pow(2, -10) ) = -10 , pow(2, -10)= 0.0009765625
log2( pow(2, -9) ) = -9 , pow(2, -9)= 0.001953125
log2( pow(2, -8) ) = -8 , pow(2, -8)= 0.00390625
log2( pow(2, -7) ) = -7 , pow(2, -7)= 0.0078125
log2( pow(2, -6) ) = -6 , pow(2, -6)= 0.015625
log2( pow(2, -5) ) = -5 , pow(2, -5)= 0.03125
log2( pow(2, -4) ) = -4 , pow(2, -4)= 0.0625
log2( pow(2, -3) ) = -3 , pow(2, -3)= 0.125
log2( pow(2, -2) ) = -2 , pow(2, -2)= 0.25
log2( pow(2, -1) ) = -1 , pow(2, -1)= 0.5
log2( pow(2, 0) ) = 0 , pow(2, 0)= 1
log2( pow(2, 1) ) = 1 , pow(2, 1)= 2
log2( pow(2, 2) ) = 2 , pow(2, 2)= 4
log2( pow(2, 3) ) = 3 , pow(2, 3)= 8
log2( pow(2, 4) ) = 4 , pow(2, 4)= 16
log2( pow(2, 5) ) = 5 , pow(2, 5)= 32
log2( pow(2, 6) ) = 6 , pow(2, 6)= 64
log2( pow(2, 7) ) = 7 , pow(2, 7)= 128
log2( pow(2, 8) ) = 8 , pow(2, 8)= 256
log2( pow(2, 9) ) = 9 , pow(2, 9)= 512</p>
</blockquote>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/Log2GraphicNode.png" alt="img" /></p>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/Log2Node.gif" alt="img" /></p>

<h3 id="sqrt-平方根-开平方">sqrt: 平方根, 开平方</h3>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">;</span> <span class="nx">i</span> <span class="o">++</span><span class="p">)</span>
<span class="p">{</span>
    <span class="kd">var</span> <span class="nx">input</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">pow</span><span class="p">(</span><span class="nx">i</span><span class="o">*</span><span class="mf">0.1</span><span class="p">,</span> <span class="mi">2</span><span class="p">);</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">sqr(</span><span class="dl">"</span><span class="o">+</span><span class="nx">input</span><span class="o">+</span><span class="dl">"</span><span class="s2">)=</span><span class="dl">"</span><span class="p">,</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sqrt</span><span class="p">(</span><span class="nx">input</span><span class="p">));</span>
<span class="p">}</span>

<span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">;</span> <span class="nx">i</span> <span class="o">++</span><span class="p">)</span>
<span class="p">{</span>
    <span class="kd">var</span> <span class="nx">input</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">pow</span><span class="p">(</span><span class="nx">i</span><span class="p">,</span> <span class="mi">2</span><span class="p">);</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">sqr(</span><span class="dl">"</span><span class="o">+</span><span class="nx">input</span><span class="o">+</span><span class="dl">"</span><span class="s2">)=</span><span class="dl">"</span><span class="p">,</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sqrt</span><span class="p">(</span><span class="nx">input</span><span class="p">));</span>
<span class="p">}</span>
</code></pre></div></div>

<blockquote>
  <p>sqr(0.010000000000000002)= 0.1
sqr(0.04000000000000001)= 0.2
sqr(0.09000000000000002)= 0.30000000000000004
sqr(0.16000000000000003)= 0.4
sqr(0.25)= 0.5
sqr(0.3600000000000001)= 0.6000000000000001
sqr(0.4900000000000001)= 0.7000000000000001
sqr(0.6400000000000001)= 0.8
sqr(0.81)= 0.9</p>

  <p>sqr(1)= 1
sqr(4)= 2
sqr(9)= 3
sqr(16)= 4
sqr(25)= 5
sqr(36)= 6
sqr(49)= 7
sqr(64)= 8
sqr(81)= 9</p>
</blockquote>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/SqrtGraphicNode.png" alt="img" /></p>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/SqrtNode.gif" alt="img" /></p>

<h3 id="rsqrt倒数-平方根-1sqrinput">rsqrt：倒数 平方根, 1/sqr(input)</h3>

<p>提供标量或由其<a href="http://wiki.amplify.pt/index.php?title=Unity_Products:Amplify_Shader_Editor/Rsqrt#paramInput">输入</a>值定义的向量的各个分量的倒数平方根。也可以将其视为平方根的倒数<strong>1 / <a href="http://wiki.amplify.pt/index.php?title=Unity_Products:Amplify_Shader_Editor/Sqrt">Sqrt</a>（Input）</strong></p>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">rsqrt</span><span class="p">(</span><span class="mi">16</span><span class="p">);</span> <span class="c1">// 0.5 == 1/4 == 1 / sqr(pow(4, 2))</span>
</code></pre></div></div>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">;</span> <span class="nx">i</span> <span class="o">++</span><span class="p">)</span>
<span class="p">{</span>
    <span class="kd">var</span> <span class="nx">input</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">pow</span><span class="p">(</span><span class="nx">i</span><span class="o">*</span><span class="mf">0.1</span><span class="p">,</span> <span class="mi">2</span><span class="p">);</span>
    <span class="kd">var</span> <span class="nx">rsqr</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">/</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sqrt</span><span class="p">(</span><span class="nx">i</span><span class="p">)</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">sqr(</span><span class="dl">"</span><span class="o">+</span><span class="nx">input</span><span class="o">+</span><span class="dl">"</span><span class="s2">)=</span><span class="dl">"</span><span class="p">,</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sqrt</span><span class="p">(</span><span class="nx">input</span><span class="p">),</span> <span class="dl">"</span><span class="s2">, rsqr(</span><span class="dl">"</span><span class="o">+</span><span class="nx">input</span><span class="o">+</span><span class="dl">"</span><span class="s2">)=</span><span class="dl">"</span><span class="p">,</span> <span class="nx">rsqr</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">;</span> <span class="nx">i</span> <span class="o">++</span><span class="p">)</span>
<span class="p">{</span>
    <span class="kd">var</span> <span class="nx">input</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">pow</span><span class="p">(</span><span class="nx">i</span><span class="p">,</span> <span class="mi">2</span><span class="p">);</span>
    <span class="kd">var</span> <span class="nx">rsqr</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">/</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sqrt</span><span class="p">(</span><span class="nx">i</span><span class="p">)</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">sqr(</span><span class="dl">"</span><span class="o">+</span><span class="nx">input</span><span class="o">+</span><span class="dl">"</span><span class="s2">)=</span><span class="dl">"</span><span class="p">,</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sqrt</span><span class="p">(</span><span class="nx">input</span><span class="p">),</span> <span class="dl">"</span><span class="s2">rsqr(</span><span class="dl">"</span><span class="o">+</span><span class="nx">input</span><span class="o">+</span><span class="dl">"</span><span class="s2">)=</span><span class="dl">"</span><span class="p">,</span> <span class="nx">rsqr</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div>

<blockquote>
  <p>sqr(0.010000000000000002)= 0.1 , rsqr(0.010000000000000002)= 1
sqr(0.04000000000000001)= 0.2 , rsqr(0.04000000000000001)= 0.7071067811865475
sqr(0.09000000000000002)= 0.30000000000000004 , rsqr(0.09000000000000002)= 0.5773502691896258
sqr(0.16000000000000003)= 0.4 , rsqr(0.16000000000000003)= 0.5
sqr(0.25)				= 0.5 , 			rsqr(0.25)= 0.4472135954999579
sqr(0.3600000000000001)= 0.6000000000000001 , rsqr(0.3600000000000001)= 0.4082482904638631
sqr(0.4900000000000001)= 0.7000000000000001 , rsqr(0.4900000000000001)= 0.3779644730092272
sqr(0.6400000000000001)= 0.8 , rsqr(0.6400000000000001)= 0.35355339059327373
sqr(0.81)= 0.9 , rsqr(0.81)= 0.3333333333333333</p>

  <p>sqr(1)= 1 , rsqr(1)= 1
sqr(4)= 2 , rsqr(4)= 0.7071067811865475
sqr(9)= 3 , rsqr(9)= 0.5773502691896258
sqr(16)= 4 , rsqr(16)= 0.5
sqr(25)= 5 , rsqr(25)= 0.4472135954999579
sqr(36)= 6 , rsqr(36)= 0.4082482904638631
sqr(49)= 7 , rsqr(49)= 0.3779644730092272
sqr(64)= 8 , rsqr(64)= 0.35355339059327373
sqr(81)= 9 , rsqr(81)= 0.3333333333333333</p>
</blockquote>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/RsqrtGraphicNode.png" alt="img" /></p>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/RsqrtNode.jpg" alt="img" /></p>

<h3 id="max-最大值">Max: 最大值</h3>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">max</span><span class="p">(</span> <span class="mi">0</span><span class="p">.</span><span class="mi">1</span> <span class="p">,</span> <span class="mi">0</span><span class="p">.</span><span class="mi">5</span> <span class="p">);</span> <span class="c1">// 0.5</span>
</code></pre></div></div>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/MaxNode.jpg" alt="img" /></p>

<h3 id="min-最小值">Min: 最小值</h3>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">min</span><span class="p">(</span> <span class="mi">0</span><span class="p">.</span><span class="mi">1</span> <span class="p">,</span> <span class="mi">0</span><span class="p">.</span><span class="mi">5</span> <span class="p">);</span> <span class="c1">// 0.1</span>
</code></pre></div></div>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/MinNode.jpg" alt="img" /></p>

<h3 id="negate-取反--">Negate: 取反 -</h3>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/NegateGraphicNode.png" alt="img" /></p>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/NegateNode.gif" alt="img" /></p>

<h3 id="one-minus--1---val">One Minus:  1 - val</h3>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/OneMinusGraphicNode.png" alt="img" /></p>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/OneMinusNode.jpg" alt="img" /></p>

<h3 id="remap-映射值">Remap: 映射值</h3>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>result = NewMin      +        (val - OldMin)   *   (NewMax - NewMin)   /   (OldMax - OldMin)
</code></pre></div></div>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/RemapNode.jpg" alt="img" /></p>

<h3 id="clamp--取值范围--a--min--min------a--max--max--a">Clamp:  取值范围,  a &lt; min ? min   :   a &gt; max ? max : a</h3>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">float</span> <span class="nf">clamp</span><span class="p">(</span><span class="kt">float</span> <span class="n">a</span><span class="p">,</span> <span class="kt">float</span> <span class="n">min</span><span class="p">,</span> <span class="kt">float</span> <span class="n">max</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">return</span> <span class="n">a</span> <span class="o">&lt;</span> <span class="n">min</span> <span class="o">?</span> <span class="n">min</span>   <span class="o">:</span>   <span class="n">a</span> <span class="o">&gt;</span> <span class="n">max</span> <span class="o">?</span> <span class="n">max</span> <span class="o">:</span> <span class="n">a</span>
<span class="p">}</span>
</code></pre></div></div>

<blockquote>
  <p>clamp( _SinTime.w , 0.0 , 1.0 )</p>
</blockquote>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/ClampNode.gif" alt="img" /></p>

<h3 id="saturate-饱和取值-值限定在01范围---a--0---0----------a-1--1---a">Saturate: 饱和取值, 值限定在[0,1]范围,   a &lt; 0 ?  0    :      a &gt;1 ? 1 :  a</h3>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">float</span> <span class="nf">saturate</span><span class="p">(</span><span class="kt">float</span> <span class="n">a</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">return</span> <span class="n">a</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="o">?</span>  <span class="mi">0</span>    <span class="o">:</span>      <span class="n">a</span> <span class="o">&gt;</span><span class="mi">1</span> <span class="o">?</span> <span class="mi">1</span> <span class="o">:</span>  <span class="n">a</span> 
<span class="p">}</span>
</code></pre></div></div>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/SaturateGraphicNode.png" alt="img" /></p>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/SaturateNode.jpg" alt="img" /></p>

<h3 id="step-阶梯取值--返回0或1--b--a--0--1">Step: 阶梯取值,  返回0或1，  b &lt; a ? 0 : 1</h3>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">float</span> <span class="nf">step</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">return</span> <span class="n">b</span> <span class="o">&lt;</span> <span class="n">a</span> <span class="o">?</span> <span class="mi">0</span> <span class="o">:</span> <span class="mi">1</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/StepNode.jpg" alt="img" /></p>

<h3 id="smoothstep-平滑阶梯取值">Smoothstep: 平滑阶梯取值</h3>

<p>“ <a href="http://wiki.amplify.pt/index.php?title=Unity_Products:Amplify_Shader_Editor/Smoothstep#paramInput">输入”</a>值在[ <a href="http://wiki.amplify.pt/index.php?title=Unity_Products:Amplify_Shader_Editor/Smoothstep#paramMin">Min</a>，<a href="http://wiki.amplify.pt/index.php?title=Unity_Products:Amplify_Shader_Editor/Smoothstep#paramMax">Max</a> ]范围内，则将计算<strong>0</strong>到<strong>1</strong>之间的平滑Hermite插值。 假设<em>最大</em>值大于<em>最小值</em>，值<strong>0</strong>如果返回<em>阿尔法</em>小于<em>最小</em>。如果相反，<em>Alpha</em>大于<em>Max</em>，则返回值<strong>1</strong>。</p>

<p><strong>注意：</strong>多通道数据类型之间的平滑步是按通道完成的。如果“ <em>最小值”</em>和“ <em>最大值”</em>具有不同的频道数量，则进行强制转换以匹配具有最多频道数量的频道。</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>float result = smoothstep( min , max , v);
</code></pre></div></div>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/SmoothstepGraphicNode.png" alt="img" /></p>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/SmoothstepNode.jpg" alt="img" /></p>

<h3 id="sign-符号---a--0--0----------a--0--1---1">Sign: 符号,   a == 0 ? 0       :   a &gt; 0 ? 1 : -1</h3>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">float</span> <span class="nf">sign</span><span class="p">(</span><span class="kt">float</span> <span class="n">a</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">return</span> <span class="n">a</span> <span class="o">==</span> <span class="mi">0</span> <span class="o">?</span> <span class="mi">0</span> <span class="o">:</span>    <span class="n">a</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="o">?</span> <span class="mi">1</span> <span class="o">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/SignGraphicNode.png" alt="img" /></p>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/SignNode.jpg" alt="img" /></p>

<h3 id="scale-乘一个数值--input--val">Scale: 乘一个数值,  input * val</h3>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">color</span> <span class="o">*</span> <span class="mi">0</span><span class="p">.</span><span class="mi">2</span>
</code></pre></div></div>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/ScaleNode.jpg" alt="img" /></p>

<h3 id="scale-and-offset-乘一个数值再偏移一个数值-inpu--scale--offset">Scale And Offset: 乘一个数值，再偏移一个数值 inpu * scale + offset</h3>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">color</span> <span class="o">*</span> <span class="mi">2</span> <span class="o">+</span> <span class="o">-</span><span class="mi">1</span>
</code></pre></div></div>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/ScaleAndOffsetNode.jpg" alt="img" /></p>

<h3 id="step-antialiasing--阶梯平滑">Step Antialiasing:  阶梯平滑</h3>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">float</span> <span class="n">t</span> <span class="o">=</span> <span class="p">(</span> <span class="n">B</span> <span class="o">-</span> <span class="n">A</span> <span class="p">);</span>
<span class="kt">float</span> <span class="n">result</span> <span class="o">=</span> <span class="n">saturate</span><span class="p">(</span>    <span class="n">t</span> <span class="o">/</span> <span class="n">fwidth</span><span class="p">(</span> <span class="n">t</span> <span class="p">)</span>   <span class="p">)</span>
</code></pre></div></div>

<p><img src="docimage/image-20200603001919861.png" alt="image-20200603001919861" /></p>

<h3 id="trunc--将浮点值截断为矢量值的整数部分或每个单独的部分">trunc:  将浮点值截断为矢量值的整数部分或每个单独的部分。</h3>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">trunc</span><span class="p">(</span> <span class="o">-</span><span class="mi">2</span><span class="p">.</span><span class="mi">1</span> <span class="p">);</span> <span class="c1">// -2</span>
<span class="n">trunc</span><span class="p">(</span> <span class="o">-</span><span class="mi">1</span><span class="p">.</span><span class="mi">6</span> <span class="p">);</span> <span class="c1">// -1</span>
<span class="n">trunc</span><span class="p">(</span> <span class="o">-</span><span class="mi">1</span><span class="p">.</span><span class="mi">1</span> <span class="p">);</span> <span class="c1">// -1</span>
<span class="n">trunc</span><span class="p">(</span> <span class="mi">0</span><span class="p">.</span><span class="mi">1</span> <span class="p">);</span> <span class="c1">// 0</span>
<span class="n">trunc</span><span class="p">(</span> <span class="mi">0</span><span class="p">.</span><span class="mi">6</span> <span class="p">);</span> <span class="c1">// 0</span>
<span class="n">trunc</span><span class="p">(</span> <span class="mi">1</span><span class="p">.</span><span class="mi">6</span> <span class="p">);</span> <span class="c1">// 1</span>
<span class="n">trunc</span><span class="p">(</span> <span class="mi">2</span><span class="p">.</span><span class="mi">6</span> <span class="p">);</span> <span class="c1">// 2</span>

</code></pre></div></div>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/TruncGraphicNode.png" alt="img" /></p>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/TruncNode.gif" alt="img" /></p>

<h1 id="trigonometry-operators-三角函数操作">Trigonometry Operators: 三角函数操作</h1>

<h3 id="radians-角度转弧度">Radians： 角度转弧度</h3>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">float</span> <span class="nf">randians</span><span class="p">(</span><span class="kt">float</span> <span class="n">angle</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">reutrn</span> <span class="n">angle</span> <span class="o">*</span> <span class="p">(</span><span class="n">pi</span> <span class="o">/</span> <span class="mi">180</span><span class="p">);</span>
<span class="p">}</span>

</code></pre></div></div>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/RadiansNode.jpg" alt="img" /></p>

<h3 id="degrees-弧度转角度">Degrees: 弧度转角度</h3>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">float</span> <span class="nf">degrees</span><span class="p">(</span><span class="kt">float</span> <span class="n">randians</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">reutrn</span> <span class="n">randians</span> <span class="o">*</span> <span class="mi">180</span> <span class="o">/</span> <span class="n">pi</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="cos-余弦值输入值必须以弧度单位制为单位">Cos: 余弦值。输入值必须以弧度单位制为单位。</h3>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">cos</span><span class="p">(</span> <span class="n">radian</span> <span class="p">)</span>
</code></pre></div></div>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/CosGraphicNode.png" alt="img" /></p>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/CosNode.jpg" alt="img" /></p>

<p><img src="docimage/image-20200603010751496.png" alt="image-20200603010751496" /></p>

<h3 id="acos-反余弦函数">ACos: 反余弦函数</h3>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">acos</span><span class="p">(</span>  <span class="n">cos</span><span class="p">(</span><span class="n">radian</span><span class="p">)</span> <span class="p">)</span> <span class="o">==</span> <span class="n">radian</span>
</code></pre></div></div>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/ACosGraphicNode.png" alt="img" /></p>

<h3 id="cosh-双曲余弦值输入值必须以弧度单位制为单位">Cosh: 双曲余弦值。输入值必须以弧度单位制为单位。</h3>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/CoshGraphicNode.png" alt="img" /></p>

<h3 id="sin-正弦值输入值必须以弧度单位制为单位">Sin: 正弦值。输入值必须以弧度单位制为单位。</h3>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/SinGraphicNode.png" alt="img" /></p>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/SinNode.jpg" alt="img" /></p>

<h3 id="asin-反正弦假设输入值在-11范围内结果值将在-π-2π-2范围内">ASin: 反正弦。假设输入值在[-1,1]范围内，结果值将在[-π/ 2，π/ 2]范围内。</h3>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">asin</span><span class="p">(</span> <span class="n">sin</span><span class="p">(</span><span class="n">a</span><span class="p">)</span> <span class="p">)</span> <span class="o">==</span> <span class="n">a</span>
</code></pre></div></div>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/ASinGraphicNode.png" alt="img" /></p>

<h3 id="sinh-双曲正弦值输入值必须以弧度单位制为单位">Sinh: 双曲正弦值。输入值必须以弧度单位制为单位。</h3>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/SinhGraphicNode.png" alt="img" /></p>

<h3 id="atan-反正切值结果值将在-π-2π-2范围内">ATan: 反正切值。结果值将在[-π/ 2，π/ 2]范围内。</h3>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/ATanGraphicNode.png" alt="img" /></p>

<h3 id="atan2-输出除法a--b的反正切如果ba定义了xy向量则使用此运算符返回它与x轴的弧度角">ATan2: 输出除法<a href="http://wiki.amplify.pt/index.php?title=Unity_Products:Amplify_Shader_Editor/ATan2#paramA">A </a><strong>/</strong> <a href="http://wiki.amplify.pt/index.php?title=Unity_Products:Amplify_Shader_Editor/ATan2#paramB">B</a>的反正切。如果（B，A）定义了（x，y）向量，则使用此运算符返回它与x轴的弧度角。</h3>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/ATan2Node.jpg" alt="img" /></p>

<h3 id="tanh-双曲正切值输入值必须以弧度单位制为单位">Tanh： 双曲正切值。输入值必须以弧度单位制为单位。</h3>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/TanhGraphicNode.png" alt="img" /></p>

<h3 id="tan-正切计算在其input上指定的值的切线输入值必须以弧度单位制为单位">Tan: 正切。计算在其<a href="http://wiki.amplify.pt/index.php?title=Unity_Products:Amplify_Shader_Editor/Tan#paramInput">Input</a>上指定的值的切线。输入值必须以弧度单位制为单位。</h3>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/TanNode.jpg" alt="img" /></p>

<h1 id="camera-and-screen-摄像机和屏幕">Camera And Screen: 摄像机和屏幕</h1>

<h3 id="camera-depth-fade-摄像机深度淡入淡出">Camera Depth Fade: 摄像机深度淡入淡出</h3>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/image-20200608101709592.png" alt="image-20200608101709592" /></p>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/image-20200608101732702.png" alt="image-20200608101732702" /></p>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/image-20200608101944853.png" alt="image-20200608101944853" /></p>

<p><strong>uniform float4 _ProjectionParams;</strong>
投影参数
x = 1,如果投影翻转则x = -1
y是camera近裁剪平面
z是camera远裁剪平面
w是1/远裁剪平面</p>

<h3 id="clip-planes-裁剪平面">Clip Planes: 裁剪平面</h3>

<p>unity_CameraWorldClipPlanes[6] float4 该摄像机的6个裁剪平面在世界空间下的等式，按如下顺序：左、右、下、上、近、远裁剪平面。</p>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">float4</span> <span class="n">left</span> <span class="o">=</span> <span class="n">unity_CameraWorldClipPlanes</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
<span class="n">float4</span> <span class="n">right</span> <span class="o">=</span> <span class="n">unity_CameraWorldClipPlanes</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>

<span class="n">float4</span> <span class="n">bottom</span> <span class="o">=</span> <span class="n">unity_CameraWorldClipPlanes</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
<span class="n">float4</span> <span class="n">up</span> <span class="o">=</span> <span class="n">unity_CameraWorldClipPlanes</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span>

<span class="n">float4</span> <span class="n">near</span> <span class="o">=</span> <span class="n">unity_CameraWorldClipPlanes</span><span class="p">[</span><span class="mi">4</span><span class="p">];</span>
<span class="n">float4</span> <span class="n">far</span> <span class="o">=</span> <span class="n">unity_CameraWorldClipPlanes</span><span class="p">[</span><span class="mi">5</span><span class="p">];</span>

</code></pre></div></div>

<h3 id="compute-grap-screen-pos-计算顶点在屏幕空间的位置">Compute Grap Screen Pos: 计算顶点在屏幕空间的位置</h3>

<p>“计算抓取屏幕位置”节点会同时考虑垂直方向API的差异，将剪辑空间中的位置转换为归一化的屏幕空间纹理坐标。然后，可以将输出结果直接用作“ <a href="http://wiki.amplify.pt/index.php?title=Unity_Products:Amplify_Shader_Editor/Grab_Screen_Color">抓屏颜色”</a>节点作为其UV坐标。</p>

<blockquote>
  <p>一般用于计算屏幕UV</p>

  <p>ComputeScreenPos 的 输入 参数 pos 是 经过 MVP 矩阵 变换 后 在 裁剪 空间 中的 顶点 坐标。</p>
</blockquote>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/ComputeGrabScreenPosNode.jpg" alt="image-20200608101944853" /></p>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/292994-20180907185107605-68818162.jpg" alt="image-20200608101944853" /></p>

<h3 id="compute-screen-pos-计算屏幕坐标">Compute Screen Pos: 计算屏幕坐标</h3>

<p>“计算屏幕位置”节点将剪辑空间中的位置转换为屏幕空间纹理坐标。然后可以将这些坐标直接用作<a href="http://wiki.amplify.pt/index.php?title=Unity_Products:Amplify_Shader_Editor/Texture_Sample">纹理样本</a>的UV坐标，以进行屏幕空间映射的纹理样本。</p>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/ComputeScreenPosNode.jpg" alt="image-20200608101944853" /></p>

<h3 id="dither-抖动">Dither： 抖动</h3>

<p>“抖动”节点根据其“ <a href="http://wiki.amplify.pt/index.php?title=Unity_Products:Amplify_Shader_Editor/Dither#paramPattern">图案”</a>属性创建屏幕空间抖动图案。
如果没有连接到其<a href="http://wiki.amplify.pt/index.php?title=Unity_Products:Amplify_Shader_Editor/Dither#paramInput">Input</a>，它将直接输出此模式。另一方面，如果存在连接，则将通过步进操作<strong><a href="http://wiki.amplify.pt/index.php?title=Unity_Products:Amplify_Shader_Editor/Step">*<em>Step*</em></a>（抖动模式，输入）</strong>将抖动模式应用于输入值的顶部</p>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/DitherNode.jpg" alt="image-20200608101944853" /></p>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">float</span> <span class="nf">Dither4x4Bayer</span><span class="p">(</span> <span class="kt">int</span> <span class="n">x</span><span class="p">,</span> <span class="kt">int</span> <span class="n">y</span> <span class="p">)</span>
<span class="p">{</span>
    <span class="k">const</span> <span class="kt">float</span> <span class="n">dither</span><span class="p">[</span> <span class="mi">16</span> <span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
        <span class="mi">1</span><span class="p">,</span>  <span class="mi">9</span><span class="p">,</span>  <span class="mi">3</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span>
            <span class="mi">13</span><span class="p">,</span>  <span class="mi">5</span><span class="p">,</span> <span class="mi">15</span><span class="p">,</span>  <span class="mi">7</span><span class="p">,</span>
            <span class="mi">4</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span>  <span class="mi">2</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span>
            <span class="mi">16</span><span class="p">,</span>  <span class="mi">8</span><span class="p">,</span> <span class="mi">14</span><span class="p">,</span>  <span class="mi">6</span> <span class="p">};</span>
        <span class="kt">int</span> <span class="n">r</span> <span class="o">=</span> <span class="n">y</span> <span class="o">*</span> <span class="mi">4</span> <span class="o">+</span> <span class="n">x</span><span class="p">;</span>
    <span class="k">return</span> <span class="n">dither</span><span class="p">[</span><span class="n">r</span><span class="p">]</span> <span class="o">/</span> <span class="mi">16</span><span class="p">;</span> <span class="c1">// same # of instructions as pre-dividing due to compiler magic</span>
<span class="p">}</span>



<span class="n">v2f</span> <span class="nf">vert</span> <span class="p">(</span> <span class="n">appdata</span> <span class="n">v</span> <span class="p">)</span>
<span class="p">{</span>
    <span class="n">v2f</span> <span class="n">o</span><span class="p">;</span>
    <span class="n">UNITY_SETUP_INSTANCE_ID</span><span class="p">(</span><span class="n">v</span><span class="p">);</span>
    <span class="n">UNITY_INITIALIZE_VERTEX_OUTPUT_STEREO</span><span class="p">(</span><span class="n">o</span><span class="p">);</span>
    <span class="n">UNITY_TRANSFER_INSTANCE_ID</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="n">o</span><span class="p">);</span>

    <span class="n">float4</span> <span class="n">ase_clipPos</span> <span class="o">=</span> <span class="n">UnityObjectToClipPos</span><span class="p">(</span><span class="n">v</span><span class="p">.</span><span class="n">vertex</span><span class="p">);</span>
    <span class="n">float4</span> <span class="n">screenPos</span> <span class="o">=</span> <span class="n">ComputeScreenPos</span><span class="p">(</span><span class="n">ase_clipPos</span><span class="p">);</span>
    <span class="n">o</span><span class="p">.</span><span class="n">ase_texcoord</span> <span class="o">=</span> <span class="n">screenPos</span><span class="p">;</span>

    <span class="n">o</span><span class="p">.</span><span class="n">ase_texcoord1</span><span class="p">.</span><span class="n">xy</span> <span class="o">=</span> <span class="n">v</span><span class="p">.</span><span class="n">ase_texcoord</span><span class="p">.</span><span class="n">xy</span><span class="p">;</span>

    <span class="c1">//setting value to unused interpolator channels and avoid initialization warnings</span>
    <span class="n">o</span><span class="p">.</span><span class="n">ase_texcoord1</span><span class="p">.</span><span class="n">zw</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="n">float3</span> <span class="n">vertexValue</span> <span class="o">=</span> <span class="n">float3</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
    <span class="cp">#if ASE_ABSOLUTE_VERTEX_POS
</span>    <span class="n">vertexValue</span> <span class="o">=</span> <span class="n">v</span><span class="p">.</span><span class="n">vertex</span><span class="p">.</span><span class="n">xyz</span><span class="p">;</span>
    <span class="cp">#endif
</span>    <span class="n">vertexValue</span> <span class="o">=</span> <span class="n">vertexValue</span><span class="p">;</span>
    <span class="cp">#if ASE_ABSOLUTE_VERTEX_POS
</span>    <span class="n">v</span><span class="p">.</span><span class="n">vertex</span><span class="p">.</span><span class="n">xyz</span> <span class="o">=</span> <span class="n">vertexValue</span><span class="p">;</span>
    <span class="cp">#else
</span>    <span class="n">v</span><span class="p">.</span><span class="n">vertex</span><span class="p">.</span><span class="n">xyz</span> <span class="o">+=</span> <span class="n">vertexValue</span><span class="p">;</span>
    <span class="cp">#endif
</span>    <span class="n">o</span><span class="p">.</span><span class="n">vertex</span> <span class="o">=</span> <span class="n">UnityObjectToClipPos</span><span class="p">(</span><span class="n">v</span><span class="p">.</span><span class="n">vertex</span><span class="p">);</span>
    <span class="k">return</span> <span class="n">o</span><span class="p">;</span>
<span class="p">}</span>


<span class="n">fixed4</span> <span class="nf">frag</span> <span class="p">(</span><span class="n">v2f</span> <span class="n">i</span> <span class="p">)</span> <span class="o">:</span> <span class="n">SV_Target</span>
<span class="p">{</span>
    <span class="n">UNITY_SETUP_INSTANCE_ID</span><span class="p">(</span><span class="n">i</span><span class="p">);</span>
    <span class="n">UNITY_SETUP_STEREO_EYE_INDEX_POST_VERTEX</span><span class="p">(</span><span class="n">i</span><span class="p">);</span>
    <span class="n">fixed4</span> <span class="n">finalColor</span><span class="p">;</span>
    <span class="n">float4</span> <span class="n">screenPos</span> <span class="o">=</span> <span class="n">i</span><span class="p">.</span><span class="n">ase_texcoord</span><span class="p">;</span>
    <span class="n">float4</span> <span class="n">ase_screenPosNorm</span> <span class="o">=</span> <span class="n">screenPos</span> <span class="o">/</span> <span class="n">screenPos</span><span class="p">.</span><span class="n">w</span><span class="p">;</span>
    <span class="n">ase_screenPosNorm</span><span class="p">.</span><span class="n">z</span> <span class="o">=</span> <span class="p">(</span> <span class="n">UNITY_NEAR_CLIP_VALUE</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="p">)</span> <span class="o">?</span> <span class="n">ase_screenPosNorm</span><span class="p">.</span><span class="n">z</span> <span class="o">:</span> <span class="n">ase_screenPosNorm</span><span class="p">.</span><span class="n">z</span> <span class="o">*</span> <span class="mi">0</span><span class="p">.</span><span class="mi">5</span> <span class="o">+</span> <span class="mi">0</span><span class="p">.</span><span class="mi">5</span><span class="p">;</span>
    <span class="n">float2</span> <span class="n">clipScreen367</span> <span class="o">=</span> <span class="n">ase_screenPosNorm</span><span class="p">.</span><span class="n">xy</span> <span class="o">*</span> <span class="n">_ScreenParams</span><span class="p">.</span><span class="n">xy</span><span class="p">;</span>
    <span class="kt">float</span> <span class="n">dither367</span> <span class="o">=</span> <span class="n">Dither4x4Bayer</span><span class="p">(</span> <span class="n">fmod</span><span class="p">(</span><span class="n">clipScreen367</span><span class="p">.</span><span class="n">x</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="n">fmod</span><span class="p">(</span><span class="n">clipScreen367</span><span class="p">.</span><span class="n">y</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span> <span class="p">);</span>
    <span class="n">float2</span> <span class="n">uv_Texture0</span> <span class="o">=</span> <span class="n">i</span><span class="p">.</span><span class="n">ase_texcoord1</span><span class="p">.</span><span class="n">xy</span> <span class="o">*</span> <span class="n">_Texture0_ST</span><span class="p">.</span><span class="n">xy</span> <span class="o">+</span> <span class="n">_Texture0_ST</span><span class="p">.</span><span class="n">zw</span><span class="p">;</span>
    <span class="n">dither367</span> <span class="o">=</span> <span class="n">step</span><span class="p">(</span> <span class="n">dither367</span><span class="p">,</span> <span class="n">tex2D</span><span class="p">(</span> <span class="n">_Texture0</span><span class="p">,</span> <span class="n">uv_Texture0</span> <span class="p">).</span><span class="n">g</span> <span class="p">);</span>
    <span class="n">float4</span> <span class="n">temp_cast_0</span> <span class="o">=</span> <span class="p">(</span><span class="n">dither367</span><span class="p">).</span><span class="n">xxxx</span><span class="p">;</span>


    <span class="n">finalColor</span> <span class="o">=</span> <span class="n">temp_cast_0</span><span class="p">;</span>
    <span class="k">return</span> <span class="n">finalColor</span><span class="p">;</span>
<span class="err">}</span>

</code></pre></div></div>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code>

<span class="kt">float</span> <span class="nf">Dither8x8Bayer</span><span class="p">(</span> <span class="kt">int</span> <span class="n">x</span><span class="p">,</span> <span class="kt">int</span> <span class="n">y</span> <span class="p">)</span>
<span class="p">{</span>
    <span class="k">const</span> <span class="kt">float</span> <span class="n">dither</span><span class="p">[</span> <span class="mi">64</span> <span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
        <span class="mi">1</span><span class="p">,</span> <span class="mi">49</span><span class="p">,</span> <span class="mi">13</span><span class="p">,</span> <span class="mi">61</span><span class="p">,</span>  <span class="mi">4</span><span class="p">,</span> <span class="mi">52</span><span class="p">,</span> <span class="mi">16</span><span class="p">,</span> <span class="mi">64</span><span class="p">,</span>
            <span class="mi">33</span><span class="p">,</span> <span class="mi">17</span><span class="p">,</span> <span class="mi">45</span><span class="p">,</span> <span class="mi">29</span><span class="p">,</span> <span class="mi">36</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">48</span><span class="p">,</span> <span class="mi">32</span><span class="p">,</span>
            <span class="mi">9</span><span class="p">,</span> <span class="mi">57</span><span class="p">,</span>  <span class="mi">5</span><span class="p">,</span> <span class="mi">53</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span>  <span class="mi">8</span><span class="p">,</span> <span class="mi">56</span><span class="p">,</span>
            <span class="mi">41</span><span class="p">,</span> <span class="mi">25</span><span class="p">,</span> <span class="mi">37</span><span class="p">,</span> <span class="mi">21</span><span class="p">,</span> <span class="mi">44</span><span class="p">,</span> <span class="mi">28</span><span class="p">,</span> <span class="mi">40</span><span class="p">,</span> <span class="mi">24</span><span class="p">,</span>
            <span class="mi">3</span><span class="p">,</span> <span class="mi">51</span><span class="p">,</span> <span class="mi">15</span><span class="p">,</span> <span class="mi">63</span><span class="p">,</span>  <span class="mi">2</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="mi">14</span><span class="p">,</span> <span class="mi">62</span><span class="p">,</span>
            <span class="mi">35</span><span class="p">,</span> <span class="mi">19</span><span class="p">,</span> <span class="mi">47</span><span class="p">,</span> <span class="mi">31</span><span class="p">,</span> <span class="mi">34</span><span class="p">,</span> <span class="mi">18</span><span class="p">,</span> <span class="mi">46</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span>
            <span class="mi">11</span><span class="p">,</span> <span class="mi">59</span><span class="p">,</span>  <span class="mi">7</span><span class="p">,</span> <span class="mi">55</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">58</span><span class="p">,</span>  <span class="mi">6</span><span class="p">,</span> <span class="mi">54</span><span class="p">,</span>
            <span class="mi">43</span><span class="p">,</span> <span class="mi">27</span><span class="p">,</span> <span class="mi">39</span><span class="p">,</span> <span class="mi">23</span><span class="p">,</span> <span class="mi">42</span><span class="p">,</span> <span class="mi">26</span><span class="p">,</span> <span class="mi">38</span><span class="p">,</span> <span class="mi">22</span><span class="p">};</span>
        <span class="kt">int</span> <span class="n">r</span> <span class="o">=</span> <span class="n">y</span> <span class="o">*</span> <span class="mi">8</span> <span class="o">+</span> <span class="n">x</span><span class="p">;</span>
    <span class="k">return</span> <span class="n">dither</span><span class="p">[</span><span class="n">r</span><span class="p">]</span> <span class="o">/</span> <span class="mi">64</span><span class="p">;</span> <span class="c1">// same # of instructions as pre-dividing due to compiler magic</span>
<span class="p">}</span>


<span class="kt">float</span> <span class="n">dither367</span> <span class="o">=</span> <span class="n">Dither8x8Bayer</span><span class="p">(</span> <span class="n">fmod</span><span class="p">(</span><span class="n">clipScreen367</span><span class="p">.</span><span class="n">x</span><span class="p">,</span> <span class="mi">8</span><span class="p">),</span> <span class="n">fmod</span><span class="p">(</span><span class="n">clipScreen367</span><span class="p">.</span><span class="n">y</span><span class="p">,</span> <span class="mi">8</span><span class="p">)</span> <span class="p">);</span>

</code></pre></div></div>

<h3 id="grab_screen_color-抓取屏幕颜色">Grab_Screen_Color: 抓取屏幕颜色</h3>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/GrabScreenPosAndColor.jpg" alt="image-20200608101944853" /></p>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="n">GrabPass</span><span class="p">{</span> <span class="p">}</span>

<span class="n">Pass</span>
<span class="p">{</span>
    <span class="n">fixed4</span> <span class="n">frag</span> <span class="p">(</span><span class="n">v2f</span> <span class="n">i</span> <span class="p">)</span> <span class="o">:</span> <span class="n">SV_Target</span>
    <span class="p">{</span>
        <span class="n">float4</span> <span class="n">screenColor371</span> <span class="o">=</span> <span class="n">UNITY_SAMPLE_SCREENSPACE_TEXTURE</span><span class="p">(</span><span class="n">_GrabTexture</span><span class="p">,</span><span class="n">_Vector0</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="grap-screen-pos-抓取屏幕位置">Grap Screen Pos: 抓取屏幕位置</h3>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/GrabScreenPosAndColor.jpg" alt="image-20200608101944853" /></p>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">GrabPass</span><span class="p">{</span> <span class="p">}</span>

<span class="n">Pass</span>
<span class="p">{</span>
            <span class="cp">#if defined(UNITY_STEREO_INSTANCING_ENABLED) || defined(UNITY_STEREO_MULTIVIEW_ENABLED)
</span>                <span class="cp">#define ASE_DECLARE_SCREENSPACE_TEXTURE(tex) UNITY_DECLARE_SCREENSPACE_TEXTURE(tex);
</span>            <span class="cp">#else
</span>                <span class="cp">#define ASE_DECLARE_SCREENSPACE_TEXTURE(tex) UNITY_DECLARE_SCREENSPACE_TEXTURE(tex)
</span>            <span class="cp">#endif
</span>    
            <span class="n">ASE_DECLARE_SCREENSPACE_TEXTURE</span><span class="p">(</span> <span class="n">_GrabTexture</span> <span class="p">)</span>
            <span class="kr">inline</span> <span class="n">float4</span> <span class="n">ASE_ComputeGrabScreenPos</span><span class="p">(</span> <span class="n">float4</span> <span class="n">pos</span> <span class="p">)</span>
            <span class="p">{</span>
                <span class="cp">#if UNITY_UV_STARTS_AT_TOP
</span>                <span class="kt">float</span> <span class="n">scale</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">.</span><span class="mi">0</span><span class="p">;</span>
                <span class="cp">#else
</span>                <span class="kt">float</span> <span class="n">scale</span> <span class="o">=</span> <span class="mi">1</span><span class="p">.</span><span class="mi">0</span><span class="p">;</span>
                <span class="cp">#endif
</span>                <span class="n">float4</span> <span class="n">o</span> <span class="o">=</span> <span class="n">pos</span><span class="p">;</span>
                <span class="n">o</span><span class="p">.</span><span class="n">y</span> <span class="o">=</span> <span class="n">pos</span><span class="p">.</span><span class="n">w</span> <span class="o">*</span> <span class="mi">0</span><span class="p">.</span><span class="mi">5</span><span class="n">f</span><span class="p">;</span>
                <span class="n">o</span><span class="p">.</span><span class="n">y</span> <span class="o">=</span> <span class="p">(</span> <span class="n">pos</span><span class="p">.</span><span class="n">y</span> <span class="o">-</span> <span class="n">o</span><span class="p">.</span><span class="n">y</span> <span class="p">)</span> <span class="o">*</span> <span class="n">_ProjectionParams</span><span class="p">.</span><span class="n">x</span> <span class="o">*</span> <span class="n">scale</span> <span class="o">+</span> <span class="n">o</span><span class="p">.</span><span class="n">y</span><span class="p">;</span>
                <span class="k">return</span> <span class="n">o</span><span class="p">;</span>
            <span class="p">}</span>

    
			<span class="n">v2f</span> <span class="n">vert</span> <span class="p">(</span> <span class="n">appdata</span> <span class="n">v</span> <span class="p">)</span>
			<span class="p">{</span>
				<span class="n">v2f</span> <span class="n">o</span><span class="p">;</span>
                <span class="n">float4</span> <span class="n">ase_clipPos</span> <span class="o">=</span> <span class="n">UnityObjectToClipPos</span><span class="p">(</span><span class="n">v</span><span class="p">.</span><span class="n">vertex</span><span class="p">);</span>
				<span class="n">float4</span> <span class="n">screenPos</span> <span class="o">=</span> <span class="n">ComputeScreenPos</span><span class="p">(</span><span class="n">ase_clipPos</span><span class="p">);</span>
				<span class="n">o</span><span class="p">.</span><span class="n">ase_texcoord</span> <span class="o">=</span> <span class="n">screenPos</span><span class="p">;</span>
            <span class="p">}</span>
    
    
			<span class="n">fixed4</span> <span class="n">frag</span> <span class="p">(</span><span class="n">v2f</span> <span class="n">i</span> <span class="p">)</span> <span class="o">:</span> <span class="n">SV_Target</span>
			<span class="p">{</span>
                <span class="n">float4</span> <span class="n">screenPos</span> <span class="o">=</span> <span class="n">i</span><span class="p">.</span><span class="n">ase_texcoord</span><span class="p">;</span>
				<span class="n">float4</span> <span class="n">ase_grabScreenPos</span> <span class="o">=</span> <span class="n">ASE_ComputeGrabScreenPos</span><span class="p">(</span> <span class="n">screenPos</span> <span class="p">);</span>
				<span class="n">float4</span> <span class="n">ase_grabScreenPosNorm</span> <span class="o">=</span> <span class="n">ase_grabScreenPos</span> <span class="o">/</span> <span class="n">ase_grabScreenPos</span><span class="p">.</span><span class="n">w</span><span class="p">;</span>
				<span class="n">float4</span> <span class="n">screenColor371</span> <span class="o">=</span> <span class="n">UNITY_SAMPLE_SCREENSPACE_TEXTURE</span><span class="p">(</span><span class="n">_GrabTexture</span><span class="p">,</span><span class="n">ase_grabScreenPosNorm</span><span class="p">.</span><span class="n">xy</span><span class="p">);</span>
            <span class="p">}</span>

<span class="p">}</span>
</code></pre></div></div>

<h3 id="ortho-params-正交参数">Ortho Params： 正交参数</h3>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/OrthoParams.jpg" alt="image-20200608101944853" /></p>

<ul>
  <li>Ortho Cam Width: 正交摄像机的宽度</li>
  <li>Ortho Cam Height: 正交摄像机的高度</li>
  <li>Projection Mode: 投影模式， 0：透视投影， 1：正交投影</li>
</ul>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">unity_OrthoParams</span><span class="p">.</span><span class="n">x</span><span class="p">;</span> <span class="c1">//Ortho Cam Width: 正交摄像机的宽度</span>
<span class="n">unity_OrthoParams</span><span class="p">.</span><span class="n">y</span><span class="p">;</span> <span class="c1">//Ortho Cam Height: 正交摄像机的高度</span>
<span class="n">unity_OrthoParams</span><span class="p">.</span><span class="n">w</span><span class="p">;</span> <span class="c1">//Projection Mode: 投影模式， 0：透视投影， 1：正交投影</span>
</code></pre></div></div>

<h3 id="projection-matrices-投影矩阵-投影逆矩阵">Projection Matrices: 投影矩阵, 投影逆矩阵</h3>

<p>投影矩阵根据所选的<a href="http://wiki.amplify.pt/index.php?title=Unity_Products:Amplify_Shader_Editor/Projection_Matrices#paramProjectionMatrix">投影矩阵</a>选项输出当前摄像机的投影矩阵或其反<a href="http://wiki.amplify.pt/index.php?title=Unity_Products:Amplify_Shader_Editor/Projection_Matrices#paramProjectionMatrix">矩阵</a>。</p>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nl">unity_CameraProjection:</span><span class="n">float4x4</span><span class="p">;</span> <span class="c1">// 投影矩阵</span>
<span class="n">unity_CameraInvProjection</span><span class="o">:</span><span class="n">float4x4</span> <span class="c1">// 投影逆矩阵</span>
</code></pre></div></div>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/ProjectionMatrices.jpg" alt="image-20200608101944853" /></p>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/image-20200611105006812.png" alt="image-20200611105006812" /></p>

<h3 id="projection-params-投影参数">Projection Params: 投影参数</h3>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/ProjectionParams.jpg" alt="image-20200608101944853" /></p>

<table>
  <thead>
    <tr>
      <th style="text-align: left">输出口</th>
      <th style="text-align: left">描述</th>
      <th style="text-align: center">类型</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">翻转</td>
      <td style="text-align: left">指示使用法线投影矩阵还是翻转投影矩阵进行渲染<strong>-1：</strong>使用翻转的投影矩阵进行渲染。<strong>1：</strong>使用法线投影矩阵渲染。</td>
      <td style="text-align: center">float</td>
    </tr>
    <tr>
      <td style="text-align: left">近平面</td>
      <td style="text-align: left">相机的近平面。</td>
      <td style="text-align: center">float</td>
    </tr>
    <tr>
      <td style="text-align: left">远平面</td>
      <td style="text-align: left">相机的远平面。</td>
      <td style="text-align: center">float</td>
    </tr>
    <tr>
      <td style="text-align: left">1 /远平面</td>
      <td style="text-align: left">相机的反远平面。</td>
      <td style="text-align: center">float</td>
    </tr>
  </tbody>
</table>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">_ProjectionParams</span><span class="p">.</span><span class="n">x</span><span class="p">;</span> <span class="c1">// Flipped 翻转</span>
<span class="n">_ProjectionParams</span><span class="p">.</span><span class="n">y</span><span class="p">;</span> <span class="c1">// Near Plane 近平面</span>
<span class="n">_ProjectionParams</span><span class="p">.</span><span class="n">z</span><span class="p">;</span> <span class="c1">// Far Plane 远平面</span>
<span class="n">_ProjectionParams</span><span class="p">.</span><span class="n">w</span><span class="p">;</span> <span class="c1">// 1 / Far Plane 返远平面</span>

</code></pre></div></div>

<h3 id="screen-depth-屏幕深度">Screen Depth: 屏幕深度</h3>

<p>屏幕深度节点通过读取当前<a href="http://wiki.amplify.pt/index.php?title=Unity_Products:Amplify_Shader_Editor/Screen_Position">屏幕位置</a>或自定义屏幕位置（如果连接到<a href="http://wiki.amplify.pt/index.php?title=Unity_Products:Amplify_Shader_Editor/Screen_Depth#paramPos">Pos</a>输入端口）的深度缓冲区来输出屏幕深度。通过相应地选择“ <a href="http://wiki.amplify.pt/index.php?title=Unity_Products:Amplify_Shader_Editor/Screen_Depth#paramViewSpace">视图空间</a> ”，结果可以在[0,1]线性范围内显示，也可以在视图空间坐标中以未缩放的实际距离值显示。
<strong>注意1：</strong>如果着色器需要访问分配给对象后面的深度缓冲区内容，则不应将其写入深度缓冲区。为此，必须将“渲染队列”设置为大于或等于“透明”。
请查看有关<a href="https://docs.unity3d.com/Manual/SL-SubShaderTags.html">渲染队列</a>和<a href="https://docs.unity3d.com/Manual/SL-CameraDepthTexture.html">深度纹理的</a> Unity官方文档以获取更多信息。
<strong>注意2：</strong> 如果使用正交摄影机，则必须关闭“ <a href="http://wiki.amplify.pt/index.php?title=Unity_Products:Amplify_Shader_Editor/Screen_Depth#paramConvertToLinear">转换为线性”</a>切换，因为在深度缓冲区上写入/读取的值已经在线性刻度上。</p>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/image-20200611111427617.png" alt="image-20200611111427617" /></p>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="n">Pass</span>
<span class="p">{</span>
    
            <span class="cp">#ifndef UNITY_SETUP_STEREO_EYE_INDEX_POST_VERTEX
</span>                <span class="c1">//only defining to not throw compilation error over Unity 5.5</span>
                <span class="cp">#define UNITY_SETUP_STEREO_EYE_INDEX_POST_VERTEX(input)
</span>            <span class="cp">#endif
</span>    
			<span class="n">UNITY_DECLARE_DEPTH_TEXTURE</span><span class="p">(</span> <span class="n">_CameraDepthTexture</span> <span class="p">);</span>
			<span class="k">uniform</span> <span class="n">float4</span> <span class="n">_CameraDepthTexture_TexelSize</span><span class="p">;</span>
    
    	
			<span class="n">v2f</span> <span class="n">vert</span> <span class="p">(</span> <span class="n">appdata</span> <span class="n">v</span> <span class="p">)</span>
			<span class="p">{</span>
                <span class="n">float4</span> <span class="n">ase_clipPos</span> <span class="o">=</span> <span class="n">UnityObjectToClipPos</span><span class="p">(</span><span class="n">v</span><span class="p">.</span><span class="n">vertex</span><span class="p">);</span>
				<span class="n">float4</span> <span class="n">screenPos</span> <span class="o">=</span> <span class="n">ComputeScreenPos</span><span class="p">(</span><span class="n">ase_clipPos</span><span class="p">);</span>
				<span class="n">o</span><span class="p">.</span><span class="n">ase_texcoord</span> <span class="o">=</span> <span class="n">screenPos</span><span class="p">;</span>
            <span class="p">}</span>
    
    
			<span class="n">fixed4</span> <span class="n">frag</span> <span class="p">(</span><span class="n">v2f</span> <span class="n">i</span> <span class="p">)</span> <span class="o">:</span> <span class="n">SV_Target</span>
			<span class="p">{</span>
                
				<span class="n">UNITY_SETUP_STEREO_EYE_INDEX_POST_VERTEX</span><span class="p">(</span><span class="n">i</span><span class="p">);</span>
                
                <span class="n">fixed4</span> <span class="n">finalColor</span><span class="p">;</span>
				<span class="n">float4</span> <span class="n">screenPos</span> <span class="o">=</span> <span class="n">i</span><span class="p">.</span><span class="n">ase_texcoord</span><span class="p">;</span>
				<span class="n">float4</span> <span class="n">ase_screenPosNorm</span> <span class="o">=</span> <span class="n">screenPos</span> <span class="o">/</span> <span class="n">screenPos</span><span class="p">.</span><span class="n">w</span><span class="p">;</span>
				<span class="n">ase_screenPosNorm</span><span class="p">.</span><span class="n">z</span> <span class="o">=</span> <span class="p">(</span> <span class="n">UNITY_NEAR_CLIP_VALUE</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="p">)</span> <span class="o">?</span> <span class="n">ase_screenPosNorm</span><span class="p">.</span><span class="n">z</span> <span class="o">:</span> <span class="n">ase_screenPosNorm</span><span class="p">.</span><span class="n">z</span> <span class="o">*</span> <span class="mi">0</span><span class="p">.</span><span class="mi">5</span> <span class="o">+</span> <span class="mi">0</span><span class="p">.</span><span class="mi">5</span><span class="p">;</span>
				<span class="kt">float</span> <span class="n">eyeDepth388</span> <span class="o">=</span> <span class="n">LinearEyeDepth</span><span class="p">(</span><span class="n">SAMPLE_DEPTH_TEXTURE</span><span class="p">(</span> <span class="n">_CameraDepthTexture</span><span class="p">,</span> <span class="n">ase_screenPosNorm</span><span class="p">.</span><span class="n">xy</span> <span class="p">));</span>
				
            <span class="p">}</span>
    
<span class="p">}</span>
</code></pre></div></div>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/image-20200611111628101.png" alt="image-20200611111628101" /></p>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
			<span class="n">fixed4</span> <span class="nf">frag</span> <span class="p">(</span><span class="n">v2f</span> <span class="n">i</span> <span class="p">)</span> <span class="o">:</span> <span class="n">SV_Target</span>
			<span class="p">{</span>
				<span class="n">UNITY_SETUP_INSTANCE_ID</span><span class="p">(</span><span class="n">i</span><span class="p">);</span>
				<span class="n">UNITY_SETUP_STEREO_EYE_INDEX_POST_VERTEX</span><span class="p">(</span><span class="n">i</span><span class="p">);</span>
				<span class="n">fixed4</span> <span class="n">finalColor</span><span class="p">;</span>
				<span class="n">float4</span> <span class="n">screenPos</span> <span class="o">=</span> <span class="n">i</span><span class="p">.</span><span class="n">ase_texcoord</span><span class="p">;</span>
				<span class="n">float4</span> <span class="n">ase_screenPosNorm</span> <span class="o">=</span> <span class="n">screenPos</span> <span class="o">/</span> <span class="n">screenPos</span><span class="p">.</span><span class="n">w</span><span class="p">;</span>
				<span class="n">ase_screenPosNorm</span><span class="p">.</span><span class="n">z</span> <span class="o">=</span> <span class="p">(</span> <span class="n">UNITY_NEAR_CLIP_VALUE</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="p">)</span> <span class="o">?</span> <span class="n">ase_screenPosNorm</span><span class="p">.</span><span class="n">z</span> <span class="o">:</span> <span class="n">ase_screenPosNorm</span><span class="p">.</span><span class="n">z</span> <span class="o">*</span> <span class="mi">0</span><span class="p">.</span><span class="mi">5</span> <span class="o">+</span> <span class="mi">0</span><span class="p">.</span><span class="mi">5</span><span class="p">;</span>
				<span class="kt">float</span> <span class="n">eyeDepth388</span> <span class="o">=</span> <span class="p">(</span><span class="n">SAMPLE_DEPTH_TEXTURE</span><span class="p">(</span> <span class="n">_CameraDepthTexture</span><span class="p">,</span> <span class="n">ase_screenPosNorm</span><span class="p">.</span><span class="n">xy</span> <span class="p">)</span><span class="o">*</span><span class="p">(</span> <span class="n">_ProjectionParams</span><span class="p">.</span><span class="n">z</span> <span class="o">-</span> <span class="n">_ProjectionParams</span><span class="p">.</span><span class="n">y</span> <span class="p">));</span>
			<span class="err">}</span>
</code></pre></div></div>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/image-20200611111907260.png" alt="image-20200611111907260" /></p>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code>			<span class="n">fixed4</span> <span class="nf">frag</span> <span class="p">(</span><span class="n">v2f</span> <span class="n">i</span> <span class="p">)</span> <span class="o">:</span> <span class="n">SV_Target</span>
			<span class="p">{</span>
				<span class="n">UNITY_SETUP_INSTANCE_ID</span><span class="p">(</span><span class="n">i</span><span class="p">);</span>
				<span class="n">UNITY_SETUP_STEREO_EYE_INDEX_POST_VERTEX</span><span class="p">(</span><span class="n">i</span><span class="p">);</span>
				<span class="n">fixed4</span> <span class="n">finalColor</span><span class="p">;</span>
				<span class="n">float4</span> <span class="n">screenPos</span> <span class="o">=</span> <span class="n">i</span><span class="p">.</span><span class="n">ase_texcoord</span><span class="p">;</span>
				<span class="n">float4</span> <span class="n">ase_screenPosNorm</span> <span class="o">=</span> <span class="n">screenPos</span> <span class="o">/</span> <span class="n">screenPos</span><span class="p">.</span><span class="n">w</span><span class="p">;</span>
				<span class="n">ase_screenPosNorm</span><span class="p">.</span><span class="n">z</span> <span class="o">=</span> <span class="p">(</span> <span class="n">UNITY_NEAR_CLIP_VALUE</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="p">)</span> <span class="o">?</span> <span class="n">ase_screenPosNorm</span><span class="p">.</span><span class="n">z</span> <span class="o">:</span> <span class="n">ase_screenPosNorm</span><span class="p">.</span><span class="n">z</span> <span class="o">*</span> <span class="mi">0</span><span class="p">.</span><span class="mi">5</span> <span class="o">+</span> <span class="mi">0</span><span class="p">.</span><span class="mi">5</span><span class="p">;</span>
				<span class="kt">float</span> <span class="n">clampDepth388</span> <span class="o">=</span> <span class="n">SAMPLE_DEPTH_TEXTURE</span><span class="p">(</span> <span class="n">_CameraDepthTexture</span><span class="p">,</span> <span class="n">ase_screenPosNorm</span><span class="p">.</span><span class="n">xy</span> <span class="p">);</span>
            <span class="err">}</span>
</code></pre></div></div>

<h3 id="screen-params-屏幕参数">Screen Params: 屏幕参数</h3>

<p>屏幕参数节点输出当前屏幕或渲染目标有用的信息，例如其当前<a href="http://wiki.amplify.pt/index.php?title=Unity_Products:Amplify_Shader_Editor/Screen_Params#paramWidth">Width</a>或<a href="http://wiki.amplify.pt/index.php?title=Unity_Products:Amplify_Shader_Editor/Screen_Params#paramHeight">Height</a>。在处理屏幕空间效果时，通常使用此节点。</p>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/ScreenPositionNode.jpg" alt="image-20200611111907260" /></p>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">_ScreenParams</span><span class="p">.</span><span class="n">x</span><span class="p">;</span> <span class="c1">// RT Width, 当前渲染目标/屏幕宽度（以像素为单位）</span>
<span class="n">_ScreenParams</span><span class="p">.</span><span class="n">y</span><span class="p">;</span> <span class="c1">// RT Height, 当前渲染目标/屏幕高度（以像素为单位）</span>
<span class="n">_ScreenParams</span><span class="p">.</span><span class="n">z</span><span class="p">;</span> <span class="c1">// 1 + 1 / Width, 当前渲染目标/屏幕的反转宽度（以像素为单位）加1</span>
<span class="n">_ScreenParams</span><span class="p">.</span><span class="n">w</span><span class="p">;</span> <span class="c1">// 1 + 1 / Height, 当前渲染目标/屏幕的反向高度（以像素为单位）加1</span>
</code></pre></div></div>

<h3 id="screen-position-屏幕位置">Screen Position: 屏幕位置</h3>

<p>屏幕位置节点输出当前像素的屏幕位置。根据所选的“ <a href="http://wiki.amplify.pt/index.php?title=Unity_Products:Amplify_Shader_Editor/Screen_Position#paramType">类型”</a>参数，位置值可以在“屏幕坐标”中，对于X轴可以为<strong>[0，屏幕宽度</strong><strong>-1]，</strong>对于Y轴可以为<strong>[0，屏幕高度-1]</strong>，也可以归一化为<strong>[0,1]</strong>范围对于两个轴。</p>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/image-20200611144015550.png" alt="image-20200611144015550" /></p>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
			<span class="n">v2f</span> <span class="nf">vert</span> <span class="p">(</span> <span class="n">appdata</span> <span class="n">v</span> <span class="p">)</span>
			<span class="p">{</span>
				
				<span class="n">float4</span> <span class="n">ase_clipPos</span> <span class="o">=</span> <span class="n">UnityObjectToClipPos</span><span class="p">(</span><span class="n">v</span><span class="p">.</span><span class="n">vertex</span><span class="p">);</span>
				<span class="n">float4</span> <span class="n">screenPos</span> <span class="o">=</span> <span class="n">ComputeScreenPos</span><span class="p">(</span><span class="n">ase_clipPos</span><span class="p">);</span>
				<span class="n">o</span><span class="p">.</span><span class="n">ase_texcoord</span> <span class="o">=</span> <span class="n">screenPos</span><span class="p">;</span>
			<span class="p">}</span>
			
			
			<span class="n">fixed4</span> <span class="n">frag</span> <span class="p">(</span><span class="n">v2f</span> <span class="n">i</span> <span class="p">)</span> <span class="o">:</span> <span class="n">SV_Target</span>
			<span class="p">{</span>
				<span class="n">float4</span> <span class="n">screenPos</span> <span class="o">=</span> <span class="n">i</span><span class="p">.</span><span class="n">ase_texcoord</span><span class="p">;</span>
				<span class="n">float4</span> <span class="n">ase_screenPosNorm</span> <span class="o">=</span> <span class="n">screenPos</span> <span class="o">/</span> <span class="n">screenPos</span><span class="p">.</span><span class="n">w</span><span class="p">;</span>
				<span class="n">ase_screenPosNorm</span><span class="p">.</span><span class="n">z</span> <span class="o">=</span> <span class="p">(</span> <span class="n">UNITY_NEAR_CLIP_VALUE</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="p">)</span> <span class="o">?</span> <span class="n">ase_screenPosNorm</span><span class="p">.</span><span class="n">z</span> <span class="o">:</span> <span class="n">ase_screenPosNorm</span><span class="p">.</span><span class="n">z</span> <span class="o">*</span> <span class="mi">0</span><span class="p">.</span><span class="mi">5</span> <span class="o">+</span> <span class="mi">0</span><span class="p">.</span><span class="mi">5</span><span class="p">;</span>
				<span class="n">float4</span> <span class="n">temp_cast_0</span> <span class="o">=</span> <span class="p">(</span><span class="n">ase_screenPosNorm</span><span class="p">.</span><span class="n">x</span><span class="p">).</span><span class="n">xxxx</span><span class="p">;</span>
				
				
				<span class="n">finalColor</span> <span class="o">=</span> <span class="n">temp_cast_0</span><span class="p">;</span>
				<span class="k">return</span> <span class="n">finalColor</span><span class="p">;</span>
			<span class="p">}</span>
</code></pre></div></div>

<h3 id="view-dir-视图方向">View Dir: 视图方向</h3>

<p>“视图目录”节点在由“ <a href="http://wiki.amplify.pt/index.php?title=Unity_Products:Amplify_Shader_Editor/View_Dir#paramSpace">空间”</a>参数定义的坐标空间上输出当前摄像机的视图方向。
“世界空间”坐标将是最常用的选项，但是“切线空间”也非常有用，主要用于法线贴图（通常在切线空间中）上的操作。</p>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/image-20200611144926834.png" alt="image-20200611144926834" /></p>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
			<span class="n">v2f</span> <span class="nf">vert</span> <span class="p">(</span> <span class="n">appdata</span> <span class="n">v</span> <span class="p">)</span>
			<span class="p">{</span>
				<span class="n">v2f</span> <span class="n">o</span><span class="p">;</span>

				<span class="n">float3</span> <span class="n">ase_worldPos</span> <span class="o">=</span> <span class="n">mul</span><span class="p">(</span><span class="n">unity_ObjectToWorld</span><span class="p">,</span> <span class="n">v</span><span class="p">.</span><span class="n">vertex</span><span class="p">).</span><span class="n">xyz</span><span class="p">;</span>
				<span class="n">o</span><span class="p">.</span><span class="n">ase_texcoord</span><span class="p">.</span><span class="n">xyz</span> <span class="o">=</span> <span class="n">ase_worldPos</span><span class="p">;</span>
				
				
				<span class="c1">//setting value to unused interpolator channels and avoid initialization warnings</span>
				<span class="n">o</span><span class="p">.</span><span class="n">ase_texcoord</span><span class="p">.</span><span class="n">w</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
            <span class="p">}</span>


			<span class="n">fixed4</span> <span class="n">frag</span> <span class="p">(</span><span class="n">v2f</span> <span class="n">i</span> <span class="p">)</span> <span class="o">:</span> <span class="n">SV_Target</span>
			<span class="p">{</span>
				<span class="n">fixed4</span> <span class="n">finalColor</span><span class="p">;</span>
				<span class="n">float3</span> <span class="n">ase_worldPos</span> <span class="o">=</span> <span class="n">i</span><span class="p">.</span><span class="n">ase_texcoord</span><span class="p">.</span><span class="n">xyz</span><span class="p">;</span>
				<span class="n">float3</span> <span class="n">ase_worldViewDir</span> <span class="o">=</span> <span class="n">UnityWorldSpaceViewDir</span><span class="p">(</span><span class="n">ase_worldPos</span><span class="p">);</span>
				<span class="n">ase_worldViewDir</span> <span class="o">=</span> <span class="n">Unity_SafeNormalize</span><span class="p">(</span> <span class="n">ase_worldViewDir</span> <span class="p">);</span>
                <span class="c1">// ase_worldViewDir = normalize(ase_worldViewDir);</span>
				<span class="n">float4</span> <span class="n">temp_cast_0</span> <span class="o">=</span> <span class="p">(</span><span class="n">ase_worldViewDir</span><span class="p">.</span><span class="n">x</span><span class="p">).</span><span class="n">xxxx</span><span class="p">;</span>
				
				
				<span class="n">finalColor</span> <span class="o">=</span> <span class="n">temp_cast_0</span><span class="p">;</span>
				<span class="k">return</span> <span class="n">finalColor</span><span class="p">;</span>
			<span class="p">}</span>


</code></pre></div></div>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/image-20200611145216044.png" alt="image-20200611145216044" /></p>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
			<span class="k">struct</span> <span class="n">appdata</span>
			<span class="p">{</span>
				<span class="n">float4</span> <span class="n">vertex</span> <span class="o">:</span> <span class="n">POSITION</span><span class="p">;</span>
				<span class="n">float4</span> <span class="n">color</span> <span class="o">:</span> <span class="n">COLOR</span><span class="p">;</span>
				<span class="n">UNITY_VERTEX_INPUT_INSTANCE_ID</span>
				<span class="n">float4</span> <span class="n">ase_tangent</span> <span class="o">:</span> <span class="n">TANGENT</span><span class="p">;</span>
				<span class="n">float3</span> <span class="n">ase_normal</span> <span class="o">:</span> <span class="n">NORMAL</span><span class="p">;</span>
			<span class="p">};</span>
                
			<span class="k">struct</span> <span class="n">v2f</span>
			<span class="p">{</span>
				<span class="n">float4</span> <span class="n">vertex</span> <span class="o">:</span> <span class="n">SV_POSITION</span><span class="p">;</span>
				<span class="n">UNITY_VERTEX_INPUT_INSTANCE_ID</span>
				<span class="n">UNITY_VERTEX_OUTPUT_STEREO</span>
				<span class="n">float4</span> <span class="n">ase_texcoord</span> <span class="o">:</span> <span class="n">TEXCOORD0</span><span class="p">;</span>
				<span class="n">float4</span> <span class="n">ase_texcoord1</span> <span class="o">:</span> <span class="n">TEXCOORD1</span><span class="p">;</span>
				<span class="n">float4</span> <span class="n">ase_texcoord2</span> <span class="o">:</span> <span class="n">TEXCOORD2</span><span class="p">;</span>
				<span class="n">float4</span> <span class="n">ase_texcoord3</span> <span class="o">:</span> <span class="n">TEXCOORD3</span><span class="p">;</span>
			<span class="p">};</span>
			
			<span class="n">v2f</span> <span class="nf">vert</span> <span class="p">(</span> <span class="n">appdata</span> <span class="n">v</span> <span class="p">)</span>
			<span class="p">{</span>
				<span class="n">v2f</span> <span class="n">o</span><span class="p">;</span>

                <span class="c1">// 切线，世界坐标系</span>
				<span class="n">float3</span> <span class="n">ase_worldTangent</span> <span class="o">=</span> <span class="n">UnityObjectToWorldDir</span><span class="p">(</span><span class="n">v</span><span class="p">.</span><span class="n">ase_tangent</span><span class="p">);</span>
				<span class="n">o</span><span class="p">.</span><span class="n">ase_texcoord</span><span class="p">.</span><span class="n">xyz</span> <span class="o">=</span> <span class="n">ase_worldTangent</span><span class="p">;</span>
                
                <span class="c1">// 法线，世界坐标系</span>
				<span class="n">float3</span> <span class="n">ase_worldNormal</span> <span class="o">=</span> <span class="n">UnityObjectToWorldNormal</span><span class="p">(</span><span class="n">v</span><span class="p">.</span><span class="n">ase_normal</span><span class="p">);</span>
				<span class="n">o</span><span class="p">.</span><span class="n">ase_texcoord1</span><span class="p">.</span><span class="n">xyz</span> <span class="o">=</span> <span class="n">ase_worldNormal</span><span class="p">;</span>
                
                <span class="c1">// 法线和切线垂直面，世界坐标系</span>
				<span class="kt">float</span> <span class="n">ase_vertexTangentSign</span> <span class="o">=</span> <span class="n">v</span><span class="p">.</span><span class="n">ase_tangent</span><span class="p">.</span><span class="n">w</span> <span class="o">*</span> <span class="n">unity_WorldTransformParams</span><span class="p">.</span><span class="n">w</span><span class="p">;</span>
				<span class="n">float3</span> <span class="n">ase_worldBitangent</span> <span class="o">=</span> <span class="n">cross</span><span class="p">(</span> <span class="n">ase_worldNormal</span><span class="p">,</span> <span class="n">ase_worldTangent</span> <span class="p">)</span> <span class="o">*</span> <span class="n">ase_vertexTangentSign</span><span class="p">;</span>
				<span class="n">o</span><span class="p">.</span><span class="n">ase_texcoord2</span><span class="p">.</span><span class="n">xyz</span> <span class="o">=</span> <span class="n">ase_worldBitangent</span><span class="p">;</span>
                
                <span class="c1">// 位置，世界坐标系</span>
				<span class="n">float3</span> <span class="n">ase_worldPos</span> <span class="o">=</span> <span class="n">mul</span><span class="p">(</span><span class="n">unity_ObjectToWorld</span><span class="p">,</span> <span class="n">v</span><span class="p">.</span><span class="n">vertex</span><span class="p">).</span><span class="n">xyz</span><span class="p">;</span>
				<span class="n">o</span><span class="p">.</span><span class="n">ase_texcoord3</span><span class="p">.</span><span class="n">xyz</span> <span class="o">=</span> <span class="n">ase_worldPos</span><span class="p">;</span>
            <span class="p">}</span>


			<span class="n">fixed4</span> <span class="n">frag</span> <span class="p">(</span><span class="n">v2f</span> <span class="n">i</span> <span class="p">)</span> <span class="o">:</span> <span class="n">SV_Target</span>
			<span class="p">{</span>
				<span class="n">fixed4</span> <span class="n">finalColor</span><span class="p">;</span>
				<span class="n">float3</span> <span class="n">ase_worldTangent</span> <span class="o">=</span> <span class="n">i</span><span class="p">.</span><span class="n">ase_texcoord</span><span class="p">.</span><span class="n">xyz</span><span class="p">;</span>
				<span class="n">float3</span> <span class="n">ase_worldNormal</span> <span class="o">=</span> <span class="n">i</span><span class="p">.</span><span class="n">ase_texcoord1</span><span class="p">.</span><span class="n">xyz</span><span class="p">;</span>
				<span class="n">float3</span> <span class="n">ase_worldBitangent</span> <span class="o">=</span> <span class="n">i</span><span class="p">.</span><span class="n">ase_texcoord2</span><span class="p">.</span><span class="n">xyz</span><span class="p">;</span>
                
				<span class="n">float3</span> <span class="n">tanToWorld0</span> <span class="o">=</span> <span class="n">float3</span><span class="p">(</span> <span class="n">ase_worldTangent</span><span class="p">.</span><span class="n">x</span><span class="p">,</span> <span class="n">ase_worldBitangent</span><span class="p">.</span><span class="n">x</span><span class="p">,</span> <span class="n">ase_worldNormal</span><span class="p">.</span><span class="n">x</span> <span class="p">);</span>
				<span class="n">float3</span> <span class="n">tanToWorld1</span> <span class="o">=</span> <span class="n">float3</span><span class="p">(</span> <span class="n">ase_worldTangent</span><span class="p">.</span><span class="n">y</span><span class="p">,</span> <span class="n">ase_worldBitangent</span><span class="p">.</span><span class="n">y</span><span class="p">,</span> <span class="n">ase_worldNormal</span><span class="p">.</span><span class="n">y</span> <span class="p">);</span>
				<span class="n">float3</span> <span class="n">tanToWorld2</span> <span class="o">=</span> <span class="n">float3</span><span class="p">(</span> <span class="n">ase_worldTangent</span><span class="p">.</span><span class="n">z</span><span class="p">,</span> <span class="n">ase_worldBitangent</span><span class="p">.</span><span class="n">z</span><span class="p">,</span> <span class="n">ase_worldNormal</span><span class="p">.</span><span class="n">z</span> <span class="p">);</span>
                
				<span class="n">float3</span> <span class="n">ase_worldPos</span> <span class="o">=</span> <span class="n">i</span><span class="p">.</span><span class="n">ase_texcoord3</span><span class="p">.</span><span class="n">xyz</span><span class="p">;</span>
				<span class="n">float3</span> <span class="n">ase_worldViewDir</span> <span class="o">=</span> <span class="n">UnityWorldSpaceViewDir</span><span class="p">(</span><span class="n">ase_worldPos</span><span class="p">);</span>
				<span class="n">ase_worldViewDir</span> <span class="o">=</span> <span class="n">normalize</span><span class="p">(</span><span class="n">ase_worldViewDir</span><span class="p">);</span>
                
				<span class="n">float3</span> <span class="n">ase_tanViewDir</span> <span class="o">=</span>  <span class="n">tanToWorld0</span> <span class="o">*</span> <span class="n">ase_worldViewDir</span><span class="p">.</span><span class="n">x</span> <span class="o">+</span> <span class="n">tanToWorld1</span> <span class="o">*</span> <span class="n">ase_worldViewDir</span><span class="p">.</span><span class="n">y</span>  <span class="o">+</span> <span class="n">tanToWorld2</span> <span class="o">*</span> <span class="n">ase_worldViewDir</span><span class="p">.</span><span class="n">z</span><span class="p">;</span>
				<span class="n">ase_tanViewDir</span> <span class="o">=</span> <span class="n">normalize</span><span class="p">(</span><span class="n">ase_tanViewDir</span><span class="p">);</span>
				
				
				<span class="n">finalColor</span> <span class="o">=</span> <span class="n">float4</span><span class="p">(</span> <span class="n">ase_tanViewDir</span> <span class="p">,</span> <span class="mi">0</span><span class="p">.</span><span class="mi">0</span> <span class="p">);</span>
				<span class="k">return</span> <span class="n">finalColor</span><span class="p">;</span>
			<span class="p">}</span>
</code></pre></div></div>

<h3 id="world-space-camera-pos-相机在世界空间中的位置">World Space Camera Pos: 相机在世界空间中的位置</h3>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nl">_WorldSpaceCameraPos:float3:</span>
</code></pre></div></div>

<h3 id="z-buffer-params-z缓冲区参数">Z Buffer Params: Z缓冲区参数</h3>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/ZBufferParams.jpg" alt="image-20200611111907260" /></p>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">_ZBufferParams</span><span class="p">.</span><span class="n">x</span><span class="p">;</span> <span class="c1">// 1 - far/near</span>
<span class="n">_ZBufferParams</span><span class="p">.</span><span class="n">y</span><span class="p">;</span> <span class="c1">// far / near</span>
<span class="n">_ZBufferParams</span><span class="p">.</span><span class="n">z</span><span class="p">;</span> <span class="c1">// ( 1 - far plane / near plane ) / far </span>
<span class="n">_ZBufferParams</span><span class="p">.</span><span class="n">w</span><span class="p">;</span> <span class="c1">//  ( far plane / near plane ) / far</span>
</code></pre></div></div>

<h1 id="constants-and-properties-常量和属性">Constants And Properties: 常量和属性</h1>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/image-20200611163458039.png" alt="image-20200611163458039" /></p>

<h3 id="gradient-渐变">Gradient: 渐变</h3>

<p>渐变节点创建一个渐变对象，该渐变对象必须与“ <a href="http://wiki.amplify.pt/index.php?title=Unity_Products:Amplify_Shader_Editor/Gradient_Sample">渐变样本”</a>节点相连才能在给定的时间对每个颜色进行采样。</p>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/GradientSampleNode.jpg" alt="image-20200611163458039" /></p>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
			<span class="k">struct</span> <span class="n">Gradient</span>
			<span class="p">{</span>
				<span class="kt">int</span> <span class="n">type</span><span class="p">;</span>
				<span class="kt">int</span> <span class="n">colorsLength</span><span class="p">;</span>
				<span class="kt">int</span> <span class="n">alphasLength</span><span class="p">;</span>
				<span class="n">float4</span> <span class="n">colors</span><span class="p">[</span><span class="mi">8</span><span class="p">];</span>
				<span class="n">float2</span> <span class="n">alphas</span><span class="p">[</span><span class="mi">8</span><span class="p">];</span>
			<span class="p">};</span>
			
			<span class="n">Gradient</span> <span class="nf">NewGradient</span><span class="p">(</span><span class="kt">int</span> <span class="n">type</span><span class="p">,</span> <span class="kt">int</span> <span class="n">colorsLength</span><span class="p">,</span> <span class="kt">int</span> <span class="n">alphasLength</span><span class="p">,</span> 
			<span class="n">float4</span> <span class="n">colors0</span><span class="p">,</span> <span class="n">float4</span> <span class="n">colors1</span><span class="p">,</span> <span class="n">float4</span> <span class="n">colors2</span><span class="p">,</span> <span class="n">float4</span> <span class="n">colors3</span><span class="p">,</span> <span class="n">float4</span> <span class="n">colors4</span><span class="p">,</span> <span class="n">float4</span> <span class="n">colors5</span><span class="p">,</span> <span class="n">float4</span> <span class="n">colors6</span><span class="p">,</span> <span class="n">float4</span> <span class="n">colors7</span><span class="p">,</span>
			<span class="n">float2</span> <span class="n">alphas0</span><span class="p">,</span> <span class="n">float2</span> <span class="n">alphas1</span><span class="p">,</span> <span class="n">float2</span> <span class="n">alphas2</span><span class="p">,</span> <span class="n">float2</span> <span class="n">alphas3</span><span class="p">,</span> <span class="n">float2</span> <span class="n">alphas4</span><span class="p">,</span> <span class="n">float2</span> <span class="n">alphas5</span><span class="p">,</span> <span class="n">float2</span> <span class="n">alphas6</span><span class="p">,</span> <span class="n">float2</span> <span class="n">alphas7</span><span class="p">)</span>
			<span class="p">{</span>
				<span class="n">Gradient</span> <span class="n">g</span><span class="p">;</span>
				<span class="n">g</span><span class="p">.</span><span class="n">type</span> <span class="o">=</span> <span class="n">type</span><span class="p">;</span>
				<span class="n">g</span><span class="p">.</span><span class="n">colorsLength</span> <span class="o">=</span> <span class="n">colorsLength</span><span class="p">;</span>
				<span class="n">g</span><span class="p">.</span><span class="n">alphasLength</span> <span class="o">=</span> <span class="n">alphasLength</span><span class="p">;</span>
				<span class="n">g</span><span class="p">.</span><span class="n">colors</span><span class="p">[</span> <span class="mi">0</span> <span class="p">]</span> <span class="o">=</span> <span class="n">colors0</span><span class="p">;</span>
				<span class="n">g</span><span class="p">.</span><span class="n">colors</span><span class="p">[</span> <span class="mi">1</span> <span class="p">]</span> <span class="o">=</span> <span class="n">colors1</span><span class="p">;</span>
				<span class="n">g</span><span class="p">.</span><span class="n">colors</span><span class="p">[</span> <span class="mi">2</span> <span class="p">]</span> <span class="o">=</span> <span class="n">colors2</span><span class="p">;</span>
				<span class="n">g</span><span class="p">.</span><span class="n">colors</span><span class="p">[</span> <span class="mi">3</span> <span class="p">]</span> <span class="o">=</span> <span class="n">colors3</span><span class="p">;</span>
				<span class="n">g</span><span class="p">.</span><span class="n">colors</span><span class="p">[</span> <span class="mi">4</span> <span class="p">]</span> <span class="o">=</span> <span class="n">colors4</span><span class="p">;</span>
				<span class="n">g</span><span class="p">.</span><span class="n">colors</span><span class="p">[</span> <span class="mi">5</span> <span class="p">]</span> <span class="o">=</span> <span class="n">colors5</span><span class="p">;</span>
				<span class="n">g</span><span class="p">.</span><span class="n">colors</span><span class="p">[</span> <span class="mi">6</span> <span class="p">]</span> <span class="o">=</span> <span class="n">colors6</span><span class="p">;</span>
				<span class="n">g</span><span class="p">.</span><span class="n">colors</span><span class="p">[</span> <span class="mi">7</span> <span class="p">]</span> <span class="o">=</span> <span class="n">colors7</span><span class="p">;</span>
				<span class="n">g</span><span class="p">.</span><span class="n">alphas</span><span class="p">[</span> <span class="mi">0</span> <span class="p">]</span> <span class="o">=</span> <span class="n">alphas0</span><span class="p">;</span>
				<span class="n">g</span><span class="p">.</span><span class="n">alphas</span><span class="p">[</span> <span class="mi">1</span> <span class="p">]</span> <span class="o">=</span> <span class="n">alphas1</span><span class="p">;</span>
				<span class="n">g</span><span class="p">.</span><span class="n">alphas</span><span class="p">[</span> <span class="mi">2</span> <span class="p">]</span> <span class="o">=</span> <span class="n">alphas2</span><span class="p">;</span>
				<span class="n">g</span><span class="p">.</span><span class="n">alphas</span><span class="p">[</span> <span class="mi">3</span> <span class="p">]</span> <span class="o">=</span> <span class="n">alphas3</span><span class="p">;</span>
				<span class="n">g</span><span class="p">.</span><span class="n">alphas</span><span class="p">[</span> <span class="mi">4</span> <span class="p">]</span> <span class="o">=</span> <span class="n">alphas4</span><span class="p">;</span>
				<span class="n">g</span><span class="p">.</span><span class="n">alphas</span><span class="p">[</span> <span class="mi">5</span> <span class="p">]</span> <span class="o">=</span> <span class="n">alphas5</span><span class="p">;</span>
				<span class="n">g</span><span class="p">.</span><span class="n">alphas</span><span class="p">[</span> <span class="mi">6</span> <span class="p">]</span> <span class="o">=</span> <span class="n">alphas6</span><span class="p">;</span>
				<span class="n">g</span><span class="p">.</span><span class="n">alphas</span><span class="p">[</span> <span class="mi">7</span> <span class="p">]</span> <span class="o">=</span> <span class="n">alphas7</span><span class="p">;</span>
				<span class="k">return</span> <span class="n">g</span><span class="p">;</span>
			<span class="p">}</span>
			
			<span class="n">float4</span> <span class="nf">SampleGradient</span><span class="p">(</span> <span class="n">Gradient</span> <span class="n">gradient</span><span class="p">,</span> <span class="kt">float</span> <span class="n">time</span> <span class="p">)</span>
			<span class="p">{</span>
				<span class="n">float3</span> <span class="n">color</span> <span class="o">=</span> <span class="n">gradient</span><span class="p">.</span><span class="n">colors</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="n">rgb</span><span class="p">;</span>
				<span class="n">UNITY_UNROLL</span>
				<span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">c</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">c</span> <span class="o">&lt;</span> <span class="mi">8</span><span class="p">;</span> <span class="n">c</span><span class="o">++</span><span class="p">)</span>
				<span class="p">{</span>
				<span class="kt">float</span> <span class="n">colorPos</span> <span class="o">=</span> <span class="n">saturate</span><span class="p">((</span><span class="n">time</span> <span class="o">-</span> <span class="n">gradient</span><span class="p">.</span><span class="n">colors</span><span class="p">[</span><span class="n">c</span><span class="o">-</span><span class="mi">1</span><span class="p">].</span><span class="n">w</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="n">gradient</span><span class="p">.</span><span class="n">colors</span><span class="p">[</span><span class="n">c</span><span class="p">].</span><span class="n">w</span> <span class="o">-</span> <span class="n">gradient</span><span class="p">.</span><span class="n">colors</span><span class="p">[</span><span class="n">c</span><span class="o">-</span><span class="mi">1</span><span class="p">].</span><span class="n">w</span><span class="p">))</span> <span class="o">*</span> <span class="n">step</span><span class="p">(</span><span class="n">c</span><span class="p">,</span> <span class="p">(</span><span class="kt">float</span><span class="p">)</span><span class="n">gradient</span><span class="p">.</span><span class="n">colorsLength</span><span class="o">-</span><span class="mi">1</span><span class="p">);</span>
				<span class="n">color</span> <span class="o">=</span> <span class="n">lerp</span><span class="p">(</span><span class="n">color</span><span class="p">,</span> <span class="n">gradient</span><span class="p">.</span><span class="n">colors</span><span class="p">[</span><span class="n">c</span><span class="p">].</span><span class="n">rgb</span><span class="p">,</span> <span class="n">lerp</span><span class="p">(</span><span class="n">colorPos</span><span class="p">,</span> <span class="n">step</span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mo">01</span><span class="p">,</span> <span class="n">colorPos</span><span class="p">),</span> <span class="n">gradient</span><span class="p">.</span><span class="n">type</span><span class="p">));</span>
				<span class="p">}</span>
				<span class="cp">#ifndef UNITY_COLORSPACE_GAMMA
</span>				<span class="n">color</span> <span class="o">=</span> <span class="n">half3</span><span class="p">(</span><span class="n">GammaToLinearSpaceExact</span><span class="p">(</span><span class="n">color</span><span class="p">.</span><span class="n">r</span><span class="p">),</span> <span class="n">GammaToLinearSpaceExact</span><span class="p">(</span><span class="n">color</span><span class="p">.</span><span class="n">g</span><span class="p">),</span> <span class="n">GammaToLinearSpaceExact</span><span class="p">(</span><span class="n">color</span><span class="p">.</span><span class="n">b</span><span class="p">));</span>
				<span class="cp">#endif
</span>				<span class="kt">float</span> <span class="n">alpha</span> <span class="o">=</span> <span class="n">gradient</span><span class="p">.</span><span class="n">alphas</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="n">x</span><span class="p">;</span>
				<span class="n">UNITY_UNROLL</span>
				<span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">a</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">a</span> <span class="o">&lt;</span> <span class="mi">8</span><span class="p">;</span> <span class="n">a</span><span class="o">++</span><span class="p">)</span>
				<span class="p">{</span>
				<span class="kt">float</span> <span class="n">alphaPos</span> <span class="o">=</span> <span class="n">saturate</span><span class="p">((</span><span class="n">time</span> <span class="o">-</span> <span class="n">gradient</span><span class="p">.</span><span class="n">alphas</span><span class="p">[</span><span class="n">a</span><span class="o">-</span><span class="mi">1</span><span class="p">].</span><span class="n">y</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="n">gradient</span><span class="p">.</span><span class="n">alphas</span><span class="p">[</span><span class="n">a</span><span class="p">].</span><span class="n">y</span> <span class="o">-</span> <span class="n">gradient</span><span class="p">.</span><span class="n">alphas</span><span class="p">[</span><span class="n">a</span><span class="o">-</span><span class="mi">1</span><span class="p">].</span><span class="n">y</span><span class="p">))</span> <span class="o">*</span> <span class="n">step</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="p">(</span><span class="kt">float</span><span class="p">)</span><span class="n">gradient</span><span class="p">.</span><span class="n">alphasLength</span><span class="o">-</span><span class="mi">1</span><span class="p">);</span>
				<span class="n">alpha</span> <span class="o">=</span> <span class="n">lerp</span><span class="p">(</span><span class="n">alpha</span><span class="p">,</span> <span class="n">gradient</span><span class="p">.</span><span class="n">alphas</span><span class="p">[</span><span class="n">a</span><span class="p">].</span><span class="n">x</span><span class="p">,</span> <span class="n">lerp</span><span class="p">(</span><span class="n">alphaPos</span><span class="p">,</span> <span class="n">step</span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mo">01</span><span class="p">,</span> <span class="n">alphaPos</span><span class="p">),</span> <span class="n">gradient</span><span class="p">.</span><span class="n">type</span><span class="p">));</span>
				<span class="p">}</span>
				<span class="k">return</span> <span class="n">float4</span><span class="p">(</span><span class="n">color</span><span class="p">,</span> <span class="n">alpha</span><span class="p">);</span>
			<span class="p">}</span>
			


			<span class="n">fixed4</span> <span class="n">frag</span> <span class="p">(</span><span class="n">v2f</span> <span class="n">i</span> <span class="p">)</span> <span class="o">:</span> <span class="n">SV_Target</span>
			<span class="p">{</span>
				<span class="n">fixed4</span> <span class="n">finalColor</span><span class="p">;</span>
				<span class="n">Gradient</span> <span class="n">gradient414</span> <span class="o">=</span> <span class="n">NewGradient</span><span class="p">(</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">float4</span><span class="p">(</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">.</span><span class="mi">2500038</span> <span class="p">),</span> <span class="n">float4</span><span class="p">(</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">.</span><span class="mi">9499962</span> <span class="p">),</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">float2</span><span class="p">(</span> <span class="mi">0</span><span class="p">.</span><span class="mi">6627451</span><span class="p">,</span> <span class="mi">0</span><span class="p">.</span><span class="mi">319997</span> <span class="p">),</span> <span class="n">float2</span><span class="p">(</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">.</span><span class="mi">9000076</span> <span class="p">),</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span> <span class="p">);</span>
				<span class="n">float2</span> <span class="n">uv0421</span> <span class="o">=</span> <span class="n">i</span><span class="p">.</span><span class="n">ase_texcoord</span><span class="p">.</span><span class="n">xy</span> <span class="o">*</span> <span class="n">float2</span><span class="p">(</span> <span class="mi">1</span><span class="p">,</span><span class="mi">1</span> <span class="p">)</span> <span class="o">+</span> <span class="n">float2</span><span class="p">(</span> <span class="mi">0</span><span class="p">,</span><span class="mi">0</span> <span class="p">);</span>
				
				
				<span class="n">finalColor</span> <span class="o">=</span> <span class="n">SampleGradient</span><span class="p">(</span> <span class="n">gradient414</span><span class="p">,</span> <span class="n">uv0421</span><span class="p">.</span><span class="n">y</span> <span class="p">);</span>
				<span class="k">return</span> <span class="n">finalColor</span><span class="p">;</span>
			<span class="p">}</span>
</code></pre></div></div>

<h3 id="pi-π">PI: π</h3>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">UNITY_PI</span>
</code></pre></div></div>

<h3 id="tau-2π">Tau: 2π</h3>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="mi">6</span><span class="p">.</span><span class="mi">28318548202515</span>
</code></pre></div></div>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/TauNode.jpg" alt="image-20200611163458039" /></p>

<h1 id="functions-函数">Functions: 函数</h1>

<h3 id="blinnphonglightwrap-blinnphong光照">BlinnPhongLightWrap: BlinnPhong光照</h3>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/image-20200611203704180.png" alt="image-20200611203704180" /></p>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/image-20200611204328876.png" alt="image-20200611204328876" /></p>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
	<span class="n">Properties</span>
	<span class="p">{</span>
		<span class="n">_ColorBase</span><span class="p">(</span><span class="s">"ColorBase"</span><span class="p">,</span> <span class="n">Color</span><span class="p">)</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
		<span class="n">_Specular</span><span class="p">(</span><span class="s">"Specular"</span><span class="p">,</span> <span class="n">Range</span><span class="p">(</span> <span class="mi">0</span> <span class="p">,</span> <span class="mi">5</span><span class="p">))</span> <span class="o">=</span> <span class="mi">1</span><span class="p">.</span><span class="mi">930303</span>
		<span class="n">_Glosss</span><span class="p">(</span><span class="s">"Glosss"</span><span class="p">,</span> <span class="n">Range</span><span class="p">(</span> <span class="mi">0</span> <span class="p">,</span> <span class="mi">5</span><span class="p">))</span> <span class="o">=</span> <span class="mi">0</span><span class="p">.</span><span class="mi">4863844</span>
		<span class="n">_LightWrapping</span><span class="p">(</span><span class="s">"LightWrapping"</span><span class="p">,</span> <span class="n">Range</span><span class="p">(</span> <span class="mi">0</span> <span class="p">,</span> <span class="mi">5</span><span class="p">))</span> <span class="o">=</span> <span class="mi">0</span>
		<span class="p">[</span><span class="n">Normal</span><span class="p">]</span><span class="n">_TextureNormal</span><span class="p">(</span><span class="s">"TextureNormal"</span><span class="p">,</span> <span class="mi">2</span><span class="n">D</span><span class="p">)</span> <span class="o">=</span> <span class="s">"white"</span> <span class="p">{}</span>
		<span class="p">[</span><span class="n">HideInInspector</span><span class="p">]</span> <span class="n">_texcoord</span><span class="p">(</span> <span class="s">""</span><span class="p">,</span> <span class="mi">2</span><span class="n">D</span> <span class="p">)</span> <span class="o">=</span> <span class="s">"white"</span> <span class="p">{}</span>

	<span class="p">}</span>


	<span class="n">SubShader</span>
	<span class="p">{</span>
        
		
		<span class="n">Pass</span>
		<span class="p">{</span>
            
			<span class="k">struct</span> <span class="n">appdata</span>
			<span class="p">{</span>
				<span class="n">float4</span> <span class="n">vertex</span> <span class="o">:</span> <span class="n">POSITION</span><span class="p">;</span>
				<span class="n">float4</span> <span class="n">color</span> <span class="o">:</span> <span class="n">COLOR</span><span class="p">;</span>
				<span class="n">UNITY_VERTEX_INPUT_INSTANCE_ID</span>
				<span class="n">float4</span> <span class="n">ase_texcoord</span> <span class="o">:</span> <span class="n">TEXCOORD0</span><span class="p">;</span>
				<span class="n">float4</span> <span class="n">ase_tangent</span> <span class="o">:</span> <span class="n">TANGENT</span><span class="p">;</span>
				<span class="n">float3</span> <span class="n">ase_normal</span> <span class="o">:</span> <span class="n">NORMAL</span><span class="p">;</span>
			<span class="p">};</span>
			
			<span class="k">struct</span> <span class="n">v2f</span>
			<span class="p">{</span>
				<span class="n">float4</span> <span class="n">vertex</span> <span class="o">:</span> <span class="n">SV_POSITION</span><span class="p">;</span>
				<span class="n">UNITY_VERTEX_INPUT_INSTANCE_ID</span>
				<span class="n">UNITY_VERTEX_OUTPUT_STEREO</span>
				<span class="n">float4</span> <span class="n">ase_texcoord</span> <span class="o">:</span> <span class="n">TEXCOORD0</span><span class="p">;</span>
				<span class="n">float4</span> <span class="n">ase_texcoord1</span> <span class="o">:</span> <span class="n">TEXCOORD1</span><span class="p">;</span>
				<span class="n">float4</span> <span class="n">ase_texcoord2</span> <span class="o">:</span> <span class="n">TEXCOORD2</span><span class="p">;</span>
				<span class="n">float4</span> <span class="n">ase_texcoord3</span> <span class="o">:</span> <span class="n">TEXCOORD3</span><span class="p">;</span>
				<span class="n">float4</span> <span class="n">ase_texcoord4</span> <span class="o">:</span> <span class="n">TEXCOORD4</span><span class="p">;</span>
				<span class="n">UNITY_SHADOW_COORDS</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
			<span class="p">};</span>
                
                
			<span class="k">uniform</span> <span class="kt">float</span> <span class="n">_LightWrapping</span><span class="p">;</span>
			<span class="k">uniform</span> <span class="kt">sampler2D</span> <span class="n">_TextureNormal</span><span class="p">;</span>
			<span class="k">uniform</span> <span class="n">float4</span> <span class="n">_TextureNormal_ST</span><span class="p">;</span>
			<span class="k">uniform</span> <span class="n">float4</span> <span class="n">_ColorBase</span><span class="p">;</span>
			<span class="k">uniform</span> <span class="kt">float</span> <span class="n">_Glosss</span><span class="p">;</span>
			<span class="k">uniform</span> <span class="kt">float</span> <span class="n">_Specular</span><span class="p">;</span>
            
			<span class="n">v2f</span> <span class="n">vert</span> <span class="p">(</span> <span class="n">appdata</span> <span class="n">v</span> <span class="p">)</span>
			<span class="p">{</span>
				<span class="n">v2f</span> <span class="n">o</span><span class="p">;</span>
				<span class="n">UNITY_SETUP_INSTANCE_ID</span><span class="p">(</span><span class="n">v</span><span class="p">);</span>
				<span class="n">UNITY_INITIALIZE_VERTEX_OUTPUT_STEREO</span><span class="p">(</span><span class="n">o</span><span class="p">);</span>
				<span class="n">UNITY_TRANSFER_INSTANCE_ID</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="n">o</span><span class="p">);</span>

				<span class="c1">// 切线，世界坐标系</span>
				<span class="n">float3</span> <span class="n">ase_worldTangent</span> <span class="o">=</span> <span class="n">UnityObjectToWorldDir</span><span class="p">(</span><span class="n">v</span><span class="p">.</span><span class="n">ase_tangent</span><span class="p">);</span>
				<span class="n">o</span><span class="p">.</span><span class="n">ase_texcoord1</span><span class="p">.</span><span class="n">xyz</span> <span class="o">=</span> <span class="n">ase_worldTangent</span><span class="p">;</span>

				<span class="c1">// 法线，世界坐标系</span>
				<span class="n">float3</span> <span class="n">ase_worldNormal</span> <span class="o">=</span> <span class="n">UnityObjectToWorldNormal</span><span class="p">(</span><span class="n">v</span><span class="p">.</span><span class="n">ase_normal</span><span class="p">);</span>
				<span class="n">o</span><span class="p">.</span><span class="n">ase_texcoord2</span><span class="p">.</span><span class="n">xyz</span> <span class="o">=</span> <span class="n">ase_worldNormal</span><span class="p">;</span>

				<span class="c1">// 切线和法线垂直面，世界坐标系</span>
				<span class="kt">float</span> <span class="n">ase_vertexTangentSign</span> <span class="o">=</span> <span class="n">v</span><span class="p">.</span><span class="n">ase_tangent</span><span class="p">.</span><span class="n">w</span> <span class="o">*</span> <span class="n">unity_WorldTransformParams</span><span class="p">.</span><span class="n">w</span><span class="p">;</span>
				<span class="n">float3</span> <span class="n">ase_worldBitangent</span> <span class="o">=</span> <span class="n">cross</span><span class="p">(</span> <span class="n">ase_worldNormal</span><span class="p">,</span> <span class="n">ase_worldTangent</span> <span class="p">)</span> <span class="o">*</span> <span class="n">ase_vertexTangentSign</span><span class="p">;</span>
				<span class="n">o</span><span class="p">.</span><span class="n">ase_texcoord3</span><span class="p">.</span><span class="n">xyz</span> <span class="o">=</span> <span class="n">ase_worldBitangent</span><span class="p">;</span>

				<span class="c1">// 位置，世界坐标系</span>
				<span class="n">float3</span> <span class="n">ase_worldPos</span> <span class="o">=</span> <span class="n">mul</span><span class="p">(</span><span class="n">unity_ObjectToWorld</span><span class="p">,</span> <span class="n">v</span><span class="p">.</span><span class="n">vertex</span><span class="p">).</span><span class="n">xyz</span><span class="p">;</span>
				<span class="n">o</span><span class="p">.</span><span class="n">ase_texcoord4</span><span class="p">.</span><span class="n">xyz</span> <span class="o">=</span> <span class="n">ase_worldPos</span><span class="p">;</span>
				
				<span class="n">o</span><span class="p">.</span><span class="n">ase_texcoord</span><span class="p">.</span><span class="n">xy</span> <span class="o">=</span> <span class="n">v</span><span class="p">.</span><span class="n">ase_texcoord</span><span class="p">.</span><span class="n">xy</span><span class="p">;</span>
				
				<span class="c1">//setting value to unused interpolator channels and avoid initialization warnings</span>
				<span class="n">o</span><span class="p">.</span><span class="n">ase_texcoord</span><span class="p">.</span><span class="n">zw</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
				<span class="n">o</span><span class="p">.</span><span class="n">ase_texcoord1</span><span class="p">.</span><span class="n">w</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
				<span class="n">o</span><span class="p">.</span><span class="n">ase_texcoord2</span><span class="p">.</span><span class="n">w</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
				<span class="n">o</span><span class="p">.</span><span class="n">ase_texcoord3</span><span class="p">.</span><span class="n">w</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
				<span class="n">o</span><span class="p">.</span><span class="n">ase_texcoord4</span><span class="p">.</span><span class="n">w</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
				<span class="n">float3</span> <span class="n">vertexValue</span> <span class="o">=</span> <span class="n">float3</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
				<span class="cp">#if ASE_ABSOLUTE_VERTEX_POS
</span>				<span class="n">vertexValue</span> <span class="o">=</span> <span class="n">v</span><span class="p">.</span><span class="n">vertex</span><span class="p">.</span><span class="n">xyz</span><span class="p">;</span>
				<span class="cp">#endif
</span>				<span class="n">vertexValue</span> <span class="o">=</span> <span class="n">vertexValue</span><span class="p">;</span>
				<span class="cp">#if ASE_ABSOLUTE_VERTEX_POS
</span>				<span class="n">v</span><span class="p">.</span><span class="n">vertex</span><span class="p">.</span><span class="n">xyz</span> <span class="o">=</span> <span class="n">vertexValue</span><span class="p">;</span>
				<span class="cp">#else
</span>				<span class="n">v</span><span class="p">.</span><span class="n">vertex</span><span class="p">.</span><span class="n">xyz</span> <span class="o">+=</span> <span class="n">vertexValue</span><span class="p">;</span>
				<span class="cp">#endif
</span>				<span class="n">o</span><span class="p">.</span><span class="n">vertex</span> <span class="o">=</span> <span class="n">UnityObjectToClipPos</span><span class="p">(</span><span class="n">v</span><span class="p">.</span><span class="n">vertex</span><span class="p">);</span>
				<span class="k">return</span> <span class="n">o</span><span class="p">;</span>
			<span class="p">}</span>
			
			<span class="n">fixed4</span> <span class="n">frag</span> <span class="p">(</span><span class="n">v2f</span> <span class="n">i</span> <span class="p">)</span> <span class="o">:</span> <span class="n">SV_Target</span>
			<span class="p">{</span>
				<span class="n">UNITY_SETUP_INSTANCE_ID</span><span class="p">(</span><span class="n">i</span><span class="p">);</span>
				<span class="n">UNITY_SETUP_STEREO_EYE_INDEX_POST_VERTEX</span><span class="p">(</span><span class="n">i</span><span class="p">);</span>
				<span class="n">fixed4</span> <span class="n">finalColor</span><span class="p">;</span>

				<span class="n">float3</span> <span class="n">LightWrapVector47_g1</span> <span class="o">=</span> <span class="p">((</span> <span class="n">_LightWrapping</span> <span class="o">*</span> <span class="mi">0</span><span class="p">.</span><span class="mi">5</span> <span class="p">)).</span><span class="n">xxx</span><span class="p">;</span>

				<span class="c1">// 法线贴图UV</span>
				<span class="n">float2</span> <span class="n">uv_TextureNormal</span> <span class="o">=</span> <span class="n">i</span><span class="p">.</span><span class="n">ase_texcoord</span><span class="p">.</span><span class="n">xy</span> <span class="o">*</span> <span class="n">_TextureNormal_ST</span><span class="p">.</span><span class="n">xy</span> <span class="o">+</span> <span class="n">_TextureNormal_ST</span><span class="p">.</span><span class="n">zw</span><span class="p">;</span>

				<span class="c1">// 切线，世界坐标系</span>
				<span class="n">float3</span> <span class="n">ase_worldTangent</span> <span class="o">=</span> <span class="n">i</span><span class="p">.</span><span class="n">ase_texcoord1</span><span class="p">.</span><span class="n">xyz</span><span class="p">;</span>

				<span class="c1">// 法线，世界坐标系</span>
				<span class="n">float3</span> <span class="n">ase_worldNormal</span> <span class="o">=</span> <span class="n">i</span><span class="p">.</span><span class="n">ase_texcoord2</span><span class="p">.</span><span class="n">xyz</span><span class="p">;</span>

				<span class="c1">// 切线和法线垂直面，世界坐标系</span>
				<span class="n">float3</span> <span class="n">ase_worldBitangent</span> <span class="o">=</span> <span class="n">i</span><span class="p">.</span><span class="n">ase_texcoord3</span><span class="p">.</span><span class="n">xyz</span><span class="p">;</span>

				<span class="n">float3</span> <span class="n">tanToWorld0</span> <span class="o">=</span> <span class="n">float3</span><span class="p">(</span> <span class="n">ase_worldTangent</span><span class="p">.</span><span class="n">x</span><span class="p">,</span> <span class="n">ase_worldBitangent</span><span class="p">.</span><span class="n">x</span><span class="p">,</span> <span class="n">ase_worldNormal</span><span class="p">.</span><span class="n">x</span> <span class="p">);</span>
				<span class="n">float3</span> <span class="n">tanToWorld1</span> <span class="o">=</span> <span class="n">float3</span><span class="p">(</span> <span class="n">ase_worldTangent</span><span class="p">.</span><span class="n">y</span><span class="p">,</span> <span class="n">ase_worldBitangent</span><span class="p">.</span><span class="n">y</span><span class="p">,</span> <span class="n">ase_worldNormal</span><span class="p">.</span><span class="n">y</span> <span class="p">);</span>
				<span class="n">float3</span> <span class="n">tanToWorld2</span> <span class="o">=</span> <span class="n">float3</span><span class="p">(</span> <span class="n">ase_worldTangent</span><span class="p">.</span><span class="n">z</span><span class="p">,</span> <span class="n">ase_worldBitangent</span><span class="p">.</span><span class="n">z</span><span class="p">,</span> <span class="n">ase_worldNormal</span><span class="p">.</span><span class="n">z</span> <span class="p">);</span>

				<span class="c1">// 法线贴图</span>
				<span class="n">float3</span> <span class="n">tanNormal19_g1</span> <span class="o">=</span> <span class="n">UnpackNormal</span><span class="p">(</span> <span class="n">tex2D</span><span class="p">(</span> <span class="n">_TextureNormal</span><span class="p">,</span> <span class="n">uv_TextureNormal</span> <span class="p">)</span> <span class="p">);</span>
				<span class="c1">// 法线贴图, 世界坐标系</span>
				<span class="n">float3</span> <span class="n">worldNormal19_g1</span> <span class="o">=</span> <span class="n">normalize</span><span class="p">(</span> <span class="n">float3</span><span class="p">(</span><span class="n">dot</span><span class="p">(</span><span class="n">tanToWorld0</span><span class="p">,</span><span class="n">tanNormal19_g1</span><span class="p">),</span> <span class="n">dot</span><span class="p">(</span><span class="n">tanToWorld1</span><span class="p">,</span><span class="n">tanNormal19_g1</span><span class="p">),</span> <span class="n">dot</span><span class="p">(</span><span class="n">tanToWorld2</span><span class="p">,</span><span class="n">tanNormal19_g1</span><span class="p">))</span> <span class="p">);</span>
				<span class="n">float3</span> <span class="n">CurrentNormal23_g1</span> <span class="o">=</span> <span class="n">worldNormal19_g1</span><span class="p">;</span>

				<span class="c1">// 位置， 世界坐标系</span>
				<span class="n">float3</span> <span class="n">ase_worldPos</span> <span class="o">=</span> <span class="n">i</span><span class="p">.</span><span class="n">ase_texcoord4</span><span class="p">.</span><span class="n">xyz</span><span class="p">;</span>
				<span class="c1">// 顶点灯光方向， 世界坐标系</span>
				<span class="n">float3</span> <span class="n">worldSpaceLightDir</span> <span class="o">=</span> <span class="n">UnityWorldSpaceLightDir</span><span class="p">(</span><span class="n">ase_worldPos</span><span class="p">);</span>

				<span class="c1">// 光照</span>
				<span class="kt">float</span> <span class="n">dotResult20_g1</span> <span class="o">=</span> <span class="n">dot</span><span class="p">(</span> <span class="n">CurrentNormal23_g1</span> <span class="p">,</span> <span class="n">worldSpaceLightDir</span> <span class="p">);</span>
				<span class="kt">float</span> <span class="n">NDotL21_g1</span> <span class="o">=</span> <span class="n">dotResult20_g1</span><span class="p">;</span>

				<span class="c1">// 灯光颜色</span>
				<span class="cp">#if defined(LIGHTMAP_ON) &amp;&amp; ( UNITY_VERSION &lt; 560 || ( defined(LIGHTMAP_SHADOW_MIXING) &amp;&amp; !defined(SHADOWS_SHADOWMASK) &amp;&amp; defined(SHADOWS_SCREEN) ) )//aselc
</span>				<span class="n">float4</span> <span class="n">ase_lightColor</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
				<span class="cp">#else //aselc
</span>				<span class="n">float4</span> <span class="n">ase_lightColor</span> <span class="o">=</span> <span class="n">_LightColor0</span><span class="p">;</span>
				<span class="cp">#endif //aselc
</span>
				<span class="c1">// 自身接收的阴影</span>
				<span class="n">UNITY_LIGHT_ATTENUATION</span><span class="p">(</span><span class="n">ase_atten</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="n">ase_worldPos</span><span class="p">)</span>
				<span class="n">float3</span> <span class="n">AttenuationColor8_g1</span> <span class="o">=</span> <span class="p">(</span> <span class="n">ase_lightColor</span><span class="p">.</span><span class="n">rgb</span> <span class="o">*</span> <span class="n">ase_atten</span> <span class="p">);</span>

				<span class="n">float3</span> <span class="n">DiffuseColor70_g1</span> <span class="o">=</span> <span class="p">(</span> <span class="p">(</span> <span class="p">(</span> <span class="n">max</span><span class="p">(</span> <span class="p">(</span> <span class="n">LightWrapVector47_g1</span> <span class="o">+</span> <span class="p">(</span> <span class="p">(</span> <span class="mi">1</span><span class="p">.</span><span class="mi">0</span> <span class="o">-</span> <span class="n">LightWrapVector47_g1</span> <span class="p">)</span> <span class="o">*</span> <span class="n">NDotL21_g1</span> <span class="p">)</span> <span class="p">)</span> <span class="p">,</span> <span class="n">float3</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span> <span class="p">)</span> <span class="o">*</span> <span class="n">AttenuationColor8_g1</span> <span class="p">)</span> <span class="o">+</span> <span class="p">(</span><span class="n">UNITY_LIGHTMODEL_AMBIENT</span><span class="p">).</span><span class="n">rgb</span> <span class="p">)</span> <span class="o">*</span> <span class="n">_ColorBase</span><span class="p">.</span><span class="n">rgb</span> <span class="p">);</span>
				<span class="n">float3</span> <span class="n">normalizeResult77_g1</span> <span class="o">=</span> <span class="n">normalize</span><span class="p">(</span> <span class="n">_WorldSpaceLightPos0</span><span class="p">.</span><span class="n">xyz</span> <span class="p">);</span>
				<span class="n">float3</span> <span class="n">ase_worldViewDir</span> <span class="o">=</span> <span class="n">UnityWorldSpaceViewDir</span><span class="p">(</span><span class="n">ase_worldPos</span><span class="p">);</span>
				<span class="n">ase_worldViewDir</span> <span class="o">=</span> <span class="n">normalize</span><span class="p">(</span><span class="n">ase_worldViewDir</span><span class="p">);</span>
				<span class="n">float3</span> <span class="n">normalizeResult28_g1</span> <span class="o">=</span> <span class="n">normalize</span><span class="p">(</span> <span class="p">(</span> <span class="n">normalizeResult77_g1</span> <span class="o">+</span> <span class="n">ase_worldViewDir</span> <span class="p">)</span> <span class="p">);</span>
				<span class="n">float3</span> <span class="n">HalfDirection29_g1</span> <span class="o">=</span> <span class="n">normalizeResult28_g1</span><span class="p">;</span>
				<span class="kt">float</span> <span class="n">dotResult32_g1</span> <span class="o">=</span> <span class="n">dot</span><span class="p">(</span> <span class="n">HalfDirection29_g1</span> <span class="p">,</span> <span class="n">CurrentNormal23_g1</span> <span class="p">);</span>
				<span class="kt">float</span> <span class="n">SpecularPower14_g1</span> <span class="o">=</span> <span class="n">exp2</span><span class="p">(</span> <span class="p">(</span> <span class="p">(</span> <span class="n">_Glosss</span> <span class="o">*</span> <span class="mi">10</span><span class="p">.</span><span class="mi">0</span> <span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">.</span><span class="mi">0</span> <span class="p">)</span> <span class="p">);</span>
				<span class="n">float3</span> <span class="n">specularFinalColor42_g1</span> <span class="o">=</span> <span class="p">(</span> <span class="n">AttenuationColor8_g1</span> <span class="o">*</span> <span class="n">pow</span><span class="p">(</span> <span class="n">max</span><span class="p">(</span> <span class="n">dotResult32_g1</span> <span class="p">,</span> <span class="mi">0</span><span class="p">.</span><span class="mi">0</span> <span class="p">)</span> <span class="p">,</span> <span class="n">SpecularPower14_g1</span> <span class="p">)</span> <span class="o">*</span> <span class="n">_Specular</span> <span class="p">);</span>
				
				
				<span class="n">finalColor</span> <span class="o">=</span> <span class="n">float4</span><span class="p">(</span> <span class="p">(</span> <span class="n">DiffuseColor70_g1</span> <span class="o">+</span> <span class="n">specularFinalColor42_g1</span> <span class="p">)</span> <span class="p">,</span> <span class="mi">0</span><span class="p">.</span><span class="mi">0</span> <span class="p">);</span>
				<span class="k">return</span> <span class="n">finalColor</span><span class="p">;</span>
			<span class="p">}</span>

        <span class="p">}</span>
    <span class="p">}</span>
</code></pre></div></div>

<h3 id="box-mask-盒子遮罩">Box Mask: 盒子遮罩</h3>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/image-20200611213921776.png" alt="image-20200611213921776" /></p>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
	<span class="n">Properties</span>
	<span class="p">{</span>
		<span class="n">_Center</span><span class="p">(</span><span class="s">"Center"</span><span class="p">,</span> <span class="n">Vector</span><span class="p">)</span> <span class="o">=</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
		<span class="n">_Size</span><span class="p">(</span><span class="s">"Size"</span><span class="p">,</span> <span class="n">Vector</span><span class="p">)</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
		<span class="n">_Falloff</span><span class="p">(</span><span class="s">"Falloff"</span><span class="p">,</span> <span class="n">Int</span><span class="p">)</span> <span class="o">=</span> <span class="mi">0</span>

	<span class="p">}</span>

	<span class="n">SubShader</span>
	<span class="p">{</span>
		
		<span class="n">Pass</span>
		<span class="p">{</span>
            
			<span class="k">struct</span> <span class="n">appdata</span>
			<span class="p">{</span>
				<span class="n">float4</span> <span class="n">vertex</span> <span class="o">:</span> <span class="n">POSITION</span><span class="p">;</span>
				<span class="n">float4</span> <span class="n">color</span> <span class="o">:</span> <span class="n">COLOR</span><span class="p">;</span>
				<span class="n">UNITY_VERTEX_INPUT_INSTANCE_ID</span>
				
			<span class="p">};</span>
			
			<span class="k">struct</span> <span class="n">v2f</span>
			<span class="p">{</span>
				<span class="n">float4</span> <span class="n">vertex</span> <span class="o">:</span> <span class="n">SV_POSITION</span><span class="p">;</span>
				<span class="n">UNITY_VERTEX_INPUT_INSTANCE_ID</span>
				<span class="n">UNITY_VERTEX_OUTPUT_STEREO</span>
				<span class="n">float4</span> <span class="n">ase_texcoord</span> <span class="o">:</span> <span class="n">TEXCOORD0</span><span class="p">;</span>
			<span class="p">};</span>

			<span class="k">uniform</span> <span class="n">float3</span> <span class="n">_Center</span><span class="p">;</span>
			<span class="k">uniform</span> <span class="n">float3</span> <span class="n">_Size</span><span class="p">;</span>
			<span class="k">uniform</span> <span class="kt">int</span> <span class="n">_Falloff</span><span class="p">;</span>
            
            
			<span class="n">v2f</span> <span class="n">vert</span> <span class="p">(</span> <span class="n">appdata</span> <span class="n">v</span> <span class="p">)</span>
			<span class="p">{</span>
				<span class="n">v2f</span> <span class="n">o</span><span class="p">;</span>

				<span class="n">float3</span> <span class="n">ase_worldPos</span> <span class="o">=</span> <span class="n">mul</span><span class="p">(</span><span class="n">unity_ObjectToWorld</span><span class="p">,</span> <span class="n">v</span><span class="p">.</span><span class="n">vertex</span><span class="p">).</span><span class="n">xyz</span><span class="p">;</span>
				<span class="n">o</span><span class="p">.</span><span class="n">ase_texcoord</span><span class="p">.</span><span class="n">xyz</span> <span class="o">=</span> <span class="n">ase_worldPos</span><span class="p">;</span>
				
				
				<span class="c1">//setting value to unused interpolator channels and avoid initialization warnings</span>
				<span class="n">o</span><span class="p">.</span><span class="n">ase_texcoord</span><span class="p">.</span><span class="n">w</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
            <span class="p">}</span>
            
            
			<span class="n">fixed4</span> <span class="n">frag</span> <span class="p">(</span><span class="n">v2f</span> <span class="n">i</span> <span class="p">)</span> <span class="o">:</span> <span class="n">SV_Target</span>
			<span class="p">{</span>
				<span class="n">fixed4</span> <span class="n">finalColor</span><span class="p">;</span>
				<span class="n">float3</span> <span class="n">ase_worldPos</span> <span class="o">=</span> <span class="n">i</span><span class="p">.</span><span class="n">ase_texcoord</span><span class="p">.</span><span class="n">xyz</span><span class="p">;</span>
				<span class="n">float4</span> <span class="n">temp_cast_1</span> <span class="o">=</span> <span class="p">((</span> <span class="n">distance</span><span class="p">(</span> <span class="n">max</span><span class="p">(</span> <span class="p">(</span> <span class="n">abs</span><span class="p">(</span> <span class="p">(</span> <span class="n">ase_worldPos</span> <span class="o">-</span> <span class="n">_Center</span> <span class="p">)</span> <span class="p">)</span> <span class="o">-</span> <span class="p">(</span> <span class="n">_Size</span> <span class="o">*</span> <span class="n">float3</span><span class="p">(</span> <span class="mi">0</span><span class="p">.</span><span class="mi">5</span><span class="p">,</span><span class="mi">0</span><span class="p">.</span><span class="mi">5</span><span class="p">,</span><span class="mi">0</span><span class="p">.</span><span class="mi">5</span> <span class="p">)</span> <span class="p">)</span> <span class="p">)</span> <span class="p">,</span> <span class="n">float3</span><span class="p">(</span> <span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span> <span class="p">)</span> <span class="p">)</span> <span class="p">,</span> <span class="n">float3</span><span class="p">(</span> <span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span> <span class="p">)</span> <span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="kt">float</span><span class="p">)</span><span class="n">_Falloff</span> <span class="p">)).</span><span class="n">xxxx</span><span class="p">;</span>
				
				
				<span class="n">finalColor</span> <span class="o">=</span> <span class="n">temp_cast_1</span><span class="p">;</span>
				<span class="k">return</span> <span class="n">finalColor</span><span class="p">;</span>
			<span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>


</code></pre></div></div>

<h3 id="burn-effect-燃烧熔岩效果">Burn Effect: 燃烧、熔岩效果</h3>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/image-20200611215021849.png" alt="image-20200611215021849" /></p>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="n">Shader</span> <span class="s">"TestNode"</span>
<span class="p">{</span>
	<span class="n">Properties</span>
	<span class="p">{</span>
		<span class="n">_FireTexture</span><span class="p">(</span><span class="s">"Fire Texture"</span><span class="p">,</span> <span class="mi">2</span><span class="n">D</span><span class="p">)</span> <span class="o">=</span> <span class="s">"white"</span> <span class="p">{}</span>
		<span class="n">_BurnMask</span><span class="p">(</span><span class="s">"Burn Mask"</span><span class="p">,</span> <span class="mi">2</span><span class="n">D</span><span class="p">)</span> <span class="o">=</span> <span class="s">"white"</span> <span class="p">{}</span>
		<span class="n">_FireIntensity</span><span class="p">(</span><span class="s">"Fire Intensity"</span><span class="p">,</span> <span class="n">Range</span><span class="p">(</span> <span class="mi">0</span> <span class="p">,</span> <span class="mi">5</span><span class="p">))</span> <span class="o">=</span> <span class="mi">3</span><span class="p">.</span><span class="mi">529412</span>
		<span class="p">[</span><span class="n">HideInInspector</span><span class="p">]</span> <span class="n">_texcoord</span><span class="p">(</span> <span class="s">""</span><span class="p">,</span> <span class="mi">2</span><span class="n">D</span> <span class="p">)</span> <span class="o">=</span> <span class="s">"white"</span> <span class="p">{}</span>

	<span class="p">}</span>
	
	<span class="n">SubShader</span>
	<span class="p">{</span>
		
		
		<span class="n">Tags</span> <span class="p">{</span> <span class="s">"RenderType"</span><span class="o">=</span><span class="s">"Opaque"</span> <span class="p">}</span>
	<span class="n">LOD</span> <span class="mi">100</span>

		<span class="n">CGINCLUDE</span>
		<span class="cp">#pragma target 3.0
</span>		<span class="n">ENDCG</span>
		<span class="n">Blend</span> <span class="n">Off</span>
		<span class="n">Cull</span> <span class="n">Back</span>
		<span class="n">ColorMask</span> <span class="n">RGBA</span>
		<span class="n">ZWrite</span> <span class="n">On</span>
		<span class="n">ZTest</span> <span class="n">LEqual</span>
		<span class="n">Offset</span> <span class="mi">0</span> <span class="p">,</span> <span class="mi">0</span>
		
		
		
		<span class="n">Pass</span>
		<span class="p">{</span>
			<span class="n">Name</span> <span class="s">"Unlit"</span>
			<span class="n">Tags</span> <span class="p">{</span> <span class="s">"LightMode"</span><span class="o">=</span><span class="s">"ForwardBase"</span>  <span class="p">}</span>
			<span class="n">CGPROGRAM</span>

			

			<span class="cp">#ifndef UNITY_SETUP_STEREO_EYE_INDEX_POST_VERTEX
</span>			<span class="c1">//only defining to not throw compilation error over Unity 5.5</span>
			<span class="cp">#define UNITY_SETUP_STEREO_EYE_INDEX_POST_VERTEX(input)
</span>			<span class="cp">#endif
</span>			<span class="cp">#pragma vertex vert
</span>			<span class="cp">#pragma fragment frag
</span>			<span class="cp">#pragma multi_compile_instancing
</span>			<span class="cp">#include "UnityCG.cginc"
</span>			<span class="cp">#include "UnityShaderVariables.cginc"
</span>

			<span class="k">struct</span> <span class="n">appdata</span>
			<span class="p">{</span>
				<span class="n">float4</span> <span class="n">vertex</span> <span class="o">:</span> <span class="n">POSITION</span><span class="p">;</span>
				<span class="n">float4</span> <span class="n">color</span> <span class="o">:</span> <span class="n">COLOR</span><span class="p">;</span>
				<span class="n">UNITY_VERTEX_INPUT_INSTANCE_ID</span>
				<span class="n">float4</span> <span class="n">ase_texcoord</span> <span class="o">:</span> <span class="n">TEXCOORD0</span><span class="p">;</span>
			<span class="p">};</span>
			
			<span class="k">struct</span> <span class="n">v2f</span>
			<span class="p">{</span>
				<span class="n">float4</span> <span class="n">vertex</span> <span class="o">:</span> <span class="n">SV_POSITION</span><span class="p">;</span>
				<span class="n">UNITY_VERTEX_INPUT_INSTANCE_ID</span>
				<span class="n">UNITY_VERTEX_OUTPUT_STEREO</span>
				<span class="n">float4</span> <span class="n">ase_texcoord</span> <span class="o">:</span> <span class="n">TEXCOORD0</span><span class="p">;</span>
			<span class="p">};</span>

			<span class="k">uniform</span> <span class="kt">sampler2D</span> <span class="n">_BurnMask</span><span class="p">;</span>
			<span class="k">uniform</span> <span class="n">float4</span> <span class="n">_BurnMask_ST</span><span class="p">;</span>
			<span class="k">uniform</span> <span class="kt">sampler2D</span> <span class="n">_FireTexture</span><span class="p">;</span>
			<span class="k">uniform</span> <span class="kt">float</span> <span class="n">_FireIntensity</span><span class="p">;</span>

			
			<span class="n">v2f</span> <span class="n">vert</span> <span class="p">(</span> <span class="n">appdata</span> <span class="n">v</span> <span class="p">)</span>
			<span class="p">{</span>
				<span class="n">v2f</span> <span class="n">o</span><span class="p">;</span>
				<span class="n">UNITY_SETUP_INSTANCE_ID</span><span class="p">(</span><span class="n">v</span><span class="p">);</span>
				<span class="n">UNITY_INITIALIZE_VERTEX_OUTPUT_STEREO</span><span class="p">(</span><span class="n">o</span><span class="p">);</span>
				<span class="n">UNITY_TRANSFER_INSTANCE_ID</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="n">o</span><span class="p">);</span>

				<span class="n">o</span><span class="p">.</span><span class="n">ase_texcoord</span><span class="p">.</span><span class="n">xy</span> <span class="o">=</span> <span class="n">v</span><span class="p">.</span><span class="n">ase_texcoord</span><span class="p">.</span><span class="n">xy</span><span class="p">;</span>
				
				<span class="c1">//setting value to unused interpolator channels and avoid initialization warnings</span>
				<span class="n">o</span><span class="p">.</span><span class="n">ase_texcoord</span><span class="p">.</span><span class="n">zw</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
				<span class="n">float3</span> <span class="n">vertexValue</span> <span class="o">=</span> <span class="n">float3</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
				<span class="cp">#if ASE_ABSOLUTE_VERTEX_POS
</span>				<span class="n">vertexValue</span> <span class="o">=</span> <span class="n">v</span><span class="p">.</span><span class="n">vertex</span><span class="p">.</span><span class="n">xyz</span><span class="p">;</span>
				<span class="cp">#endif
</span>				<span class="n">vertexValue</span> <span class="o">=</span> <span class="n">vertexValue</span><span class="p">;</span>
				<span class="cp">#if ASE_ABSOLUTE_VERTEX_POS
</span>				<span class="n">v</span><span class="p">.</span><span class="n">vertex</span><span class="p">.</span><span class="n">xyz</span> <span class="o">=</span> <span class="n">vertexValue</span><span class="p">;</span>
				<span class="cp">#else
</span>				<span class="n">v</span><span class="p">.</span><span class="n">vertex</span><span class="p">.</span><span class="n">xyz</span> <span class="o">+=</span> <span class="n">vertexValue</span><span class="p">;</span>
				<span class="cp">#endif
</span>				<span class="n">o</span><span class="p">.</span><span class="n">vertex</span> <span class="o">=</span> <span class="n">UnityObjectToClipPos</span><span class="p">(</span><span class="n">v</span><span class="p">.</span><span class="n">vertex</span><span class="p">);</span>
				<span class="k">return</span> <span class="n">o</span><span class="p">;</span>
			<span class="p">}</span>
			
			<span class="n">fixed4</span> <span class="n">frag</span> <span class="p">(</span><span class="n">v2f</span> <span class="n">i</span> <span class="p">)</span> <span class="o">:</span> <span class="n">SV_Target</span>
			<span class="p">{</span>
				<span class="n">UNITY_SETUP_INSTANCE_ID</span><span class="p">(</span><span class="n">i</span><span class="p">);</span>
				<span class="n">UNITY_SETUP_STEREO_EYE_INDEX_POST_VERTEX</span><span class="p">(</span><span class="n">i</span><span class="p">);</span>
				<span class="n">fixed4</span> <span class="n">finalColor</span><span class="p">;</span>
				<span class="n">float2</span> <span class="n">uv_BurnMask</span> <span class="o">=</span> <span class="n">i</span><span class="p">.</span><span class="n">ase_texcoord</span><span class="p">.</span><span class="n">xy</span> <span class="o">*</span> <span class="n">_BurnMask_ST</span><span class="p">.</span><span class="n">xy</span> <span class="o">+</span> <span class="n">_BurnMask_ST</span><span class="p">.</span><span class="n">zw</span><span class="p">;</span>
				<span class="n">float2</span> <span class="n">panner2_g4</span> <span class="o">=</span> <span class="p">(</span> <span class="n">_Time</span><span class="p">.</span><span class="n">x</span> <span class="o">*</span> <span class="n">float2</span><span class="p">(</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span> <span class="p">)</span> <span class="o">+</span> <span class="n">i</span><span class="p">.</span><span class="n">ase_texcoord</span><span class="p">.</span><span class="n">xy</span><span class="p">);</span>
				
				
				<span class="n">finalColor</span> <span class="o">=</span> <span class="p">(</span> <span class="p">(</span> <span class="n">tex2D</span><span class="p">(</span> <span class="n">_BurnMask</span><span class="p">,</span> <span class="n">uv_BurnMask</span> <span class="p">)</span> <span class="o">*</span> <span class="n">tex2D</span><span class="p">(</span> <span class="n">_FireTexture</span><span class="p">,</span> <span class="n">panner2_g4</span> <span class="p">)</span> <span class="p">)</span> <span class="o">*</span> <span class="p">(</span> <span class="n">_FireIntensity</span> <span class="o">*</span> <span class="p">(</span> <span class="n">_SinTime</span><span class="p">.</span><span class="n">w</span> <span class="o">+</span> <span class="mi">1</span><span class="p">.</span><span class="mi">5</span> <span class="p">)</span> <span class="p">)</span> <span class="p">);</span>
				<span class="k">return</span> <span class="n">finalColor</span><span class="p">;</span>
			<span class="p">}</span>
			<span class="n">ENDCG</span>
		<span class="p">}</span>
	<span class="p">}</span>
	<span class="n">CustomEditor</span> <span class="s">"ASEMaterialInspector"</span>
	
	
<span class="p">}</span>

</code></pre></div></div>

<h3 id="color-mask-颜色过滤">Color Mask: 颜色过滤</h3>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/image-20200611220513639.png" alt="image-20200611220513639" /></p>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">Shader</span> <span class="s">"TestNode"</span>
<span class="p">{</span>
	<span class="n">Properties</span>
	<span class="p">{</span>
		<span class="n">_MaskColor</span><span class="p">(</span><span class="s">"MaskColor"</span><span class="p">,</span> <span class="n">Color</span><span class="p">)</span> <span class="o">=</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">5566038</span><span class="p">,</span><span class="mi">0</span><span class="p">.</span><span class="mi">3019313</span><span class="p">,</span><span class="mi">0</span><span class="p">.</span><span class="mi">3019313</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
		<span class="n">_Texture0</span><span class="p">(</span><span class="s">"Texture 0"</span><span class="p">,</span> <span class="mi">2</span><span class="n">D</span><span class="p">)</span> <span class="o">=</span> <span class="s">"white"</span> <span class="p">{}</span>
		<span class="n">_Range</span><span class="p">(</span><span class="s">"Range"</span><span class="p">,</span> <span class="n">Range</span><span class="p">(</span> <span class="mi">0</span> <span class="p">,</span> <span class="mi">1</span><span class="p">))</span> <span class="o">=</span> <span class="mi">0</span><span class="p">.</span><span class="mi">4294117</span>
		<span class="n">_Fuzziness</span><span class="p">(</span><span class="s">"Fuzziness"</span><span class="p">,</span> <span class="n">Range</span><span class="p">(</span> <span class="mi">0</span> <span class="p">,</span> <span class="mi">1</span><span class="p">))</span> <span class="o">=</span> <span class="mi">0</span><span class="p">.</span><span class="mi">5235294</span>

	<span class="p">}</span>
	
	<span class="n">SubShader</span>
	<span class="p">{</span>
		
		
		<span class="n">Tags</span> <span class="p">{</span> <span class="s">"RenderType"</span><span class="o">=</span><span class="s">"Opaque"</span> <span class="p">}</span>
	<span class="n">LOD</span> <span class="mi">100</span>

		<span class="n">CGINCLUDE</span>
		<span class="cp">#pragma target 3.0
</span>		<span class="n">ENDCG</span>
		<span class="n">Blend</span> <span class="n">Off</span>
		<span class="n">Cull</span> <span class="n">Back</span>
		<span class="n">ColorMask</span> <span class="n">RGBA</span>
		<span class="n">ZWrite</span> <span class="n">On</span>
		<span class="n">ZTest</span> <span class="n">LEqual</span>
		<span class="n">Offset</span> <span class="mi">0</span> <span class="p">,</span> <span class="mi">0</span>
		
		
		
		<span class="n">Pass</span>
		<span class="p">{</span>
			<span class="n">Name</span> <span class="s">"Unlit"</span>
			<span class="n">Tags</span> <span class="p">{</span> <span class="s">"LightMode"</span><span class="o">=</span><span class="s">"ForwardBase"</span>  <span class="p">}</span>
			<span class="n">CGPROGRAM</span>

			

			<span class="cp">#ifndef UNITY_SETUP_STEREO_EYE_INDEX_POST_VERTEX
</span>			<span class="c1">//only defining to not throw compilation error over Unity 5.5</span>
			<span class="cp">#define UNITY_SETUP_STEREO_EYE_INDEX_POST_VERTEX(input)
</span>			<span class="cp">#endif
</span>			<span class="cp">#pragma vertex vert
</span>			<span class="cp">#pragma fragment frag
</span>			<span class="cp">#pragma multi_compile_instancing
</span>			<span class="cp">#include "UnityCG.cginc"
</span>			

			<span class="k">struct</span> <span class="n">appdata</span>
			<span class="p">{</span>
				<span class="n">float4</span> <span class="n">vertex</span> <span class="o">:</span> <span class="n">POSITION</span><span class="p">;</span>
				<span class="n">float4</span> <span class="n">color</span> <span class="o">:</span> <span class="n">COLOR</span><span class="p">;</span>
				<span class="n">UNITY_VERTEX_INPUT_INSTANCE_ID</span>
				<span class="n">float4</span> <span class="n">ase_texcoord</span> <span class="o">:</span> <span class="n">TEXCOORD0</span><span class="p">;</span>
			<span class="p">};</span>
			
			<span class="k">struct</span> <span class="n">v2f</span>
			<span class="p">{</span>
				<span class="n">float4</span> <span class="n">vertex</span> <span class="o">:</span> <span class="n">SV_POSITION</span><span class="p">;</span>
				<span class="n">UNITY_VERTEX_INPUT_INSTANCE_ID</span>
				<span class="n">UNITY_VERTEX_OUTPUT_STEREO</span>
				<span class="n">float4</span> <span class="n">ase_texcoord</span> <span class="o">:</span> <span class="n">TEXCOORD0</span><span class="p">;</span>
			<span class="p">};</span>

			<span class="k">uniform</span> <span class="n">float4</span> <span class="n">_MaskColor</span><span class="p">;</span>
			<span class="k">uniform</span> <span class="kt">sampler2D</span> <span class="n">_Texture0</span><span class="p">;</span>
			<span class="k">uniform</span> <span class="n">float4</span> <span class="n">_Texture0_ST</span><span class="p">;</span>
			<span class="k">uniform</span> <span class="kt">float</span> <span class="n">_Range</span><span class="p">;</span>
			<span class="k">uniform</span> <span class="kt">float</span> <span class="n">_Fuzziness</span><span class="p">;</span>

			
			<span class="n">v2f</span> <span class="n">vert</span> <span class="p">(</span> <span class="n">appdata</span> <span class="n">v</span> <span class="p">)</span>
			<span class="p">{</span>
				<span class="n">v2f</span> <span class="n">o</span><span class="p">;</span>
				<span class="n">UNITY_SETUP_INSTANCE_ID</span><span class="p">(</span><span class="n">v</span><span class="p">);</span>
				<span class="n">UNITY_INITIALIZE_VERTEX_OUTPUT_STEREO</span><span class="p">(</span><span class="n">o</span><span class="p">);</span>
				<span class="n">UNITY_TRANSFER_INSTANCE_ID</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="n">o</span><span class="p">);</span>

				<span class="n">o</span><span class="p">.</span><span class="n">ase_texcoord</span><span class="p">.</span><span class="n">xy</span> <span class="o">=</span> <span class="n">v</span><span class="p">.</span><span class="n">ase_texcoord</span><span class="p">.</span><span class="n">xy</span><span class="p">;</span>
				
				<span class="c1">//setting value to unused interpolator channels and avoid initialization warnings</span>
				<span class="n">o</span><span class="p">.</span><span class="n">ase_texcoord</span><span class="p">.</span><span class="n">zw</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
				<span class="n">float3</span> <span class="n">vertexValue</span> <span class="o">=</span> <span class="n">float3</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
				<span class="cp">#if ASE_ABSOLUTE_VERTEX_POS
</span>				<span class="n">vertexValue</span> <span class="o">=</span> <span class="n">v</span><span class="p">.</span><span class="n">vertex</span><span class="p">.</span><span class="n">xyz</span><span class="p">;</span>
				<span class="cp">#endif
</span>				<span class="n">vertexValue</span> <span class="o">=</span> <span class="n">vertexValue</span><span class="p">;</span>
				<span class="cp">#if ASE_ABSOLUTE_VERTEX_POS
</span>				<span class="n">v</span><span class="p">.</span><span class="n">vertex</span><span class="p">.</span><span class="n">xyz</span> <span class="o">=</span> <span class="n">vertexValue</span><span class="p">;</span>
				<span class="cp">#else
</span>				<span class="n">v</span><span class="p">.</span><span class="n">vertex</span><span class="p">.</span><span class="n">xyz</span> <span class="o">+=</span> <span class="n">vertexValue</span><span class="p">;</span>
				<span class="cp">#endif
</span>				<span class="n">o</span><span class="p">.</span><span class="n">vertex</span> <span class="o">=</span> <span class="n">UnityObjectToClipPos</span><span class="p">(</span><span class="n">v</span><span class="p">.</span><span class="n">vertex</span><span class="p">);</span>
				<span class="k">return</span> <span class="n">o</span><span class="p">;</span>
			<span class="p">}</span>
			
			<span class="n">fixed4</span> <span class="n">frag</span> <span class="p">(</span><span class="n">v2f</span> <span class="n">i</span> <span class="p">)</span> <span class="o">:</span> <span class="n">SV_Target</span>
			<span class="p">{</span>
				<span class="n">UNITY_SETUP_INSTANCE_ID</span><span class="p">(</span><span class="n">i</span><span class="p">);</span>
				<span class="n">UNITY_SETUP_STEREO_EYE_INDEX_POST_VERTEX</span><span class="p">(</span><span class="n">i</span><span class="p">);</span>
				<span class="n">fixed4</span> <span class="n">finalColor</span><span class="p">;</span>
				<span class="n">float2</span> <span class="n">uv0_Texture0</span> <span class="o">=</span> <span class="n">i</span><span class="p">.</span><span class="n">ase_texcoord</span><span class="p">.</span><span class="n">xy</span> <span class="o">*</span> <span class="n">_Texture0_ST</span><span class="p">.</span><span class="n">xy</span> <span class="o">+</span> <span class="n">_Texture0_ST</span><span class="p">.</span><span class="n">zw</span><span class="p">;</span>
				<span class="n">float4</span> <span class="n">temp_cast_2</span> <span class="o">=</span> <span class="p">(</span><span class="n">saturate</span><span class="p">(</span> <span class="p">(</span> <span class="mi">1</span><span class="p">.</span><span class="mi">0</span> <span class="o">-</span> <span class="p">(</span> <span class="p">(</span> <span class="n">distance</span><span class="p">(</span> <span class="n">_MaskColor</span><span class="p">.</span><span class="n">rgb</span> <span class="p">,</span> <span class="n">tex2D</span><span class="p">(</span> <span class="n">_Texture0</span><span class="p">,</span> <span class="n">uv0_Texture0</span> <span class="p">).</span><span class="n">rgb</span> <span class="p">)</span> <span class="o">-</span> <span class="n">_Range</span> <span class="p">)</span> <span class="o">/</span> <span class="n">max</span><span class="p">(</span> <span class="n">_Fuzziness</span> <span class="p">,</span> <span class="mf">1E-05</span> <span class="p">)</span> <span class="p">)</span> <span class="p">)</span> <span class="p">)).</span><span class="n">xxxx</span><span class="p">;</span>
				
				
				<span class="n">finalColor</span> <span class="o">=</span> <span class="n">temp_cast_2</span><span class="p">;</span>
				<span class="k">return</span> <span class="n">finalColor</span><span class="p">;</span>
			<span class="p">}</span>
			<span class="n">ENDCG</span>
		<span class="p">}</span>
	<span class="p">}</span>
	<span class="n">CustomEditor</span> <span class="s">"ASEMaterialInspector"</span>
	
	
<span class="p">}</span>
</code></pre></div></div>

<h3 id="constant-bias-scale-恒定偏移和缩放">Constant Bias Scale: 恒定偏移和缩放</h3>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">(</span> <span class="n">_Input</span> <span class="o">+</span> <span class="n">_Bias</span> <span class="p">)</span> <span class="o">*</span> <span class="n">_Scale</span> <span class="p">);</span>
</code></pre></div></div>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/image-20200612095819414.png" alt="image-20200612095819414" /></p>

<h3 id="cool-wave-波">Cool Wave: 波</h3>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/image-20200612103559495.png" alt="image-20200612103559495" /></p>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">Shader</span> <span class="s">"TestNode"</span>
<span class="p">{</span>
	<span class="n">Properties</span>
	<span class="p">{</span>
		<span class="p">[</span><span class="n">HideInInspector</span><span class="p">]</span> <span class="n">_VTInfoBlock</span><span class="p">(</span> <span class="s">"VT( auto )"</span><span class="p">,</span> <span class="n">Vector</span> <span class="p">)</span> <span class="o">=</span> <span class="p">(</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span> <span class="p">)</span>
		<span class="n">_WaveWidth</span><span class="p">(</span><span class="s">"Wave Width"</span><span class="p">,</span> <span class="n">Range</span><span class="p">(</span> <span class="o">-</span><span class="mi">2</span> <span class="p">,</span> <span class="mi">2</span><span class="p">))</span> <span class="o">=</span> <span class="mi">0</span><span class="p">.</span><span class="mo">0705</span><span class="mi">8827</span>
		<span class="n">_YDisplacement</span><span class="p">(</span><span class="s">"Y Displacement"</span><span class="p">,</span> <span class="n">Range</span><span class="p">(</span> <span class="o">-</span><span class="mi">2</span> <span class="p">,</span> <span class="mi">2</span><span class="p">))</span> <span class="o">=</span> <span class="mi">0</span><span class="p">.</span><span class="mo">0705</span><span class="mi">8827</span>
		<span class="n">_Height</span><span class="p">(</span><span class="s">"Height"</span><span class="p">,</span> <span class="n">Range</span><span class="p">(</span> <span class="mi">0</span> <span class="p">,</span> <span class="mi">1</span><span class="p">))</span> <span class="o">=</span> <span class="mi">0</span><span class="p">.</span><span class="mi">5235294</span>
		<span class="n">_Texture</span><span class="p">(</span><span class="s">"Texture"</span><span class="p">,</span> <span class="mi">2</span><span class="n">D</span><span class="p">)</span> <span class="o">=</span> <span class="s">"white"</span> <span class="p">{}</span>

	<span class="p">}</span>
	
	<span class="n">SubShader</span>
	<span class="p">{</span>
		
		
		<span class="n">Tags</span> <span class="p">{</span> <span class="s">"RenderType"</span><span class="o">=</span><span class="s">"Opaque"</span> <span class="p">}</span>
	<span class="n">LOD</span> <span class="mi">100</span>

		<span class="n">CGINCLUDE</span>
		<span class="cp">#pragma target 3.0
</span>		<span class="n">ENDCG</span>
		<span class="n">Blend</span> <span class="n">Off</span>
		<span class="n">Cull</span> <span class="n">Back</span>
		<span class="n">ColorMask</span> <span class="n">RGBA</span>
		<span class="n">ZWrite</span> <span class="n">On</span>
		<span class="n">ZTest</span> <span class="n">LEqual</span>
		<span class="n">Offset</span> <span class="mi">0</span> <span class="p">,</span> <span class="mi">0</span>
		
		
		
		<span class="n">Pass</span>
		<span class="p">{</span>
			<span class="n">Name</span> <span class="s">"Unlit"</span>
			<span class="n">Tags</span> <span class="p">{</span> <span class="s">"LightMode"</span><span class="o">=</span><span class="s">"ForwardBase"</span>  <span class="p">}</span>
			<span class="n">CGPROGRAM</span>

			

			<span class="cp">#ifndef UNITY_SETUP_STEREO_EYE_INDEX_POST_VERTEX
</span>			<span class="c1">//only defining to not throw compilation error over Unity 5.5</span>
			<span class="cp">#define UNITY_SETUP_STEREO_EYE_INDEX_POST_VERTEX(input)
</span>			<span class="cp">#endif
</span>			<span class="cp">#pragma vertex vert
</span>			<span class="cp">#pragma fragment frag
</span>			<span class="cp">#pragma multi_compile_instancing
</span>			<span class="cp">#include "UnityCG.cginc"
</span>			<span class="cp">#include "UnityShaderVariables.cginc"
</span>

			<span class="k">struct</span> <span class="n">appdata</span>
			<span class="p">{</span>
				<span class="n">float4</span> <span class="n">vertex</span> <span class="o">:</span> <span class="n">POSITION</span><span class="p">;</span>
				<span class="n">float4</span> <span class="n">color</span> <span class="o">:</span> <span class="n">COLOR</span><span class="p">;</span>
				<span class="n">UNITY_VERTEX_INPUT_INSTANCE_ID</span>
				<span class="n">float4</span> <span class="n">ase_texcoord</span> <span class="o">:</span> <span class="n">TEXCOORD0</span><span class="p">;</span>
			<span class="p">};</span>
			
			<span class="k">struct</span> <span class="n">v2f</span>
			<span class="p">{</span>
				<span class="n">float4</span> <span class="n">vertex</span> <span class="o">:</span> <span class="n">SV_POSITION</span><span class="p">;</span>
				<span class="n">UNITY_VERTEX_INPUT_INSTANCE_ID</span>
				<span class="n">UNITY_VERTEX_OUTPUT_STEREO</span>
				<span class="n">float4</span> <span class="n">ase_texcoord</span> <span class="o">:</span> <span class="n">TEXCOORD0</span><span class="p">;</span>
			<span class="p">};</span>

			<span class="k">uniform</span> <span class="kt">sampler2D</span> <span class="n">_Texture</span><span class="p">;</span>
			<span class="k">uniform</span> <span class="n">float4</span> <span class="n">_Texture_ST</span><span class="p">;</span>
			<span class="k">uniform</span> <span class="kt">float</span> <span class="n">_YDisplacement</span><span class="p">;</span>
			<span class="k">uniform</span> <span class="kt">float</span> <span class="n">_Height</span><span class="p">;</span>
			<span class="k">uniform</span> <span class="kt">float</span> <span class="n">_WaveWidth</span><span class="p">;</span>

			
			<span class="n">v2f</span> <span class="n">vert</span> <span class="p">(</span> <span class="n">appdata</span> <span class="n">v</span> <span class="p">)</span>
			<span class="p">{</span>
				<span class="n">v2f</span> <span class="n">o</span><span class="p">;</span>
				<span class="n">UNITY_SETUP_INSTANCE_ID</span><span class="p">(</span><span class="n">v</span><span class="p">);</span>
				<span class="n">UNITY_INITIALIZE_VERTEX_OUTPUT_STEREO</span><span class="p">(</span><span class="n">o</span><span class="p">);</span>
				<span class="n">UNITY_TRANSFER_INSTANCE_ID</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="n">o</span><span class="p">);</span>

				<span class="n">o</span><span class="p">.</span><span class="n">ase_texcoord</span><span class="p">.</span><span class="n">xy</span> <span class="o">=</span> <span class="n">v</span><span class="p">.</span><span class="n">ase_texcoord</span><span class="p">.</span><span class="n">xy</span><span class="p">;</span>
				
				<span class="c1">//setting value to unused interpolator channels and avoid initialization warnings</span>
				<span class="n">o</span><span class="p">.</span><span class="n">ase_texcoord</span><span class="p">.</span><span class="n">zw</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
				<span class="n">float3</span> <span class="n">vertexValue</span> <span class="o">=</span> <span class="n">float3</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
				<span class="cp">#if ASE_ABSOLUTE_VERTEX_POS
</span>				<span class="n">vertexValue</span> <span class="o">=</span> <span class="n">v</span><span class="p">.</span><span class="n">vertex</span><span class="p">.</span><span class="n">xyz</span><span class="p">;</span>
				<span class="cp">#endif
</span>				<span class="n">vertexValue</span> <span class="o">=</span> <span class="n">vertexValue</span><span class="p">;</span>
				<span class="cp">#if ASE_ABSOLUTE_VERTEX_POS
</span>				<span class="n">v</span><span class="p">.</span><span class="n">vertex</span><span class="p">.</span><span class="n">xyz</span> <span class="o">=</span> <span class="n">vertexValue</span><span class="p">;</span>
				<span class="cp">#else
</span>				<span class="n">v</span><span class="p">.</span><span class="n">vertex</span><span class="p">.</span><span class="n">xyz</span> <span class="o">+=</span> <span class="n">vertexValue</span><span class="p">;</span>
				<span class="cp">#endif
</span>				<span class="n">o</span><span class="p">.</span><span class="n">vertex</span> <span class="o">=</span> <span class="n">UnityObjectToClipPos</span><span class="p">(</span><span class="n">v</span><span class="p">.</span><span class="n">vertex</span><span class="p">);</span>
				<span class="k">return</span> <span class="n">o</span><span class="p">;</span>
			<span class="p">}</span>
			
			<span class="n">fixed4</span> <span class="n">frag</span> <span class="p">(</span><span class="n">v2f</span> <span class="n">i</span> <span class="p">)</span> <span class="o">:</span> <span class="n">SV_Target</span>
			<span class="p">{</span>
				<span class="n">UNITY_SETUP_INSTANCE_ID</span><span class="p">(</span><span class="n">i</span><span class="p">);</span>
				<span class="n">UNITY_SETUP_STEREO_EYE_INDEX_POST_VERTEX</span><span class="p">(</span><span class="n">i</span><span class="p">);</span>
				<span class="n">fixed4</span> <span class="n">finalColor</span><span class="p">;</span>
				<span class="n">float2</span> <span class="n">uv0_Texture</span> <span class="o">=</span> <span class="n">i</span><span class="p">.</span><span class="n">ase_texcoord</span><span class="p">.</span><span class="n">xy</span> <span class="o">*</span> <span class="n">_Texture_ST</span><span class="p">.</span><span class="n">xy</span> <span class="o">+</span> <span class="n">_Texture_ST</span><span class="p">.</span><span class="n">zw</span><span class="p">;</span>
				<span class="n">float2</span> <span class="n">uv</span> <span class="o">=</span> <span class="n">uv0_Texture</span><span class="p">;</span>
				<span class="kt">float</span> <span class="n">time</span> <span class="o">=</span> <span class="n">_Time</span><span class="p">.</span><span class="n">y</span><span class="p">;</span>
				<span class="kt">float</span> <span class="n">uv_y</span> <span class="o">=</span> <span class="p">(</span><span class="n">uv</span><span class="p">).</span><span class="n">y</span><span class="p">;</span>
				<span class="kt">float</span> <span class="n">val</span> <span class="o">=</span>  
					<span class="p">(</span> 
					   <span class="n">tex2D</span><span class="p">(</span> <span class="n">_Texture</span><span class="p">,</span> <span class="n">uv0_Texture</span> <span class="p">).</span><span class="n">r</span>
					   <span class="o">*</span> 
					   <span class="n">cos</span><span class="p">(</span>  <span class="n">UNITY_PI</span> <span class="o">*</span> <span class="n">uv</span><span class="p">.</span><span class="n">x</span>  <span class="o">+</span>  <span class="n">UNITY_PI</span> <span class="o">*</span> <span class="n">time</span>   <span class="p">)</span> 
					   <span class="o">*</span> 
					   <span class="n">sin</span><span class="p">(</span>   
						   <span class="n">uv_y</span> <span class="o">*</span> <span class="n">UNITY_PI</span>  
						   <span class="o">+</span>  
						   <span class="n">_YDisplacement</span> <span class="o">/</span> <span class="mi">3</span><span class="p">.</span><span class="mi">0</span>  
						   <span class="o">+</span> 
						   <span class="n">time</span> <span class="o">*</span> <span class="n">UNITY_PI</span>   
					   <span class="p">)</span> 
					<span class="p">)</span> 
					<span class="o">+</span> <span class="n">uv_y</span> <span class="p">;</span>

				<span class="n">float4</span> <span class="n">temp_cast_1</span> <span class="o">=</span> <span class="n">abs</span><span class="p">(</span> 
							<span class="mi">1</span><span class="p">.</span><span class="mi">0</span> 
							<span class="o">/</span>             
							<span class="p">(</span>     <span class="p">(</span> <span class="n">val</span> <span class="o">*</span> <span class="n">_Height</span> <span class="p">)</span> <span class="o">/</span> <span class="n">_WaveWidth</span>     <span class="p">)</span>            
						<span class="p">).</span><span class="n">xxxx</span><span class="p">;</span>
				
				
				<span class="n">finalColor</span> <span class="o">=</span> <span class="n">temp_cast_1</span><span class="p">;</span>
				<span class="k">return</span> <span class="n">finalColor</span><span class="p">;</span>
			<span class="p">}</span>
			<span class="n">ENDCG</span>
		<span class="p">}</span>
	<span class="p">}</span>
	<span class="n">CustomEditor</span> <span class="s">"ASEMaterialInspector"</span>
	
	
<span class="p">}</span>
</code></pre></div></div>

<h3 id="cotangent-frame-余切">Cotangent Frame: 余切</h3>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/material-jrME7Zsp.png" alt="img" /></p>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
			<span class="n">float3x3</span> <span class="nf">CotangentFrame</span><span class="p">(</span> <span class="n">float3</span> <span class="n">normal</span> <span class="p">,</span> <span class="n">float3</span> <span class="n">position</span> <span class="p">,</span> <span class="n">float2</span> <span class="n">uv</span> <span class="p">)</span>
			<span class="p">{</span>
				<span class="n">float3</span> <span class="n">dp1</span> <span class="o">=</span> <span class="n">ddx</span> <span class="p">(</span> <span class="n">position</span> <span class="p">);</span>
				<span class="n">float3</span> <span class="n">dp2</span> <span class="o">=</span> <span class="n">ddy</span> <span class="p">(</span> <span class="n">position</span> <span class="p">);</span>
				<span class="n">float2</span> <span class="n">duv1</span> <span class="o">=</span> <span class="n">ddx</span> <span class="p">(</span> <span class="n">uv</span> <span class="p">);</span>
				<span class="n">float2</span> <span class="n">duv2</span> <span class="o">=</span> <span class="n">ddy</span> <span class="p">(</span> <span class="n">uv</span> <span class="p">);</span>
				<span class="n">float3</span> <span class="n">dp2perp</span> <span class="o">=</span> <span class="n">cross</span> <span class="p">(</span> <span class="n">dp2</span><span class="p">,</span> <span class="n">normal</span> <span class="p">);</span>
				<span class="n">float3</span> <span class="n">dp1perp</span> <span class="o">=</span> <span class="n">cross</span> <span class="p">(</span> <span class="n">normal</span><span class="p">,</span> <span class="n">dp1</span> <span class="p">);</span>
				<span class="n">float3</span> <span class="n">tangent</span> <span class="o">=</span> <span class="n">dp2perp</span> <span class="o">*</span> <span class="n">duv1</span><span class="p">.</span><span class="n">x</span> <span class="o">+</span> <span class="n">dp1perp</span> <span class="o">*</span> <span class="n">duv2</span><span class="p">.</span><span class="n">x</span><span class="p">;</span>
				<span class="n">float3</span> <span class="n">bitangent</span> <span class="o">=</span> <span class="n">dp2perp</span> <span class="o">*</span> <span class="n">duv1</span><span class="p">.</span><span class="n">y</span> <span class="o">+</span> <span class="n">dp1perp</span> <span class="o">*</span> <span class="n">duv2</span><span class="p">.</span><span class="n">y</span><span class="p">;</span>
				<span class="kt">float</span> <span class="n">invmax</span> <span class="o">=</span> <span class="n">rsqrt</span> <span class="p">(</span> <span class="n">max</span> <span class="p">(</span> <span class="n">dot</span> <span class="p">(</span> <span class="n">tangent</span><span class="p">,</span> <span class="n">tangent</span> <span class="p">),</span> <span class="n">dot</span> <span class="p">(</span> <span class="n">bitangent</span><span class="p">,</span> <span class="n">bitangent</span> <span class="p">)</span> <span class="p">)</span> <span class="p">);</span>
				<span class="n">tangent</span> <span class="o">*=</span> <span class="n">invmax</span><span class="p">;</span>
				<span class="n">bitangent</span> <span class="o">*=</span> <span class="n">invmax</span><span class="p">;</span>
				<span class="k">return</span> <span class="n">float3x3</span> <span class="p">(</span>	<span class="n">tangent</span><span class="p">.</span><span class="n">x</span><span class="p">,</span> <span class="n">bitangent</span><span class="p">.</span><span class="n">x</span><span class="p">,</span> <span class="n">normal</span><span class="p">.</span><span class="n">x</span><span class="p">,</span>
									<span class="n">tangent</span><span class="p">.</span><span class="n">y</span><span class="p">,</span> <span class="n">bitangent</span><span class="p">.</span><span class="n">y</span><span class="p">,</span> <span class="n">normal</span><span class="p">.</span><span class="n">y</span><span class="p">,</span>
									<span class="n">tangent</span><span class="p">.</span><span class="n">z</span><span class="p">,</span> <span class="n">bitangent</span><span class="p">.</span><span class="n">z</span><span class="p">,</span> <span class="n">normal</span><span class="p">.</span><span class="n">z</span> <span class="p">);</span>
			<span class="p">}</span>
</code></pre></div></div>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/image-20200612114758230.png" alt="image-20200612114758230" /></p>

<h3 id="decode-directional-lighmap-解码方向图">Decode Directional Lighmap: 解码方向图</h3>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/image-20200612114735249.png" alt="image-20200612114735249" /></p>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="n">float3</span> <span class="nf">ASEDecodeDirectionalLightmap</span><span class="p">(</span> <span class="n">float3</span> <span class="n">Color</span> <span class="p">,</span> <span class="n">float4</span> <span class="n">DirTex</span> <span class="p">,</span> <span class="n">float3</span> <span class="n">NormalWorld</span> <span class="p">)</span>
<span class="p">{</span>
	<span class="k">return</span> <span class="n">DecodeDirectionalLightmap</span><span class="p">(</span> <span class="n">Color</span><span class="p">,</span><span class="n">DirTex</span><span class="p">,</span><span class="n">NormalWorld</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kr">inline</span> <span class="n">half3</span> <span class="nf">DecodeDirectionalLightmap</span> <span class="p">(</span><span class="n">half3</span> <span class="n">color</span><span class="p">,</span> <span class="n">fixed4</span> <span class="n">dirTex</span><span class="p">,</span> <span class="n">half3</span> <span class="n">normalWorld</span><span class="p">)</span>
<span class="p">{</span>
    <span class="c1">// In directional (non-specular) mode Enlighten bakes dominant light direction</span>
    <span class="c1">// in a way, that using it for half Lambert and then dividing by a "rebalancing coefficient"</span>
    <span class="c1">// gives a result close to plain diffuse response lightmaps, but normalmapped.</span>

    <span class="c1">// Note that dir is not unit length on purpose. Its length is "directionality", like</span>
    <span class="c1">// for the directional specular lightmaps.</span>

    <span class="kr">half</span> <span class="n">halfLambert</span> <span class="o">=</span> <span class="n">dot</span><span class="p">(</span><span class="n">normalWorld</span><span class="p">,</span> <span class="n">dirTex</span><span class="p">.</span><span class="n">xyz</span> <span class="o">-</span> <span class="mi">0</span><span class="p">.</span><span class="mi">5</span><span class="p">)</span> <span class="o">+</span> <span class="mi">0</span><span class="p">.</span><span class="mi">5</span><span class="p">;</span>

    <span class="k">return</span> <span class="n">color</span> <span class="o">*</span> <span class="n">halfLambert</span> <span class="o">/</span> <span class="n">max</span><span class="p">(</span><span class="mf">1e-4</span><span class="n">h</span><span class="p">,</span> <span class="n">dirTex</span><span class="p">.</span><span class="n">w</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="derive-tangent-basis-导出切线矩阵">Derive Tangent Basis: 导出切线矩阵</h3>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/image-20200612143317103.png" alt="image-20200612143317103" /></p>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code>

			<span class="kt">void</span> <span class="nf">DeriveTangentBasis</span><span class="p">(</span> <span class="n">float3</span> <span class="n">WorldPosition</span> <span class="p">,</span> <span class="n">float3</span> <span class="n">WorldNormal</span> <span class="p">,</span> <span class="n">float2</span> <span class="n">UV</span> <span class="p">,</span> <span class="k">out</span> <span class="n">float3x3</span> <span class="n">TangentToWorld</span> <span class="p">,</span> <span class="k">out</span> <span class="n">float3x3</span> <span class="n">WorldToTangent</span> <span class="p">)</span>
			<span class="p">{</span>
				<span class="cp">#if (SHADER_TARGET &gt;= 45)
</span>				<span class="n">float3</span> <span class="n">dPdx</span> <span class="o">=</span> <span class="n">ddx_fine</span><span class="p">(</span> <span class="n">WorldPosition</span> <span class="p">);</span>
				<span class="n">float3</span> <span class="n">dPdy</span> <span class="o">=</span> <span class="n">ddy_fine</span><span class="p">(</span> <span class="n">WorldPosition</span> <span class="p">);</span>
				<span class="cp">#else
</span>				<span class="n">float3</span> <span class="n">dPdx</span> <span class="o">=</span> <span class="n">ddx</span><span class="p">(</span> <span class="n">WorldPosition</span> <span class="p">);</span>
				<span class="n">float3</span> <span class="n">dPdy</span> <span class="o">=</span> <span class="n">ddy</span><span class="p">(</span> <span class="n">WorldPosition</span> <span class="p">);</span>
				<span class="cp">#endif
</span>				<span class="n">float3</span> <span class="n">sigmaX</span> <span class="o">=</span> <span class="n">dPdx</span> <span class="o">-</span> <span class="n">dot</span><span class="p">(</span> <span class="n">dPdx</span><span class="p">,</span> <span class="n">WorldNormal</span> <span class="p">)</span> <span class="o">*</span> <span class="n">WorldNormal</span><span class="p">;</span>
				<span class="n">float3</span> <span class="n">sigmaY</span> <span class="o">=</span> <span class="n">dPdy</span> <span class="o">-</span> <span class="n">dot</span><span class="p">(</span> <span class="n">dPdy</span><span class="p">,</span> <span class="n">WorldNormal</span> <span class="p">)</span> <span class="o">*</span> <span class="n">WorldNormal</span><span class="p">;</span>
				<span class="kt">float</span> <span class="n">flip_sign</span> <span class="o">=</span> <span class="n">dot</span><span class="p">(</span> <span class="n">dPdy</span><span class="p">,</span> <span class="n">cross</span><span class="p">(</span> <span class="n">WorldNormal</span><span class="p">,</span> <span class="n">dPdx</span> <span class="p">)</span> <span class="p">)</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="o">?</span> <span class="o">-</span><span class="mi">1</span> <span class="o">:</span> <span class="mi">1</span><span class="p">;</span>
				<span class="cp">#if (SHADER_TARGET &gt;= 45)
</span>				<span class="n">float2</span> <span class="n">dSTdx</span> <span class="o">=</span> <span class="n">ddx_fine</span><span class="p">(</span> <span class="n">UV</span> <span class="p">);</span>
				<span class="n">float2</span> <span class="n">dSTdy</span> <span class="o">=</span> <span class="n">ddy_fine</span><span class="p">(</span> <span class="n">UV</span> <span class="p">);</span>
				<span class="cp">#else
</span>				<span class="n">float2</span> <span class="n">dSTdx</span> <span class="o">=</span> <span class="n">ddx</span><span class="p">(</span> <span class="n">UV</span> <span class="p">);</span>
				<span class="n">float2</span> <span class="n">dSTdy</span> <span class="o">=</span> <span class="n">ddy</span><span class="p">(</span> <span class="n">UV</span> <span class="p">);</span>
				<span class="cp">#endif
</span>				<span class="kt">float</span> <span class="n">det</span> <span class="o">=</span> <span class="n">dot</span><span class="p">(</span> <span class="n">dSTdx</span><span class="p">,</span> <span class="n">float2</span><span class="p">(</span> <span class="n">dSTdy</span><span class="p">.</span><span class="n">y</span><span class="p">,</span> <span class="o">-</span><span class="n">dSTdy</span><span class="p">.</span><span class="n">x</span> <span class="p">)</span> <span class="p">);</span>
				<span class="kt">float</span> <span class="n">sign_det</span> <span class="o">=</span> <span class="p">(</span> <span class="n">det</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="p">)</span> <span class="o">?</span> <span class="o">-</span><span class="mi">1</span> <span class="o">:</span> <span class="mi">1</span><span class="p">;</span>
				<span class="n">float2</span> <span class="n">invC0</span> <span class="o">=</span> <span class="n">sign_det</span> <span class="o">*</span> <span class="n">float2</span><span class="p">(</span> <span class="n">dSTdy</span><span class="p">.</span><span class="n">y</span><span class="p">,</span> <span class="o">-</span><span class="n">dSTdx</span><span class="p">.</span><span class="n">y</span> <span class="p">);</span>
				<span class="n">float3</span> <span class="n">T</span> <span class="o">=</span> <span class="n">sigmaX</span> <span class="o">*</span> <span class="n">invC0</span><span class="p">.</span><span class="n">x</span> <span class="o">+</span> <span class="n">sigmaY</span> <span class="o">*</span> <span class="n">invC0</span><span class="p">.</span><span class="n">y</span><span class="p">;</span>
				<span class="k">if</span> <span class="p">(</span> <span class="n">abs</span><span class="p">(</span> <span class="n">det</span> <span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="p">)</span> <span class="n">T</span> <span class="o">=</span> <span class="n">normalize</span><span class="p">(</span> <span class="n">T</span> <span class="p">);</span>
				<span class="n">float3</span> <span class="n">B</span> <span class="o">=</span> <span class="p">(</span> <span class="n">sign_det</span> <span class="o">*</span> <span class="n">flip_sign</span> <span class="p">)</span> <span class="o">*</span> <span class="n">cross</span><span class="p">(</span> <span class="n">WorldNormal</span><span class="p">,</span> <span class="n">T</span> <span class="p">);</span>
				<span class="n">WorldToTangent</span> <span class="o">=</span> <span class="n">float3x3</span><span class="p">(</span> <span class="n">T</span><span class="p">,</span> <span class="n">B</span><span class="p">,</span> <span class="n">WorldNormal</span> <span class="p">);</span>
				<span class="n">TangentToWorld</span> <span class="o">=</span> <span class="n">transpose</span><span class="p">(</span> <span class="n">WorldToTangent</span> <span class="p">);</span>
				<span class="k">return</span><span class="p">;</span>
			<span class="p">}</span>
</code></pre></div></div>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
				<span class="n">float3x3</span> <span class="n">TangentToWorld</span> <span class="o">=</span> <span class="n">float3x3</span><span class="p">(</span> <span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span> <span class="p">);</span>
				<span class="n">float3x3</span> <span class="n">WorldToTangent</span> <span class="o">=</span> <span class="n">float3x3</span><span class="p">(</span> <span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span> <span class="p">);</span>
				<span class="n">DeriveTangentBasis</span><span class="p">(</span> <span class="n">WorldPosition1_g5</span> <span class="p">,</span> <span class="n">WorldNormal1_g5</span> <span class="p">,</span> <span class="n">UV1_g5</span> <span class="p">,</span> <span class="n">TangentToWorld</span> <span class="p">,</span> <span class="n">WorldToTangent</span> <span class="p">);</span>
</code></pre></div></div>

<h3 id="detail-aldedo-2个颜色融合">Detail Aldedo: 2个颜色融合</h3>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#ifdef UNITY_COLORSPACE_GAMMA
</span>    <span class="cp">#define unity_ColorSpaceGrey fixed4(0.5, 0.5, 0.5, 0.5)
</span>    <span class="cp">#define unity_ColorSpaceDouble fixed4(2.0, 2.0, 2.0, 2.0)
</span>    <span class="cp">#define unity_ColorSpaceDielectricSpec half4(0.220916301, 0.220916301, 0.220916301, 1.0 - 0.220916301)
</span>    <span class="cp">#define unity_ColorSpaceLuminance half4(0.22, 0.707, 0.071, 0.0) // Legacy: alpha is set to 0.0 to specify gamma mode
#else // Linear values
</span>    <span class="cp">#define unity_ColorSpaceGrey fixed4(0.214041144, 0.214041144, 0.214041144, 0.5)
</span>    <span class="cp">#define unity_ColorSpaceDouble fixed4(4.59479380, 4.59479380, 4.59479380, 2.0)
</span>    <span class="cp">#define unity_ColorSpaceDielectricSpec half4(0.04, 0.04, 0.04, 1.0 - 0.04) // standard dielectric reflectivity coef at incident angle (= 4%)
</span>    <span class="cp">#define unity_ColorSpaceLuminance half4(0.0396819152, 0.458021790, 0.00609653955, 1.0) // Legacy: alpha is set to 1.0 to specify linear mode
#endif
</span></code></pre></div></div>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/image-20200612150643627.png" alt="image-20200612150643627" /></p>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code>				<span class="kt">float</span> <span class="n">Detailmask</span> <span class="o">=</span> <span class="n">_Detailmask</span><span class="p">;</span>
				<span class="kt">float</span> <span class="n">Detailmask_I</span> <span class="o">=</span> <span class="p">(</span> <span class="mi">1</span><span class="p">.</span><span class="mi">0</span> <span class="o">-</span> <span class="n">Detailmask</span> <span class="p">);</span>
				<span class="n">float3</span> <span class="n">appendResult</span> <span class="o">=</span> <span class="p">(</span><span class="n">float3</span><span class="p">(</span><span class="n">Detailmask_I</span> <span class="p">,</span> <span class="n">Detailmask_I</span> <span class="p">,</span> <span class="n">Detailmask_I</span><span class="p">));</span>
				
				<span class="n">float3</span> <span class="n">colorA</span> <span class="o">=</span> <span class="n">tex2D</span><span class="p">(</span><span class="n">_Texture</span><span class="p">,</span> <span class="n">uv0_Texture</span><span class="p">).</span><span class="n">rgb</span><span class="p">;</span>
				<span class="n">float3</span> <span class="n">colorB</span> <span class="o">=</span> <span class="n">tex2D</span><span class="p">(</span><span class="n">_Texture0</span><span class="p">,</span> <span class="n">uv0_Texture0</span><span class="p">).</span><span class="n">rgb</span><span class="p">;</span>
				
				<span class="n">finalColor</span> <span class="o">=</span> <span class="n">float4</span><span class="p">(</span> 
					<span class="p">(</span> 
						<span class="n">colorA</span>
						<span class="o">*</span> 
						<span class="p">(</span> 
							<span class="p">(</span> 
								<span class="p">(</span> 
									<span class="n">colorB</span>
									<span class="o">*</span> 
									<span class="n">unity_ColorSpaceDouble</span>
								<span class="p">)</span>
								<span class="o">*</span> 
								<span class="n">Detailmask</span> 
							<span class="p">)</span>

							<span class="o">+</span> 

							<span class="n">appendResult</span> 
						<span class="p">)</span> 
					<span class="p">)</span> 
					<span class="p">,</span> <span class="mi">0</span><span class="p">.</span><span class="mi">0</span> <span class="p">);</span>
</code></pre></div></div>

<p>###</p>

<h1 id="textures-贴图">Textures: 贴图</h1>

<h3 id="blend-normals-混合法线">Blend Normals: 混合法线</h3>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">BlendedNormal</span> <span class="o">=</span> <span class="n">normalize</span><span class="p">(</span> <span class="n">float3</span><span class="p">(</span> <span class="n">A</span><span class="p">.</span><span class="n">xy</span> <span class="o">+</span> <span class="n">B</span><span class="p">.</span><span class="n">xy</span><span class="p">,</span> <span class="n">A</span><span class="p">.</span><span class="n">z</span><span class="o">*</span><span class="n">B</span><span class="p">.</span><span class="n">z</span> <span class="p">).</span>
</code></pre></div></div>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/image-20200612155250392.png" alt="image-20200612155250392" /></p>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="n">half3</span> <span class="nf">UnpackScaleNormalRGorAG</span><span class="p">(</span><span class="n">half4</span> <span class="n">packednormal</span><span class="p">,</span> <span class="kr">half</span> <span class="n">bumpScale</span><span class="p">)</span>
<span class="p">{</span>
    <span class="cp">#if defined(UNITY_NO_DXT5nm)
</span>        <span class="n">half3</span> <span class="n">normal</span> <span class="o">=</span> <span class="n">packednormal</span><span class="p">.</span><span class="n">xyz</span> <span class="o">*</span> <span class="mi">2</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span>
        <span class="cp">#if (SHADER_TARGET &gt;= 30)
</span>            <span class="c1">// SM2.0: instruction count limitation</span>
            <span class="c1">// SM2.0: normal scaler is not supported</span>
            <span class="n">normal</span><span class="p">.</span><span class="n">xy</span> <span class="o">*=</span> <span class="n">bumpScale</span><span class="p">;</span>
        <span class="cp">#endif
</span>        <span class="k">return</span> <span class="n">normal</span><span class="p">;</span>
    <span class="cp">#else
</span>        <span class="c1">// This do the trick</span>
        <span class="n">packednormal</span><span class="p">.</span><span class="n">x</span> <span class="o">*=</span> <span class="n">packednormal</span><span class="p">.</span><span class="n">w</span><span class="p">;</span>

        <span class="n">half3</span> <span class="n">normal</span><span class="p">;</span>
        <span class="n">normal</span><span class="p">.</span><span class="n">xy</span> <span class="o">=</span> <span class="p">(</span><span class="n">packednormal</span><span class="p">.</span><span class="n">xy</span> <span class="o">*</span> <span class="mi">2</span> <span class="o">-</span> <span class="mi">1</span><span class="p">);</span>
        <span class="cp">#if (SHADER_TARGET &gt;= 30)
</span>            <span class="c1">// SM2.0: instruction count limitation</span>
            <span class="c1">// SM2.0: normal scaler is not supported</span>
            <span class="n">normal</span><span class="p">.</span><span class="n">xy</span> <span class="o">*=</span> <span class="n">bumpScale</span><span class="p">;</span>
        <span class="cp">#endif
</span>        <span class="n">normal</span><span class="p">.</span><span class="n">z</span> <span class="o">=</span> <span class="n">sqrt</span><span class="p">(</span><span class="mi">1</span><span class="p">.</span><span class="mi">0</span> <span class="o">-</span> <span class="n">saturate</span><span class="p">(</span><span class="n">dot</span><span class="p">(</span><span class="n">normal</span><span class="p">.</span><span class="n">xy</span><span class="p">,</span> <span class="n">normal</span><span class="p">.</span><span class="n">xy</span><span class="p">)));</span>
        <span class="k">return</span> <span class="n">normal</span><span class="p">;</span>
    <span class="cp">#endif
</span><span class="p">}</span>

<span class="n">half3</span> <span class="nf">UnpackScaleNormal</span><span class="p">(</span><span class="n">half4</span> <span class="n">packednormal</span><span class="p">,</span> <span class="kr">half</span> <span class="n">bumpScale</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">return</span> <span class="n">UnpackScaleNormalRGorAG</span><span class="p">(</span><span class="n">packednormal</span><span class="p">,</span> <span class="n">bumpScale</span><span class="p">);</span>
<span class="p">}</span>

<span class="n">half3</span> <span class="nf">BlendNormals</span><span class="p">(</span><span class="n">half3</span> <span class="n">n1</span><span class="p">,</span> <span class="n">half3</span> <span class="n">n2</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">return</span> <span class="n">normalize</span><span class="p">(</span><span class="n">half3</span><span class="p">(</span><span class="n">n1</span><span class="p">.</span><span class="n">xy</span> <span class="o">+</span> <span class="n">n2</span><span class="p">.</span><span class="n">xy</span><span class="p">,</span> <span class="n">n1</span><span class="p">.</span><span class="n">z</span><span class="o">*</span><span class="n">n2</span><span class="p">.</span><span class="n">z</span><span class="p">));</span>
<span class="p">}</span>
</code></pre></div></div>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
				<span class="n">float3</span> <span class="n">normalA</span> <span class="o">=</span> <span class="n">UnpackNormal</span><span class="p">(</span><span class="n">tex2D</span><span class="p">(</span><span class="n">_TextureA</span><span class="p">,</span> <span class="n">uv0_TextureA</span><span class="p">));</span>
				<span class="n">float3</span> <span class="n">normalB</span> <span class="o">=</span> <span class="n">UnpackNormal</span><span class="p">(</span><span class="n">tex2D</span><span class="p">(</span><span class="n">_TextureB</span><span class="p">,</span> <span class="n">uv0_TextureB</span><span class="p">));</span>
				<span class="n">float3</span> <span class="n">blend</span> <span class="o">=</span> <span class="n">BlendNormals</span><span class="p">(</span><span class="n">normalA</span><span class="p">,</span> <span class="n">normalB</span><span class="p">);</span>
</code></pre></div></div>

<h3 id="heightmap-texture-blend-高度贴图混合">HeightMap Texture Blend: 高度贴图混合</h3>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/Height_2.jpg" alt="img" /></p>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="n">Saturate</span><span class="p">(</span> <span class="n">Power</span><span class="p">(</span> <span class="p">(</span> <span class="p">(</span> <span class="n">HeightMap</span><span class="o">*</span> <span class="n">SplatMask</span><span class="p">)</span><span class="o">*</span><span class="mi">4</span> <span class="p">)</span> <span class="o">+</span> <span class="p">(</span> <span class="n">SplatMask</span><span class="o">*</span> <span class="mi">2</span> <span class="p">),</span> <span class="n">BlendStrength</span><span class="p">)</span> <span class="p">)</span>
</code></pre></div></div>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">float</span> <span class="n">HeightMap</span> <span class="o">=</span> <span class="n">tex2D</span><span class="p">(</span><span class="n">_HeightMapTexture</span><span class="p">,</span> <span class="n">uv0_HeightMapTexture</span><span class="p">).</span><span class="n">r</span><span class="p">;</span>
<span class="kt">float</span> <span class="n">SplatMask</span> <span class="o">=</span> <span class="n">tex2D</span><span class="p">(</span><span class="n">_SplatMaskTexture</span><span class="p">,</span> <span class="n">uv0_SplatMaskTexture</span><span class="p">).</span><span class="n">r</span><span class="p">;</span>
<span class="kt">float</span> <span class="n">HeightMask</span> <span class="o">=</span> <span class="n">saturate</span>
<span class="p">(</span>  
    <span class="n">pow</span><span class="p">(</span>
    	<span class="p">(</span><span class="n">HeightMap</span> <span class="o">*</span><span class="n">SplatMask</span><span class="p">)</span> <span class="o">*</span> <span class="mi">4</span> <span class="o">+</span> <span class="n">SplatMask</span> <span class="o">*</span> <span class="mi">2</span>
    	<span class="p">,</span>         
    	<span class="n">_BlendStrength</span>
    <span class="p">)</span>             
<span class="p">);</span>
</code></pre></div></div>

<h3 id="texel-size-贴图大小">Texel Size: 贴图大小</h3>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/TexelSizeNode.jpg" alt="img" /></p>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">Shader</span> <span class="s">"TestNode"</span>
<span class="p">{</span>
	<span class="n">Properties</span>
	<span class="p">{</span>
		<span class="n">_MainTexture</span><span class="p">(</span><span class="s">"MainTexture"</span><span class="p">,</span> <span class="mi">2</span><span class="n">D</span><span class="p">)</span> <span class="o">=</span> <span class="s">"white"</span> <span class="p">{}</span>

	<span class="p">}</span>
	
	<span class="n">SubShader</span>
	<span class="p">{</span>
		<span class="n">Pass</span>
		<span class="p">{</span>
			<span class="k">uniform</span> <span class="kt">sampler2D</span> <span class="n">_MainTexture</span><span class="p">;</span>
			<span class="k">uniform</span> <span class="n">float4</span> <span class="n">_MainTexture_TexelSize</span><span class="p">;</span>

		<span class="p">}</span>
	<span class="p">}</span>
	
	
<span class="p">}</span>
</code></pre></div></div>

<h3 id="texture-array-纹理阵列">Texture Array： 纹理阵列</h3>

<p>“纹理阵列”节点是一种特殊的采样器，用于采样2D纹理的阵列。采样多个纹理时，使用阵列可能会节省性能。它们的功能类似于带有额外<a href="http://wiki.amplify.pt/index.php?title=Unity_Products:Amplify_Shader_Editor/Texture_Array#paramindex">索引</a>参数的“ <a href="http://wiki.amplify.pt/index.php?title=Unity_Products:Amplify_Shader_Editor/Texture_Sample">纹理样本”</a>节点，以从数组中获取所需的纹理。</p>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/TextureArrayNode.jpg" alt="img" /></p>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/image-20200612165408191.png" alt="image-20200612165408191" /></p>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/image-20200612165426479.png" alt="image-20200612165426479" /></p>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/image-20200612165514772.png" alt="image-20200612165514772" /></p>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/image-20200612165530144.png" alt="image-20200612165530144" /></p>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
				<span class="n">float2</span> <span class="n">uv_TextureArray0</span> <span class="o">=</span> <span class="n">i</span><span class="p">.</span><span class="n">ase_texcoord</span><span class="p">.</span><span class="n">xy</span> <span class="o">*</span> <span class="n">_TextureArray0_ST</span><span class="p">.</span><span class="n">xy</span> <span class="o">+</span> <span class="n">_TextureArray0_ST</span><span class="p">.</span><span class="n">zw</span><span class="p">;</span>
				<span class="n">float4</span> <span class="n">texArray527</span> <span class="o">=</span> <span class="n">UNITY_SAMPLE_TEX2DARRAY</span><span class="p">(</span><span class="n">_TextureArray0</span><span class="p">,</span> <span class="n">float3</span><span class="p">(</span><span class="n">uv_TextureArray0</span><span class="p">,</span> <span class="p">(</span><span class="kt">float</span><span class="p">)</span><span class="n">_Index</span><span class="p">)</span>  <span class="p">);</span>
</code></pre></div></div>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/20181219175433716.png" alt="image-20200612165530144" /></p>

<div class="language-c# highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">using</span> <span class="nn">UnityEngine</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">UnityEngine.Rendering</span><span class="p">;</span>

<span class="k">public</span> <span class="k">class</span> <span class="nc">Tex2DArrayTest</span> <span class="p">:</span> <span class="n">MonoBehaviour</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="n">MeshRenderer</span> <span class="n">render</span><span class="p">;</span>
    <span class="k">public</span> <span class="n">Texture2D</span><span class="p">[]</span> <span class="n">textures</span><span class="p">;</span>
    <span class="k">public</span> <span class="n">ECopyTexMethpd</span> <span class="n">copyTexMethod</span><span class="p">;</span>                <span class="c1">// 把Texrure2D信息拷贝到Texture2DArray对象中使用的方式 //</span>

    <span class="k">public</span> <span class="k">enum</span> <span class="n">ECopyTexMethpd</span>
    <span class="p">{</span>
        <span class="n">CopyTexture</span> <span class="p">=</span> <span class="m">0</span><span class="p">,</span>                                 <span class="c1">// 使用 Graphics.CopyTexture 方法 //</span>
        <span class="n">SetPexels</span> <span class="p">=</span> <span class="m">1</span><span class="p">,</span>                                      <span class="c1">// 使用 Texture2DArray.SetPixels 方法 //</span>
    <span class="p">}</span>

    <span class="k">private</span> <span class="n">Material</span> <span class="n">m_mat</span><span class="p">;</span>

    <span class="k">void</span> <span class="nf">Start</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">textures</span> <span class="p">==</span> <span class="k">null</span> <span class="p">||</span> <span class="n">textures</span><span class="p">.</span><span class="n">Length</span> <span class="p">==</span> <span class="m">0</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="n">enabled</span> <span class="p">=</span> <span class="k">false</span><span class="p">;</span>
            <span class="k">return</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="k">if</span> <span class="p">(</span><span class="n">SystemInfo</span><span class="p">.</span><span class="n">copyTextureSupport</span> <span class="p">==</span> <span class="n">CopyTextureSupport</span><span class="p">.</span><span class="n">None</span> <span class="p">||</span>
            <span class="p">!</span><span class="n">SystemInfo</span><span class="p">.</span><span class="n">supports2DArrayTextures</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="n">enabled</span> <span class="p">=</span> <span class="k">false</span><span class="p">;</span>
            <span class="k">return</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="n">Texture2DArray</span> <span class="n">texArr</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Texture2DArray</span><span class="p">(</span><span class="n">textures</span><span class="p">[</span><span class="m">0</span><span class="p">].</span><span class="n">width</span><span class="p">,</span> <span class="n">textures</span><span class="p">[</span><span class="m">0</span><span class="p">].</span><span class="n">width</span><span class="p">,</span> <span class="n">textures</span><span class="p">.</span><span class="n">Length</span><span class="p">,</span> <span class="n">textures</span><span class="p">[</span><span class="m">0</span><span class="p">].</span><span class="n">format</span><span class="p">,</span> <span class="k">false</span><span class="p">,</span> <span class="k">false</span><span class="p">);</span>

        <span class="c1">// 结论 //</span>
        <span class="c1">// Graphics.CopyTexture耗时(单位:Tick): 5914, 8092, 6807, 5706, 5993, 5865, 6104, 5780 //</span>
        <span class="c1">// Texture2DArray.SetPixels耗时(单位:Tick): 253608, 255041, 225135, 256947, 260036, 295523, 250641, 266044 //</span>
        <span class="c1">// Graphics.CopyTexture 明显快于 Texture2DArray.SetPixels 方法 //</span>
        <span class="c1">// Texture2DArray.SetPixels 方法的耗时大约是 Graphics.CopyTexture 的50倍左右 //</span>
        <span class="c1">// Texture2DArray.SetPixels 耗时的原因是需要把像素数据从cpu传到gpu, 原文: Call Apply to actually upload the changed pixels to the graphics card //</span>
        <span class="c1">// 而Graphics.CopyTexture只在gpu端进行操作, 原文: operates on GPU-side data exclusively //</span>

        <span class="c1">//using (Timer timer = new Timer(Timer.ETimerLogType.Tick))</span>
        <span class="c1">//{</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">copyTexMethod</span> <span class="p">==</span> <span class="n">ECopyTexMethpd</span><span class="p">.</span><span class="n">CopyTexture</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span> <span class="n">i</span> <span class="p">&lt;</span> <span class="n">textures</span><span class="p">.</span><span class="n">Length</span><span class="p">;</span> <span class="n">i</span><span class="p">++)</span>
                <span class="p">{</span>
                    <span class="c1">// 以下两行都可以 //</span>
                    <span class="c1">//Graphics.CopyTexture(textures[i], 0, texArr, i);</span>
                    <span class="n">Graphics</span><span class="p">.</span><span class="nf">CopyTexture</span><span class="p">(</span><span class="n">textures</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="m">0</span><span class="p">,</span> <span class="m">0</span><span class="p">,</span> <span class="n">texArr</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="m">0</span><span class="p">);</span>
                <span class="p">}</span>
            <span class="p">}</span>
            <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">copyTexMethod</span> <span class="p">==</span> <span class="n">ECopyTexMethpd</span><span class="p">.</span><span class="n">SetPexels</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span> <span class="n">i</span> <span class="p">&lt;</span> <span class="n">textures</span><span class="p">.</span><span class="n">Length</span><span class="p">;</span> <span class="n">i</span><span class="p">++)</span>
                <span class="p">{</span>
                    <span class="c1">// 以下两行都可以 //</span>
                    <span class="c1">//texArr.SetPixels(textures[i].GetPixels(), i);</span>
                    <span class="n">texArr</span><span class="p">.</span><span class="nf">SetPixels</span><span class="p">(</span><span class="n">textures</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="nf">GetPixels</span><span class="p">(),</span> <span class="n">i</span><span class="p">,</span> <span class="m">0</span><span class="p">);</span>
                <span class="p">}</span>

                <span class="n">texArr</span><span class="p">.</span><span class="nf">Apply</span><span class="p">();</span>
            <span class="p">}</span>
        <span class="c1">//}</span>

        <span class="n">texArr</span><span class="p">.</span><span class="n">wrapMode</span> <span class="p">=</span> <span class="n">TextureWrapMode</span><span class="p">.</span><span class="n">Clamp</span><span class="p">;</span>
        <span class="n">texArr</span><span class="p">.</span><span class="n">filterMode</span> <span class="p">=</span> <span class="n">FilterMode</span><span class="p">.</span><span class="n">Bilinear</span><span class="p">;</span>

        <span class="n">m_mat</span> <span class="p">=</span> <span class="n">render</span><span class="p">.</span><span class="n">material</span><span class="p">;</span>

        <span class="n">m_mat</span><span class="p">.</span><span class="nf">SetTexture</span><span class="p">(</span><span class="s">"_TexArr"</span><span class="p">,</span> <span class="n">texArr</span><span class="p">);</span>
        <span class="n">m_mat</span><span class="p">.</span><span class="nf">SetFloat</span><span class="p">(</span><span class="s">"_Index"</span><span class="p">,</span> <span class="n">Random</span><span class="p">.</span><span class="nf">Range</span><span class="p">(</span><span class="m">0</span><span class="p">,</span> <span class="n">textures</span><span class="p">.</span><span class="n">Length</span><span class="p">));</span>

        <span class="c1">//AssetDatabase.CreateAsset(texArr, "Assets/RogueX/Prefab/texArray.asset");</span>
    <span class="p">}</span>

    <span class="k">void</span> <span class="nf">OnGUI</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">GUI</span><span class="p">.</span><span class="nf">Button</span><span class="p">(</span><span class="k">new</span> <span class="nf">Rect</span><span class="p">(</span><span class="m">0</span><span class="p">,</span> <span class="m">0</span><span class="p">,</span> <span class="m">200</span><span class="p">,</span> <span class="m">100</span><span class="p">),</span> <span class="s">"Change Texture"</span><span class="p">))</span>
        <span class="p">{</span>
            <span class="n">m_mat</span><span class="p">.</span><span class="nf">SetFloat</span><span class="p">(</span><span class="s">"_Index"</span><span class="p">,</span> <span class="n">Random</span><span class="p">.</span><span class="nf">Range</span><span class="p">(</span><span class="m">0</span><span class="p">,</span> <span class="n">textures</span><span class="p">.</span><span class="n">Length</span><span class="p">));</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>

</code></pre></div></div>

<h3 id="texture-sample-贴图采样">Texture Sample: 贴图采样</h3>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>tex2D( _Texture0, uv0_Texture0 );


</code></pre></div></div>

<h3 id="texture-transform-设置纹理平铺和偏移">Texture Transform: 设置纹理平铺和偏移</h3>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">TexCoord</span> <span class="o">=</span> <span class="n">TexCoord</span> <span class="o">*</span> <span class="n">Tiling</span> <span class="o">+</span> <span class="n">Offset</span>
</code></pre></div></div>

<h3 id="unpackscalenormal--解法线贴图-并且乘一个值">UnpackScaleNormal : 解法线贴图， 并且乘一个值</h3>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="n">UnpackScaleNormal</span><span class="p">(</span> <span class="n">tex2D</span><span class="p">(</span> <span class="n">_Texture0</span><span class="p">,</span> <span class="n">uv0534</span> <span class="p">),</span> <span class="n">_Scale</span> <span class="p">)</span>
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>UnpackNormal( tex2D( _Texture0, uv0534 )
</code></pre></div></div>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="n">half3</span> <span class="nf">UnpackScaleNormalRGorAG</span><span class="p">(</span><span class="n">half4</span> <span class="n">packednormal</span><span class="p">,</span> <span class="kr">half</span> <span class="n">bumpScale</span><span class="p">)</span>
<span class="p">{</span>
    <span class="cp">#if defined(UNITY_NO_DXT5nm)
</span>        <span class="n">half3</span> <span class="n">normal</span> <span class="o">=</span> <span class="n">packednormal</span><span class="p">.</span><span class="n">xyz</span> <span class="o">*</span> <span class="mi">2</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span>
        <span class="cp">#if (SHADER_TARGET &gt;= 30)
</span>            <span class="c1">// SM2.0: instruction count limitation</span>
            <span class="c1">// SM2.0: normal scaler is not supported</span>
            <span class="n">normal</span><span class="p">.</span><span class="n">xy</span> <span class="o">*=</span> <span class="n">bumpScale</span><span class="p">;</span>
        <span class="cp">#endif
</span>        <span class="k">return</span> <span class="n">normal</span><span class="p">;</span>
    <span class="cp">#else
</span>        <span class="c1">// This do the trick</span>
        <span class="n">packednormal</span><span class="p">.</span><span class="n">x</span> <span class="o">*=</span> <span class="n">packednormal</span><span class="p">.</span><span class="n">w</span><span class="p">;</span>

        <span class="n">half3</span> <span class="n">normal</span><span class="p">;</span>
        <span class="n">normal</span><span class="p">.</span><span class="n">xy</span> <span class="o">=</span> <span class="p">(</span><span class="n">packednormal</span><span class="p">.</span><span class="n">xy</span> <span class="o">*</span> <span class="mi">2</span> <span class="o">-</span> <span class="mi">1</span><span class="p">);</span>
        <span class="cp">#if (SHADER_TARGET &gt;= 30)
</span>            <span class="c1">// SM2.0: instruction count limitation</span>
            <span class="c1">// SM2.0: normal scaler is not supported</span>
            <span class="n">normal</span><span class="p">.</span><span class="n">xy</span> <span class="o">*=</span> <span class="n">bumpScale</span><span class="p">;</span>
        <span class="cp">#endif
</span>        <span class="n">normal</span><span class="p">.</span><span class="n">z</span> <span class="o">=</span> <span class="n">sqrt</span><span class="p">(</span><span class="mi">1</span><span class="p">.</span><span class="mi">0</span> <span class="o">-</span> <span class="n">saturate</span><span class="p">(</span><span class="n">dot</span><span class="p">(</span><span class="n">normal</span><span class="p">.</span><span class="n">xy</span><span class="p">,</span> <span class="n">normal</span><span class="p">.</span><span class="n">xy</span><span class="p">)));</span>
        <span class="k">return</span> <span class="n">normal</span><span class="p">;</span>
    <span class="cp">#endif
</span><span class="p">}</span>

<span class="n">half3</span> <span class="nf">UnpackScaleNormal</span><span class="p">(</span><span class="n">half4</span> <span class="n">packednormal</span><span class="p">,</span> <span class="kr">half</span> <span class="n">bumpScale</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">return</span> <span class="n">UnpackScaleNormalRGorAG</span><span class="p">(</span><span class="n">packednormal</span><span class="p">,</span> <span class="n">bumpScale</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="kr">inline</span> <span class="n">fixed3</span> <span class="nf">UnpackNormalDXT5nm</span> <span class="p">(</span><span class="n">fixed4</span> <span class="n">packednormal</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">fixed3</span> <span class="n">normal</span><span class="p">;</span>
    <span class="n">normal</span><span class="p">.</span><span class="n">xy</span> <span class="o">=</span> <span class="n">packednormal</span><span class="p">.</span><span class="n">wy</span> <span class="o">*</span> <span class="mi">2</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span>
    <span class="n">normal</span><span class="p">.</span><span class="n">z</span> <span class="o">=</span> <span class="n">sqrt</span><span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="n">saturate</span><span class="p">(</span><span class="n">dot</span><span class="p">(</span><span class="n">normal</span><span class="p">.</span><span class="n">xy</span><span class="p">,</span> <span class="n">normal</span><span class="p">.</span><span class="n">xy</span><span class="p">)));</span>
    <span class="k">return</span> <span class="n">normal</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// Unpack normal as DXT5nm (1, y, 1, x) or BC5 (x, y, 0, 1)</span>
<span class="c1">// Note neutral texture like "bump" is (0, 0, 1, 1) to work with both plain RGB normal and DXT5nm/BC5</span>
<span class="n">fixed3</span> <span class="nf">UnpackNormalmapRGorAG</span><span class="p">(</span><span class="n">fixed4</span> <span class="n">packednormal</span><span class="p">)</span>
<span class="p">{</span>
    <span class="c1">// This do the trick</span>
   <span class="n">packednormal</span><span class="p">.</span><span class="n">x</span> <span class="o">*=</span> <span class="n">packednormal</span><span class="p">.</span><span class="n">w</span><span class="p">;</span>

    <span class="n">fixed3</span> <span class="n">normal</span><span class="p">;</span>
    <span class="n">normal</span><span class="p">.</span><span class="n">xy</span> <span class="o">=</span> <span class="n">packednormal</span><span class="p">.</span><span class="n">xy</span> <span class="o">*</span> <span class="mi">2</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span>
    <span class="n">normal</span><span class="p">.</span><span class="n">z</span> <span class="o">=</span> <span class="n">sqrt</span><span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="n">saturate</span><span class="p">(</span><span class="n">dot</span><span class="p">(</span><span class="n">normal</span><span class="p">.</span><span class="n">xy</span><span class="p">,</span> <span class="n">normal</span><span class="p">.</span><span class="n">xy</span><span class="p">)));</span>
    <span class="k">return</span> <span class="n">normal</span><span class="p">;</span>
<span class="p">}</span>
<span class="kr">inline</span> <span class="n">fixed3</span> <span class="nf">UnpackNormal</span><span class="p">(</span><span class="n">fixed4</span> <span class="n">packednormal</span><span class="p">)</span>
<span class="p">{</span>
<span class="cp">#if defined(UNITY_NO_DXT5nm)
</span>    <span class="k">return</span> <span class="n">packednormal</span><span class="p">.</span><span class="n">xyz</span> <span class="o">*</span> <span class="mi">2</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span>
<span class="cp">#else
</span>    <span class="k">return</span> <span class="n">UnpackNormalmapRGorAG</span><span class="p">(</span><span class="n">packednormal</span><span class="p">);</span>
<span class="cp">#endif
</span><span class="p">}</span>
</code></pre></div></div>

<h1 id="uv-coordinates-uv坐标">UV Coordinates: UV坐标</h1>

<h3 id="texture-coordinates-贴图uv坐标">Texture Coordinates: 贴图UV坐标</h3>

<p>根据纹理平铺和偏移参数对其进行操作</p>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/TextureCoordinates.jpg" alt="image-20200612165530144" /></p>

<h3 id="rotator-uv旋转">Rotator: UV旋转</h3>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/RotatorNode.gif" alt="image-20200612165530144" /></p>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/image-20200615105724286.png" alt="image-20200615105724286" /></p>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">float2</span> <span class="n">uv</span> <span class="o">=</span> <span class="n">i</span><span class="p">.</span><span class="n">ase_texcoord</span><span class="p">.</span><span class="n">xy</span> <span class="o">*</span> <span class="n">_Texture0_ST</span><span class="p">.</span><span class="n">xy</span> <span class="o">+</span> <span class="n">_Texture0_ST</span><span class="p">.</span><span class="n">zw</span><span class="p">;</span>
<span class="kt">float</span> <span class="n">cosVal</span> <span class="o">=</span> <span class="n">cos</span><span class="p">(</span> <span class="n">radians</span><span class="p">(</span> <span class="n">_Angle</span> <span class="p">)</span> <span class="p">);</span>
<span class="kt">float</span> <span class="n">sinVal</span> <span class="o">=</span> <span class="n">sin</span><span class="p">(</span> <span class="n">radians</span><span class="p">(</span> <span class="n">_Angle</span> <span class="p">)</span> <span class="p">);</span>
<span class="n">float2</span> <span class="n">rotatorUV</span> <span class="o">=</span> <span class="n">mul</span><span class="p">(</span> <span class="n">uv</span> <span class="o">-</span> <span class="n">_Anchor</span> <span class="p">,</span> <span class="n">float2x2</span><span class="p">(</span> <span class="n">cosVal</span> <span class="p">,</span> <span class="o">-</span><span class="n">sinVal</span> <span class="p">,</span> <span class="n">sinVal</span> <span class="p">,</span> <span class="n">cosVal</span> <span class="p">))</span> <span class="o">+</span> <span class="n">_Anchor</span><span class="p">;</span>


<span class="n">finalColor</span> <span class="o">=</span> <span class="n">tex2D</span><span class="p">(</span> <span class="n">_Texture0</span><span class="p">,</span> <span class="n">rotatorUV</span> <span class="p">);</span>
</code></pre></div></div>

<h3 id="pixelate-uv-像素画uv">Pixelate UV: 像素画UV</h3>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/PixelateUVNode.jpg" alt="image-20200615105724286" /></p>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/image-20200615110834500.png" alt="image-20200615110834500" /></p>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">fixed4</span> <span class="n">finalColor</span><span class="p">;</span>
<span class="n">float2</span> <span class="n">uv</span> <span class="o">=</span> <span class="n">i</span><span class="p">.</span><span class="n">ase_texcoord</span><span class="p">.</span><span class="n">xy</span> <span class="o">*</span> <span class="n">_Texture0_ST</span><span class="p">.</span><span class="n">xy</span> <span class="o">+</span> <span class="n">_Texture0_ST</span><span class="p">.</span><span class="n">zw</span><span class="p">;</span>
<span class="kt">float</span> <span class="n">pixelWidth</span> <span class="o">=</span>  <span class="mi">1</span><span class="p">.</span><span class="mi">0</span><span class="n">f</span> <span class="o">/</span> <span class="n">_PixelsX</span><span class="p">;</span>
<span class="kt">float</span> <span class="n">pixelHeight</span> <span class="o">=</span> <span class="mi">1</span><span class="p">.</span><span class="mi">0</span><span class="n">f</span> <span class="o">/</span> <span class="n">_PixelsY</span><span class="p">;</span>
<span class="n">half2</span> <span class="n">pixelateduv</span> <span class="o">=</span> <span class="n">half2</span><span class="p">((</span><span class="kt">int</span><span class="p">)(</span><span class="n">uv</span><span class="p">.</span><span class="n">x</span> <span class="o">/</span> <span class="n">pixelWidth</span><span class="p">)</span> <span class="o">*</span> <span class="n">pixelWidth</span><span class="p">,</span> <span class="p">(</span><span class="kt">int</span><span class="p">)(</span><span class="n">uv</span><span class="p">.</span><span class="n">y</span> <span class="o">/</span> <span class="n">pixelHeight</span><span class="p">)</span> <span class="o">*</span> <span class="n">pixelHeight</span><span class="p">);</span>


<span class="n">finalColor</span> <span class="o">=</span> <span class="n">tex2D</span><span class="p">(</span> <span class="n">_Texture0</span><span class="p">,</span> <span class="n">pixelateduv</span> <span class="p">);</span>
</code></pre></div></div>

<h3 id="panner-uv平移">Panner: UV平移</h3>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/image-20200615111543189.png" alt="image-20200615111543189" /></p>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/PannerNode.gif" alt="image-20200615111543189" /></p>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">fixed4</span> <span class="n">finalColor</span><span class="p">;</span>
<span class="n">float2</span> <span class="n">uv</span> <span class="o">=</span> <span class="n">i</span><span class="p">.</span><span class="n">ase_texcoord</span><span class="p">.</span><span class="n">xy</span> <span class="o">*</span> <span class="n">_Texture0_ST</span><span class="p">.</span><span class="n">xy</span> <span class="o">+</span> <span class="n">_Texture0_ST</span><span class="p">.</span><span class="n">zw</span><span class="p">;</span>
<span class="n">float2</span> <span class="n">pannerUV</span> <span class="o">=</span> <span class="p">(</span> <span class="n">_T</span> <span class="o">*</span> <span class="n">_Speed</span> <span class="o">+</span> <span class="n">uv</span><span class="p">);</span>


<span class="n">finalColor</span> <span class="o">=</span> <span class="n">tex2D</span><span class="p">(</span> <span class="n">_Texture0</span><span class="p">,</span> <span class="n">pannerUV</span> <span class="p">);</span>
</code></pre></div></div>

<h3 id="bidirectional-parallax-mapping">Bidirectional Parallax Mapping</h3>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/image-20200615112505638.png" alt="image-20200615112505638" /></p>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/image-20200615112607104.png" alt="image-20200615112607104" /></p>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/image-20200615112616627.png" alt="image-20200615112616627" /></p>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">Shader</span> <span class="s">"TestNode"</span>
<span class="p">{</span>
	<span class="n">Properties</span>
	<span class="p">{</span>
		<span class="n">_Texture0</span><span class="p">(</span><span class="s">"Texture 0"</span><span class="p">,</span> <span class="mi">2</span><span class="n">D</span><span class="p">)</span> <span class="o">=</span> <span class="s">"white"</span> <span class="p">{}</span>
		<span class="n">_ReferencePlane</span><span class="p">(</span><span class="s">"Reference Plane"</span><span class="p">,</span> <span class="n">Range</span><span class="p">(</span> <span class="mi">0</span> <span class="p">,</span> <span class="mi">100</span><span class="p">))</span> <span class="o">=</span> <span class="mi">0</span>
		<span class="n">_ParallaxScale</span><span class="p">(</span><span class="s">"Parallax Scale"</span><span class="p">,</span> <span class="n">Range</span><span class="p">(</span> <span class="mi">0</span> <span class="p">,</span> <span class="mi">100</span><span class="p">))</span> <span class="o">=</span> <span class="mi">0</span>
		<span class="n">_Iterations</span><span class="p">(</span><span class="s">"Iterations"</span><span class="p">,</span> <span class="n">Int</span><span class="p">)</span> <span class="o">=</span> <span class="mi">1</span>

	<span class="p">}</span>
	
	<span class="n">SubShader</span>
	<span class="p">{</span>
		
		
		<span class="n">Tags</span> <span class="p">{</span> <span class="s">"RenderType"</span><span class="o">=</span><span class="s">"Opaque"</span> <span class="p">}</span>
	<span class="n">LOD</span> <span class="mi">100</span>

		<span class="n">CGINCLUDE</span>
		<span class="cp">#pragma target 3.0
</span>		<span class="n">ENDCG</span>
		<span class="n">Blend</span> <span class="n">Off</span>
		<span class="n">Cull</span> <span class="n">Back</span>
		<span class="n">ColorMask</span> <span class="n">RGBA</span>
		<span class="n">ZWrite</span> <span class="n">On</span>
		<span class="n">ZTest</span> <span class="n">LEqual</span>
		<span class="n">Offset</span> <span class="mi">0</span> <span class="p">,</span> <span class="mi">0</span>
		
		
		
		<span class="n">Pass</span>
		<span class="p">{</span>
			<span class="n">Name</span> <span class="s">"Unlit"</span>
			<span class="n">Tags</span> <span class="p">{</span> <span class="s">"LightMode"</span><span class="o">=</span><span class="s">"ForwardBase"</span>  <span class="p">}</span>
			<span class="n">CGPROGRAM</span>

			

			<span class="cp">#ifndef UNITY_SETUP_STEREO_EYE_INDEX_POST_VERTEX
</span>			<span class="c1">//only defining to not throw compilation error over Unity 5.5</span>
			<span class="cp">#define UNITY_SETUP_STEREO_EYE_INDEX_POST_VERTEX(input)
</span>			<span class="cp">#endif
</span>			<span class="cp">#pragma vertex vert
</span>			<span class="cp">#pragma fragment frag
</span>			<span class="cp">#pragma multi_compile_instancing
</span>			<span class="cp">#include "UnityCG.cginc"
</span>			

			<span class="k">struct</span> <span class="n">appdata</span>
			<span class="p">{</span>
				<span class="n">float4</span> <span class="n">vertex</span> <span class="o">:</span> <span class="n">POSITION</span><span class="p">;</span>
				<span class="n">float4</span> <span class="n">color</span> <span class="o">:</span> <span class="n">COLOR</span><span class="p">;</span>
				<span class="n">UNITY_VERTEX_INPUT_INSTANCE_ID</span>
				<span class="n">float4</span> <span class="n">ase_texcoord</span> <span class="o">:</span> <span class="n">TEXCOORD0</span><span class="p">;</span>
				<span class="n">float4</span> <span class="n">ase_tangent</span> <span class="o">:</span> <span class="n">TANGENT</span><span class="p">;</span>
				<span class="n">float3</span> <span class="n">ase_normal</span> <span class="o">:</span> <span class="n">NORMAL</span><span class="p">;</span>
			<span class="p">};</span>
			
			<span class="k">struct</span> <span class="n">v2f</span>
			<span class="p">{</span>
				<span class="n">float4</span> <span class="n">vertex</span> <span class="o">:</span> <span class="n">SV_POSITION</span><span class="p">;</span>
				<span class="n">UNITY_VERTEX_INPUT_INSTANCE_ID</span>
				<span class="n">UNITY_VERTEX_OUTPUT_STEREO</span>
				<span class="n">float4</span> <span class="n">ase_texcoord</span> <span class="o">:</span> <span class="n">TEXCOORD0</span><span class="p">;</span>
				<span class="n">float4</span> <span class="n">ase_texcoord1</span> <span class="o">:</span> <span class="n">TEXCOORD1</span><span class="p">;</span>
				<span class="n">float4</span> <span class="n">ase_texcoord2</span> <span class="o">:</span> <span class="n">TEXCOORD2</span><span class="p">;</span>
				<span class="n">float4</span> <span class="n">ase_texcoord3</span> <span class="o">:</span> <span class="n">TEXCOORD3</span><span class="p">;</span>
				<span class="n">float4</span> <span class="n">ase_texcoord4</span> <span class="o">:</span> <span class="n">TEXCOORD4</span><span class="p">;</span>
			<span class="p">};</span>

			<span class="k">uniform</span> <span class="kt">sampler2D</span> <span class="n">_Texture0</span><span class="p">;</span>
			<span class="k">uniform</span> <span class="n">float4</span> <span class="n">_Texture0_ST</span><span class="p">;</span>
			<span class="k">uniform</span> <span class="kt">int</span> <span class="n">_Iterations</span><span class="p">;</span>
			<span class="k">uniform</span> <span class="kt">float</span> <span class="n">_ReferencePlane</span><span class="p">;</span>
			<span class="k">uniform</span> <span class="kt">float</span> <span class="n">_ParallaxScale</span><span class="p">;</span>
			<span class="n">float2</span> <span class="n">IterativeParallax27_g4</span><span class="p">(</span> <span class="kt">sampler2D</span> <span class="n">tex</span> <span class="p">,</span> <span class="n">float2</span> <span class="n">UVs</span> <span class="p">,</span> <span class="n">float2</span> <span class="n">plane</span> <span class="p">,</span> <span class="kt">int</span> <span class="n">ite</span> <span class="p">,</span> <span class="kt">float</span> <span class="n">refp</span> <span class="p">,</span> <span class="kt">float</span> <span class="n">scale</span> <span class="p">)</span>
			<span class="p">{</span>
				<span class="n">UVs</span> <span class="o">+=</span> <span class="n">plane</span> <span class="o">*</span> <span class="n">scale</span> <span class="o">*</span> <span class="n">refp</span> <span class="o">*</span> <span class="n">ite</span><span class="p">;</span>
				<span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">ite</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span>
				<span class="p">{</span>
					<span class="n">UVs</span> <span class="o">+=</span> <span class="p">(</span><span class="n">tex2D</span><span class="p">(</span><span class="n">tex</span><span class="p">,</span> <span class="n">UVs</span><span class="p">).</span><span class="n">g</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">*</span> <span class="n">plane</span> <span class="o">*</span> <span class="n">scale</span><span class="p">;</span>
				<span class="p">}</span>
				<span class="k">return</span> <span class="n">UVs</span><span class="p">;</span>
			<span class="p">}</span>
			

			
			<span class="n">v2f</span> <span class="n">vert</span> <span class="p">(</span> <span class="n">appdata</span> <span class="n">v</span> <span class="p">)</span>
			<span class="p">{</span>
				<span class="n">v2f</span> <span class="n">o</span><span class="p">;</span>
				<span class="n">UNITY_SETUP_INSTANCE_ID</span><span class="p">(</span><span class="n">v</span><span class="p">);</span>
				<span class="n">UNITY_INITIALIZE_VERTEX_OUTPUT_STEREO</span><span class="p">(</span><span class="n">o</span><span class="p">);</span>
				<span class="n">UNITY_TRANSFER_INSTANCE_ID</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="n">o</span><span class="p">);</span>

				<span class="n">float3</span> <span class="n">ase_worldTangent</span> <span class="o">=</span> <span class="n">UnityObjectToWorldDir</span><span class="p">(</span><span class="n">v</span><span class="p">.</span><span class="n">ase_tangent</span><span class="p">);</span>
				<span class="n">o</span><span class="p">.</span><span class="n">ase_texcoord1</span><span class="p">.</span><span class="n">xyz</span> <span class="o">=</span> <span class="n">ase_worldTangent</span><span class="p">;</span>
				<span class="n">float3</span> <span class="n">ase_worldNormal</span> <span class="o">=</span> <span class="n">UnityObjectToWorldNormal</span><span class="p">(</span><span class="n">v</span><span class="p">.</span><span class="n">ase_normal</span><span class="p">);</span>
				<span class="n">o</span><span class="p">.</span><span class="n">ase_texcoord2</span><span class="p">.</span><span class="n">xyz</span> <span class="o">=</span> <span class="n">ase_worldNormal</span><span class="p">;</span>
				<span class="kt">float</span> <span class="n">ase_vertexTangentSign</span> <span class="o">=</span> <span class="n">v</span><span class="p">.</span><span class="n">ase_tangent</span><span class="p">.</span><span class="n">w</span> <span class="o">*</span> <span class="n">unity_WorldTransformParams</span><span class="p">.</span><span class="n">w</span><span class="p">;</span>
				<span class="n">float3</span> <span class="n">ase_worldBitangent</span> <span class="o">=</span> <span class="n">cross</span><span class="p">(</span> <span class="n">ase_worldNormal</span><span class="p">,</span> <span class="n">ase_worldTangent</span> <span class="p">)</span> <span class="o">*</span> <span class="n">ase_vertexTangentSign</span><span class="p">;</span>
				<span class="n">o</span><span class="p">.</span><span class="n">ase_texcoord3</span><span class="p">.</span><span class="n">xyz</span> <span class="o">=</span> <span class="n">ase_worldBitangent</span><span class="p">;</span>
				<span class="n">float3</span> <span class="n">ase_worldPos</span> <span class="o">=</span> <span class="n">mul</span><span class="p">(</span><span class="n">unity_ObjectToWorld</span><span class="p">,</span> <span class="n">v</span><span class="p">.</span><span class="n">vertex</span><span class="p">).</span><span class="n">xyz</span><span class="p">;</span>
				<span class="n">o</span><span class="p">.</span><span class="n">ase_texcoord4</span><span class="p">.</span><span class="n">xyz</span> <span class="o">=</span> <span class="n">ase_worldPos</span><span class="p">;</span>
				
				<span class="n">o</span><span class="p">.</span><span class="n">ase_texcoord</span><span class="p">.</span><span class="n">xy</span> <span class="o">=</span> <span class="n">v</span><span class="p">.</span><span class="n">ase_texcoord</span><span class="p">.</span><span class="n">xy</span><span class="p">;</span>
				
				<span class="c1">//setting value to unused interpolator channels and avoid initialization warnings</span>
				<span class="n">o</span><span class="p">.</span><span class="n">ase_texcoord</span><span class="p">.</span><span class="n">zw</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
				<span class="n">o</span><span class="p">.</span><span class="n">ase_texcoord1</span><span class="p">.</span><span class="n">w</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
				<span class="n">o</span><span class="p">.</span><span class="n">ase_texcoord2</span><span class="p">.</span><span class="n">w</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
				<span class="n">o</span><span class="p">.</span><span class="n">ase_texcoord3</span><span class="p">.</span><span class="n">w</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
				<span class="n">o</span><span class="p">.</span><span class="n">ase_texcoord4</span><span class="p">.</span><span class="n">w</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
				<span class="n">float3</span> <span class="n">vertexValue</span> <span class="o">=</span> <span class="n">float3</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
				<span class="cp">#if ASE_ABSOLUTE_VERTEX_POS
</span>				<span class="n">vertexValue</span> <span class="o">=</span> <span class="n">v</span><span class="p">.</span><span class="n">vertex</span><span class="p">.</span><span class="n">xyz</span><span class="p">;</span>
				<span class="cp">#endif
</span>				<span class="n">vertexValue</span> <span class="o">=</span> <span class="n">vertexValue</span><span class="p">;</span>
				<span class="cp">#if ASE_ABSOLUTE_VERTEX_POS
</span>				<span class="n">v</span><span class="p">.</span><span class="n">vertex</span><span class="p">.</span><span class="n">xyz</span> <span class="o">=</span> <span class="n">vertexValue</span><span class="p">;</span>
				<span class="cp">#else
</span>				<span class="n">v</span><span class="p">.</span><span class="n">vertex</span><span class="p">.</span><span class="n">xyz</span> <span class="o">+=</span> <span class="n">vertexValue</span><span class="p">;</span>
				<span class="cp">#endif
</span>				<span class="n">o</span><span class="p">.</span><span class="n">vertex</span> <span class="o">=</span> <span class="n">UnityObjectToClipPos</span><span class="p">(</span><span class="n">v</span><span class="p">.</span><span class="n">vertex</span><span class="p">);</span>
				<span class="k">return</span> <span class="n">o</span><span class="p">;</span>
			<span class="p">}</span>
			
			<span class="n">fixed4</span> <span class="n">frag</span> <span class="p">(</span><span class="n">v2f</span> <span class="n">i</span> <span class="p">)</span> <span class="o">:</span> <span class="n">SV_Target</span>
			<span class="p">{</span>
				<span class="n">UNITY_SETUP_INSTANCE_ID</span><span class="p">(</span><span class="n">i</span><span class="p">);</span>
				<span class="n">UNITY_SETUP_STEREO_EYE_INDEX_POST_VERTEX</span><span class="p">(</span><span class="n">i</span><span class="p">);</span>
				<span class="n">fixed4</span> <span class="n">finalColor</span><span class="p">;</span>
				<span class="kt">sampler2D</span> <span class="n">tex27_g4</span> <span class="o">=</span> <span class="n">_Texture0</span><span class="p">;</span>
				<span class="n">float2</span> <span class="n">uv0_Texture0</span> <span class="o">=</span> <span class="n">i</span><span class="p">.</span><span class="n">ase_texcoord</span><span class="p">.</span><span class="n">xy</span> <span class="o">*</span> <span class="n">_Texture0_ST</span><span class="p">.</span><span class="n">xy</span> <span class="o">+</span> <span class="n">_Texture0_ST</span><span class="p">.</span><span class="n">zw</span><span class="p">;</span>
				<span class="n">float2</span> <span class="n">UVs27_g4</span> <span class="o">=</span> <span class="n">uv0_Texture0</span><span class="p">;</span>
				<span class="n">float3</span> <span class="n">ase_worldTangent</span> <span class="o">=</span> <span class="n">i</span><span class="p">.</span><span class="n">ase_texcoord1</span><span class="p">.</span><span class="n">xyz</span><span class="p">;</span>
				<span class="n">float3</span> <span class="n">ase_worldNormal</span> <span class="o">=</span> <span class="n">i</span><span class="p">.</span><span class="n">ase_texcoord2</span><span class="p">.</span><span class="n">xyz</span><span class="p">;</span>
				<span class="n">float3</span> <span class="n">ase_worldBitangent</span> <span class="o">=</span> <span class="n">i</span><span class="p">.</span><span class="n">ase_texcoord3</span><span class="p">.</span><span class="n">xyz</span><span class="p">;</span>
				<span class="n">float3</span> <span class="n">tanToWorld0</span> <span class="o">=</span> <span class="n">float3</span><span class="p">(</span> <span class="n">ase_worldTangent</span><span class="p">.</span><span class="n">x</span><span class="p">,</span> <span class="n">ase_worldBitangent</span><span class="p">.</span><span class="n">x</span><span class="p">,</span> <span class="n">ase_worldNormal</span><span class="p">.</span><span class="n">x</span> <span class="p">);</span>
				<span class="n">float3</span> <span class="n">tanToWorld1</span> <span class="o">=</span> <span class="n">float3</span><span class="p">(</span> <span class="n">ase_worldTangent</span><span class="p">.</span><span class="n">y</span><span class="p">,</span> <span class="n">ase_worldBitangent</span><span class="p">.</span><span class="n">y</span><span class="p">,</span> <span class="n">ase_worldNormal</span><span class="p">.</span><span class="n">y</span> <span class="p">);</span>
				<span class="n">float3</span> <span class="n">tanToWorld2</span> <span class="o">=</span> <span class="n">float3</span><span class="p">(</span> <span class="n">ase_worldTangent</span><span class="p">.</span><span class="n">z</span><span class="p">,</span> <span class="n">ase_worldBitangent</span><span class="p">.</span><span class="n">z</span><span class="p">,</span> <span class="n">ase_worldNormal</span><span class="p">.</span><span class="n">z</span> <span class="p">);</span>
				<span class="n">float3</span> <span class="n">ase_worldPos</span> <span class="o">=</span> <span class="n">i</span><span class="p">.</span><span class="n">ase_texcoord4</span><span class="p">.</span><span class="n">xyz</span><span class="p">;</span>
				<span class="n">float3</span> <span class="n">ase_worldViewDir</span> <span class="o">=</span> <span class="n">UnityWorldSpaceViewDir</span><span class="p">(</span><span class="n">ase_worldPos</span><span class="p">);</span>
				<span class="n">ase_worldViewDir</span> <span class="o">=</span> <span class="n">normalize</span><span class="p">(</span><span class="n">ase_worldViewDir</span><span class="p">);</span>
				<span class="n">float3</span> <span class="n">ase_tanViewDir</span> <span class="o">=</span>  <span class="n">tanToWorld0</span> <span class="o">*</span> <span class="n">ase_worldViewDir</span><span class="p">.</span><span class="n">x</span> <span class="o">+</span> <span class="n">tanToWorld1</span> <span class="o">*</span> <span class="n">ase_worldViewDir</span><span class="p">.</span><span class="n">y</span>  <span class="o">+</span> <span class="n">tanToWorld2</span> <span class="o">*</span> <span class="n">ase_worldViewDir</span><span class="p">.</span><span class="n">z</span><span class="p">;</span>
				<span class="n">ase_tanViewDir</span> <span class="o">=</span> <span class="n">normalize</span><span class="p">(</span><span class="n">ase_tanViewDir</span><span class="p">);</span>
				<span class="n">float2</span> <span class="n">appendResult2_g4</span> <span class="o">=</span> <span class="p">(</span><span class="n">float2</span><span class="p">(</span><span class="n">ase_tanViewDir</span><span class="p">.</span><span class="n">xy</span><span class="p">));</span>
				<span class="n">float2</span> <span class="n">plane27_g4</span> <span class="o">=</span> <span class="p">(</span> <span class="n">appendResult2_g4</span> <span class="o">/</span> <span class="n">ase_tanViewDir</span><span class="p">.</span><span class="n">z</span> <span class="p">);</span>
				<span class="kt">int</span> <span class="n">ite27_g4</span> <span class="o">=</span> <span class="n">_Iterations</span><span class="p">;</span>
				<span class="kt">float</span> <span class="n">refp27_g4</span> <span class="o">=</span> <span class="n">_ReferencePlane</span><span class="p">;</span>
				<span class="kt">float</span> <span class="n">scale27_g4</span> <span class="o">=</span> <span class="n">_ParallaxScale</span><span class="p">;</span>
				<span class="n">float2</span> <span class="n">localIterativeParallax27_g4</span> <span class="o">=</span> <span class="n">IterativeParallax27_g4</span><span class="p">(</span> <span class="n">tex27_g4</span> <span class="p">,</span> <span class="n">UVs27_g4</span> <span class="p">,</span> <span class="n">plane27_g4</span> <span class="p">,</span> <span class="n">ite27_g4</span> <span class="p">,</span> <span class="n">refp27_g4</span> <span class="p">,</span> <span class="n">scale27_g4</span> <span class="p">);</span>
				
				
				<span class="n">finalColor</span> <span class="o">=</span> <span class="n">tex2D</span><span class="p">(</span> <span class="n">_Texture0</span><span class="p">,</span> <span class="n">localIterativeParallax27_g4</span> <span class="p">);</span>
				<span class="k">return</span> <span class="n">finalColor</span><span class="p">;</span>
			<span class="p">}</span>
			<span class="n">ENDCG</span>
		<span class="p">}</span>
	<span class="p">}</span>
	<span class="n">CustomEditor</span> <span class="s">"ASEMaterialInspector"</span>
	
	
<span class="p">}</span>
</code></pre></div></div>

<h3 id="filpbook-uv-animation-uv-序列帧动画">Filpbook UV Animation: UV 序列帧动画</h3>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/image-20200615113511285.png" alt="image-20200615113511285" /></p>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">fixed4</span> <span class="n">finalColor</span><span class="p">;</span>
<span class="n">float2</span> <span class="n">uv0_Texture0</span> <span class="o">=</span> <span class="n">i</span><span class="p">.</span><span class="n">ase_texcoord</span><span class="p">.</span><span class="n">xy</span> <span class="o">*</span> <span class="n">_Texture0_ST</span><span class="p">.</span><span class="n">xy</span> <span class="o">+</span> <span class="n">_Texture0_ST</span><span class="p">.</span><span class="n">zw</span><span class="p">;</span>
<span class="c1">// *** BEGIN Flipbook UV Animation vars ***</span>
<span class="c1">// Total tiles of Flipbook Texture</span>
<span class="kt">float</span> <span class="n">fbtotaltiles574</span> <span class="o">=</span> <span class="n">_Columns</span> <span class="o">*</span> <span class="n">_Rows</span><span class="p">;</span>
<span class="c1">// Offsets for cols and rows of Flipbook Texture</span>
<span class="kt">float</span> <span class="n">fbcolsoffset574</span> <span class="o">=</span> <span class="mi">1</span><span class="p">.</span><span class="mi">0</span><span class="n">f</span> <span class="o">/</span> <span class="n">_Columns</span><span class="p">;</span>
<span class="kt">float</span> <span class="n">fbrowsoffset574</span> <span class="o">=</span> <span class="mi">1</span><span class="p">.</span><span class="mi">0</span><span class="n">f</span> <span class="o">/</span> <span class="n">_Rows</span><span class="p">;</span>
<span class="c1">// Speed of animation</span>
<span class="kt">float</span> <span class="n">fbspeed574</span> <span class="o">=</span> <span class="n">_T</span> <span class="o">*</span> <span class="n">_Speed</span><span class="p">;</span>
<span class="c1">// UV Tiling (col and row offset)</span>
<span class="n">float2</span> <span class="n">fbtiling574</span> <span class="o">=</span> <span class="n">float2</span><span class="p">(</span><span class="n">fbcolsoffset574</span><span class="p">,</span> <span class="n">fbrowsoffset574</span><span class="p">);</span>
<span class="c1">// UV Offset - calculate current tile linear index, and convert it to (X * coloffset, Y * rowoffset)</span>
<span class="c1">// Calculate current tile linear index</span>
<span class="kt">float</span> <span class="n">fbcurrenttileindex574</span> <span class="o">=</span> <span class="n">round</span><span class="p">(</span> <span class="n">fmod</span><span class="p">(</span> <span class="n">fbspeed574</span> <span class="o">+</span> <span class="n">_StartFrame</span><span class="p">,</span> <span class="n">fbtotaltiles574</span><span class="p">)</span> <span class="p">);</span>
<span class="n">fbcurrenttileindex574</span> <span class="o">+=</span> <span class="p">(</span> <span class="n">fbcurrenttileindex574</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">)</span> <span class="o">?</span> <span class="n">fbtotaltiles574</span> <span class="o">:</span> <span class="mi">0</span><span class="p">;</span>
<span class="c1">// Obtain Offset X coordinate from current tile linear index</span>
<span class="kt">float</span> <span class="n">fblinearindextox574</span> <span class="o">=</span> <span class="n">round</span> <span class="p">(</span> <span class="n">fmod</span> <span class="p">(</span> <span class="n">fbcurrenttileindex574</span><span class="p">,</span> <span class="n">_Columns</span> <span class="p">)</span> <span class="p">);</span>
<span class="c1">// Multiply Offset X by coloffset</span>
<span class="kt">float</span> <span class="n">fboffsetx574</span> <span class="o">=</span> <span class="n">fblinearindextox574</span> <span class="o">*</span> <span class="n">fbcolsoffset574</span><span class="p">;</span>
<span class="c1">// Obtain Offset Y coordinate from current tile linear index</span>
<span class="kt">float</span> <span class="n">fblinearindextoy574</span> <span class="o">=</span> <span class="n">round</span><span class="p">(</span> <span class="n">fmod</span><span class="p">(</span> <span class="p">(</span> <span class="n">fbcurrenttileindex574</span> <span class="o">-</span> <span class="n">fblinearindextox574</span> <span class="p">)</span> <span class="o">/</span> <span class="n">_Columns</span><span class="p">,</span> <span class="n">_Rows</span> <span class="p">)</span> <span class="p">);</span>
<span class="c1">// Reverse Y to get tiles from Top to Bottom</span>
<span class="n">fblinearindextoy574</span> <span class="o">=</span> <span class="p">(</span><span class="kt">int</span><span class="p">)(</span><span class="n">_Rows</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="o">-</span> <span class="n">fblinearindextoy574</span><span class="p">;</span>
<span class="c1">// Multiply Offset Y by rowoffset</span>
<span class="kt">float</span> <span class="n">fboffsety574</span> <span class="o">=</span> <span class="n">fblinearindextoy574</span> <span class="o">*</span> <span class="n">fbrowsoffset574</span><span class="p">;</span>
<span class="c1">// UV Offset</span>
<span class="n">float2</span> <span class="n">fboffset574</span> <span class="o">=</span> <span class="n">float2</span><span class="p">(</span><span class="n">fboffsetx574</span><span class="p">,</span> <span class="n">fboffsety574</span><span class="p">);</span>
<span class="c1">// Flipbook UV</span>
<span class="n">half2</span> <span class="n">fbuv574</span> <span class="o">=</span> <span class="n">uv0_Texture0</span> <span class="o">*</span> <span class="n">fbtiling574</span> <span class="o">+</span> <span class="n">fboffset574</span><span class="p">;</span>
<span class="c1">// *** END Flipbook UV Animation vars ***</span>


<span class="n">finalColor</span> <span class="o">=</span> <span class="n">tex2D</span><span class="p">(</span> <span class="n">_Texture0</span><span class="p">,</span> <span class="n">fbuv574</span> <span class="p">);</span>
</code></pre></div></div>

<h3 id="parallax-mapping-视差映射">Parallax Mapping: 视差映射</h3>

<p>视差贴图（也称为偏移贴图或虚拟位移贴图）是对应用于纹理的凹凸贴图或法线贴图技术的增强。视差贴图是通过切线空间中的视角（相对于表面法线的角度）和该点处的高度图的值的函数来替换渲染多边形上某个点的纹理坐标来实现的。在较陡的视角下，纹理坐标的位移更大，由于视线变化而产生的视差效应会给人以深度错觉。[<a href="https://en.wikipedia.org/wiki/Parallax_mapping">参考</a> ]</p>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/image-20200615114951454.png" alt="image-20200615114951454" /></p>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="n">fixed4</span> <span class="n">finalColor</span><span class="p">;</span>
<span class="n">float2</span> <span class="n">uv0_Texture0</span> <span class="o">=</span> <span class="n">i</span><span class="p">.</span><span class="n">ase_texcoord</span><span class="p">.</span><span class="n">xy</span> <span class="o">*</span> <span class="n">_Texture0_ST</span><span class="p">.</span><span class="n">xy</span> <span class="o">+</span> <span class="n">_Texture0_ST</span><span class="p">.</span><span class="n">zw</span><span class="p">;</span>
<span class="n">float3</span> <span class="n">ase_worldPos</span> <span class="o">=</span> <span class="n">i</span><span class="p">.</span><span class="n">ase_texcoord1</span><span class="p">.</span><span class="n">xyz</span><span class="p">;</span>
<span class="n">float3</span> <span class="n">ase_worldViewDir</span> <span class="o">=</span> <span class="n">UnityWorldSpaceViewDir</span><span class="p">(</span><span class="n">ase_worldPos</span><span class="p">);</span>
<span class="n">ase_worldViewDir</span> <span class="o">=</span> <span class="n">normalize</span><span class="p">(</span><span class="n">ase_worldViewDir</span><span class="p">);</span>
<span class="n">float2</span> <span class="n">Offset579</span> <span class="o">=</span> <span class="p">(</span> <span class="p">(</span> <span class="n">_Height</span> <span class="o">-</span> <span class="mi">1</span> <span class="p">)</span> <span class="o">*</span> <span class="n">ase_worldViewDir</span><span class="p">.</span><span class="n">xy</span> <span class="o">*</span> <span class="n">_Scale</span> <span class="p">)</span> <span class="o">+</span> <span class="n">uv0_Texture0</span><span class="p">;</span>


<span class="n">finalColor</span> <span class="o">=</span> <span class="n">tex2D</span><span class="p">(</span> <span class="n">_Texture0</span><span class="p">,</span> <span class="n">Offset579</span> <span class="p">);</span>
</code></pre></div></div>

<h3 id="parallax-occlusion-mapping-视差遮挡贴图">Parallax Occlusion Mapping： 视差遮挡贴图</h3>

<p>视差遮挡映射（POM）是对<a href="http://wiki.amplify.pt/index.php?title=Unity_Products:Amplify_Shader_Editor/Parallax_Mapping">视差映射</a>技术的增强。视差遮挡贴图用于通过使用置换贴图（类似于地形图）而不是通过生成新的几何图形来在带纹理的曲面中以程序方式创建3D定义。[<a href="https://en.wikipedia.org/wiki/Parallax_occlusion_mapping">参考</a> ]</p>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
			<span class="kr">inline</span> <span class="n">float2</span> <span class="nf">POM</span><span class="p">(</span> <span class="kt">sampler2D</span> <span class="n">heightMap</span><span class="p">,</span> <span class="n">float2</span> <span class="n">uvs</span><span class="p">,</span> <span class="n">float2</span> <span class="n">dx</span><span class="p">,</span> <span class="n">float2</span> <span class="n">dy</span><span class="p">,</span> <span class="n">float3</span> <span class="n">normalWorld</span><span class="p">,</span> <span class="n">float3</span> <span class="n">viewWorld</span><span class="p">,</span> <span class="n">float3</span> <span class="n">viewDirTan</span><span class="p">,</span> <span class="kt">int</span> <span class="n">minSamples</span><span class="p">,</span> <span class="kt">int</span> <span class="n">maxSamples</span><span class="p">,</span> <span class="kt">float</span> <span class="n">parallax</span><span class="p">,</span> <span class="kt">float</span> <span class="n">refPlane</span><span class="p">,</span> <span class="n">float2</span> <span class="n">tilling</span><span class="p">,</span> <span class="n">float2</span> <span class="n">curv</span><span class="p">,</span> <span class="kt">int</span> <span class="n">index</span> <span class="p">)</span>
			<span class="p">{</span>
				<span class="n">float3</span> <span class="n">result</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
				<span class="kt">int</span> <span class="n">stepIndex</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
				<span class="kt">int</span> <span class="n">numSteps</span> <span class="o">=</span> <span class="p">(</span> <span class="kt">int</span> <span class="p">)</span><span class="n">lerp</span><span class="p">(</span> <span class="p">(</span><span class="kt">float</span><span class="p">)</span><span class="n">maxSamples</span><span class="p">,</span> <span class="p">(</span><span class="kt">float</span><span class="p">)</span><span class="n">minSamples</span><span class="p">,</span> <span class="n">saturate</span><span class="p">(</span> <span class="n">dot</span><span class="p">(</span> <span class="n">normalWorld</span><span class="p">,</span> <span class="n">viewWorld</span> <span class="p">)</span> <span class="p">)</span> <span class="p">);</span>
				<span class="kt">float</span> <span class="n">layerHeight</span> <span class="o">=</span> <span class="mi">1</span><span class="p">.</span><span class="mi">0</span> <span class="o">/</span> <span class="n">numSteps</span><span class="p">;</span>
				<span class="n">float2</span> <span class="n">plane</span> <span class="o">=</span> <span class="n">parallax</span> <span class="o">*</span> <span class="p">(</span> <span class="n">viewDirTan</span><span class="p">.</span><span class="n">xy</span> <span class="o">/</span> <span class="n">viewDirTan</span><span class="p">.</span><span class="n">z</span> <span class="p">);</span>
				<span class="n">uvs</span> <span class="o">+=</span> <span class="n">refPlane</span> <span class="o">*</span> <span class="n">plane</span><span class="p">;</span>
				<span class="n">float2</span> <span class="n">deltaTex</span> <span class="o">=</span> <span class="o">-</span><span class="n">plane</span> <span class="o">*</span> <span class="n">layerHeight</span><span class="p">;</span>
				<span class="n">float2</span> <span class="n">prevTexOffset</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
				<span class="kt">float</span> <span class="n">prevRayZ</span> <span class="o">=</span> <span class="mi">1</span><span class="p">.</span><span class="mi">0</span><span class="n">f</span><span class="p">;</span>
				<span class="kt">float</span> <span class="n">prevHeight</span> <span class="o">=</span> <span class="mi">0</span><span class="p">.</span><span class="mi">0</span><span class="n">f</span><span class="p">;</span>
				<span class="n">float2</span> <span class="n">currTexOffset</span> <span class="o">=</span> <span class="n">deltaTex</span><span class="p">;</span>
				<span class="kt">float</span> <span class="n">currRayZ</span> <span class="o">=</span> <span class="mi">1</span><span class="p">.</span><span class="mi">0</span><span class="n">f</span> <span class="o">-</span> <span class="n">layerHeight</span><span class="p">;</span>
				<span class="kt">float</span> <span class="n">currHeight</span> <span class="o">=</span> <span class="mi">0</span><span class="p">.</span><span class="mi">0</span><span class="n">f</span><span class="p">;</span>
				<span class="kt">float</span> <span class="n">intersection</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
				<span class="n">float2</span> <span class="n">finalTexOffset</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
				<span class="k">while</span> <span class="p">(</span> <span class="n">stepIndex</span> <span class="o">&lt;</span> <span class="n">numSteps</span> <span class="o">+</span> <span class="mi">1</span> <span class="p">)</span>
				<span class="p">{</span>
			<span class="n">currHeight</span> <span class="o">=</span> <span class="n">tex2Dgrad</span><span class="p">(</span> <span class="n">heightMap</span><span class="p">,</span> <span class="n">uvs</span> <span class="o">+</span> <span class="n">currTexOffset</span><span class="p">,</span> <span class="n">dx</span><span class="p">,</span> <span class="n">dy</span> <span class="p">).</span><span class="n">r</span><span class="p">;</span>
			<span class="k">if</span> <span class="p">(</span> <span class="n">currHeight</span> <span class="o">&gt;</span> <span class="n">currRayZ</span> <span class="p">)</span>
			<span class="p">{</span>
				<span class="n">stepIndex</span> <span class="o">=</span> <span class="n">numSteps</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
			<span class="p">}</span>
			<span class="k">else</span>
			<span class="p">{</span>
				<span class="n">stepIndex</span><span class="o">++</span><span class="p">;</span>
				<span class="n">prevTexOffset</span> <span class="o">=</span> <span class="n">currTexOffset</span><span class="p">;</span>
				<span class="n">prevRayZ</span> <span class="o">=</span> <span class="n">currRayZ</span><span class="p">;</span>
				<span class="n">prevHeight</span> <span class="o">=</span> <span class="n">currHeight</span><span class="p">;</span>
				<span class="n">currTexOffset</span> <span class="o">+=</span> <span class="n">deltaTex</span><span class="p">;</span>
				<span class="n">currRayZ</span> <span class="o">-=</span> <span class="n">layerHeight</span><span class="p">;</span>
			<span class="p">}</span>
				<span class="p">}</span>
				<span class="kt">int</span> <span class="n">sectionSteps</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>
				<span class="kt">int</span> <span class="n">sectionIndex</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
				<span class="kt">float</span> <span class="n">newZ</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
				<span class="kt">float</span> <span class="n">newHeight</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
				<span class="k">while</span> <span class="p">(</span> <span class="n">sectionIndex</span> <span class="o">&lt;</span> <span class="n">sectionSteps</span> <span class="p">)</span>
				<span class="p">{</span>
			<span class="n">intersection</span> <span class="o">=</span> <span class="p">(</span> <span class="n">prevHeight</span> <span class="o">-</span> <span class="n">prevRayZ</span> <span class="p">)</span> <span class="o">/</span> <span class="p">(</span> <span class="n">prevHeight</span> <span class="o">-</span> <span class="n">currHeight</span> <span class="o">+</span> <span class="n">currRayZ</span> <span class="o">-</span> <span class="n">prevRayZ</span> <span class="p">);</span>
			<span class="n">finalTexOffset</span> <span class="o">=</span> <span class="n">prevTexOffset</span> <span class="o">+</span> <span class="n">intersection</span> <span class="o">*</span> <span class="n">deltaTex</span><span class="p">;</span>
			<span class="n">newZ</span> <span class="o">=</span> <span class="n">prevRayZ</span> <span class="o">-</span> <span class="n">intersection</span> <span class="o">*</span> <span class="n">layerHeight</span><span class="p">;</span>
			<span class="n">newHeight</span> <span class="o">=</span> <span class="n">tex2Dgrad</span><span class="p">(</span> <span class="n">heightMap</span><span class="p">,</span> <span class="n">uvs</span> <span class="o">+</span> <span class="n">finalTexOffset</span><span class="p">,</span> <span class="n">dx</span><span class="p">,</span> <span class="n">dy</span> <span class="p">).</span><span class="n">r</span><span class="p">;</span>
			<span class="k">if</span> <span class="p">(</span> <span class="n">newHeight</span> <span class="o">&gt;</span> <span class="n">newZ</span> <span class="p">)</span>
			<span class="p">{</span>
				<span class="n">currTexOffset</span> <span class="o">=</span> <span class="n">finalTexOffset</span><span class="p">;</span>
				<span class="n">currHeight</span> <span class="o">=</span> <span class="n">newHeight</span><span class="p">;</span>
				<span class="n">currRayZ</span> <span class="o">=</span> <span class="n">newZ</span><span class="p">;</span>
				<span class="n">deltaTex</span> <span class="o">=</span> <span class="n">intersection</span> <span class="o">*</span> <span class="n">deltaTex</span><span class="p">;</span>
				<span class="n">layerHeight</span> <span class="o">=</span> <span class="n">intersection</span> <span class="o">*</span> <span class="n">layerHeight</span><span class="p">;</span>
			<span class="p">}</span>
			<span class="k">else</span>
			<span class="p">{</span>
				<span class="n">prevTexOffset</span> <span class="o">=</span> <span class="n">finalTexOffset</span><span class="p">;</span>
				<span class="n">prevHeight</span> <span class="o">=</span> <span class="n">newHeight</span><span class="p">;</span>
				<span class="n">prevRayZ</span> <span class="o">=</span> <span class="n">newZ</span><span class="p">;</span>
				<span class="n">deltaTex</span> <span class="o">=</span> <span class="p">(</span> <span class="mi">1</span> <span class="o">-</span> <span class="n">intersection</span> <span class="p">)</span> <span class="o">*</span> <span class="n">deltaTex</span><span class="p">;</span>
				<span class="n">layerHeight</span> <span class="o">=</span> <span class="p">(</span> <span class="mi">1</span> <span class="o">-</span> <span class="n">intersection</span> <span class="p">)</span> <span class="o">*</span> <span class="n">layerHeight</span><span class="p">;</span>
			<span class="p">}</span>
			<span class="n">sectionIndex</span><span class="o">++</span><span class="p">;</span>
				<span class="p">}</span>
				<span class="k">return</span> <span class="n">uvs</span> <span class="o">+</span> <span class="n">finalTexOffset</span><span class="p">;</span>
			<span class="p">}</span>
</code></pre></div></div>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">fixed4</span> <span class="n">finalColor</span><span class="p">;</span>
<span class="n">float2</span> <span class="n">uv0_Texture0</span> <span class="o">=</span> <span class="n">i</span><span class="p">.</span><span class="n">ase_texcoord</span><span class="p">.</span><span class="n">xy</span> <span class="o">*</span> <span class="n">_Texture0_ST</span><span class="p">.</span><span class="n">xy</span> <span class="o">+</span> <span class="n">_Texture0_ST</span><span class="p">.</span><span class="n">zw</span><span class="p">;</span>
<span class="n">float3</span> <span class="n">ase_worldPos</span> <span class="o">=</span> <span class="n">i</span><span class="p">.</span><span class="n">ase_texcoord1</span><span class="p">.</span><span class="n">xyz</span><span class="p">;</span>
<span class="n">float3</span> <span class="n">ase_worldViewDir</span> <span class="o">=</span> <span class="n">UnityWorldSpaceViewDir</span><span class="p">(</span><span class="n">ase_worldPos</span><span class="p">);</span>
<span class="n">ase_worldViewDir</span> <span class="o">=</span> <span class="n">normalize</span><span class="p">(</span><span class="n">ase_worldViewDir</span><span class="p">);</span>
<span class="n">float3</span> <span class="n">ase_worldNormal</span> <span class="o">=</span> <span class="n">i</span><span class="p">.</span><span class="n">ase_texcoord2</span><span class="p">.</span><span class="n">xyz</span><span class="p">;</span>
<span class="n">float2</span> <span class="n">OffsetPOM581</span> <span class="o">=</span> <span class="n">POM</span><span class="p">(</span> <span class="n">_Texture0</span><span class="p">,</span> <span class="n">uv0_Texture0</span><span class="p">,</span> <span class="n">ddx</span><span class="p">(</span><span class="n">uv0_Texture0</span><span class="p">),</span> <span class="n">ddy</span><span class="p">(</span><span class="n">uv0_Texture0</span><span class="p">),</span> <span class="n">ase_worldNormal</span><span class="p">,</span> <span class="n">ase_worldViewDir</span><span class="p">,</span> <span class="n">ase_worldViewDir</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="n">_Scale</span><span class="p">,</span> <span class="n">_RefPlane</span><span class="p">,</span> <span class="n">_Texture0_ST</span><span class="p">.</span><span class="n">xy</span><span class="p">,</span> <span class="n">float2</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span> <span class="mi">0</span> <span class="p">);</span>


<span class="n">finalColor</span> <span class="o">=</span> <span class="n">tex2D</span><span class="p">(</span> <span class="n">_Texture0</span><span class="p">,</span> <span class="n">OffsetPOM581</span> <span class="p">);</span>
</code></pre></div></div>

<h3 id="parallax-offset-视察偏移">Parallax Offset： 视察偏移</h3>

<p>视差偏移节点使用Unity内部的ParallaxOffset函数为视差法线贴图计算UV偏移。此函数实现简化的视差映射技术，该技术会根据<em>切线空间中</em>的当前<a href="http://wiki.amplify.pt/index.php?title=Unity_Products:Amplify_Shader_Editor/View_Dir">View Dir</a>向量以及该点的高度图值使UV坐标变形。在阶梯式视角下，偏移量会更大，并且会发生更多的位移，这使您在观察表面时更具深度感。</p>

<p><strong>注意：</strong>此节点返回偏移值，因此需要将其添加到表面纹理坐标才能正常工作。</p>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/ParallaxOffsetNode.gif" alt="image-20200615114951454" /></p>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/image-20200615122537410.png" alt="image-20200615122537410" /></p>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">Shader</span> <span class="s">"TestNode"</span>
<span class="p">{</span>
	<span class="n">Properties</span>
	<span class="p">{</span>
		<span class="n">_MainTextue</span><span class="p">(</span><span class="s">"MainTextue"</span><span class="p">,</span> <span class="mi">2</span><span class="n">D</span><span class="p">)</span> <span class="o">=</span> <span class="s">"white"</span> <span class="p">{}</span>
		<span class="n">_Height</span><span class="p">(</span><span class="s">"Height"</span><span class="p">,</span> <span class="n">Range</span><span class="p">(</span> <span class="mi">0</span> <span class="p">,</span> <span class="mi">100</span><span class="p">))</span> <span class="o">=</span> <span class="mi">0</span>
		<span class="n">_Heightmap</span><span class="p">(</span><span class="s">"Heightmap"</span><span class="p">,</span> <span class="mi">2</span><span class="n">D</span><span class="p">)</span> <span class="o">=</span> <span class="s">"white"</span> <span class="p">{}</span>
		<span class="n">_Normalmap</span><span class="p">(</span><span class="s">"Normalmap"</span><span class="p">,</span> <span class="mi">2</span><span class="n">D</span><span class="p">)</span> <span class="o">=</span> <span class="s">"bump"</span> <span class="p">{}</span>
		<span class="p">[</span><span class="n">HideInInspector</span><span class="p">]</span> <span class="n">_texcoord</span><span class="p">(</span> <span class="s">""</span><span class="p">,</span> <span class="mi">2</span><span class="n">D</span> <span class="p">)</span> <span class="o">=</span> <span class="s">"white"</span> <span class="p">{}</span>

	<span class="p">}</span>
	
	<span class="n">SubShader</span>
	<span class="p">{</span>
		
		
		<span class="n">Tags</span> <span class="p">{</span> <span class="s">"RenderType"</span><span class="o">=</span><span class="s">"Opaque"</span> <span class="p">}</span>
	<span class="n">LOD</span> <span class="mi">100</span>

		<span class="n">CGINCLUDE</span>
		<span class="cp">#pragma target 3.0
</span>		<span class="n">ENDCG</span>
		<span class="n">Blend</span> <span class="n">Off</span>
		<span class="n">Cull</span> <span class="n">Back</span>
		<span class="n">ColorMask</span> <span class="n">RGBA</span>
		<span class="n">ZWrite</span> <span class="n">On</span>
		<span class="n">ZTest</span> <span class="n">LEqual</span>
		<span class="n">Offset</span> <span class="mi">0</span> <span class="p">,</span> <span class="mi">0</span>
		
		
		
		<span class="n">Pass</span>
		<span class="p">{</span>
			<span class="n">Name</span> <span class="s">"Unlit"</span>
			<span class="n">Tags</span> <span class="p">{</span> <span class="s">"LightMode"</span><span class="o">=</span><span class="s">"ForwardBase"</span>  <span class="p">}</span>
			<span class="n">CGPROGRAM</span>

			

			<span class="cp">#ifndef UNITY_SETUP_STEREO_EYE_INDEX_POST_VERTEX
</span>			<span class="c1">//only defining to not throw compilation error over Unity 5.5</span>
			<span class="cp">#define UNITY_SETUP_STEREO_EYE_INDEX_POST_VERTEX(input)
</span>			<span class="cp">#endif
</span>			<span class="cp">#pragma vertex vert
</span>			<span class="cp">#pragma fragment frag
</span>			<span class="cp">#pragma multi_compile_instancing
</span>			<span class="cp">#include "UnityCG.cginc"
</span>			<span class="cp">#include "Lighting.cginc"
</span>			<span class="cp">#include "AutoLight.cginc"
</span>

			<span class="k">struct</span> <span class="n">appdata</span>
			<span class="p">{</span>
				<span class="n">float4</span> <span class="n">vertex</span> <span class="o">:</span> <span class="n">POSITION</span><span class="p">;</span>
				<span class="n">float4</span> <span class="n">color</span> <span class="o">:</span> <span class="n">COLOR</span><span class="p">;</span>
				<span class="n">UNITY_VERTEX_INPUT_INSTANCE_ID</span>
				<span class="n">float4</span> <span class="n">ase_texcoord</span> <span class="o">:</span> <span class="n">TEXCOORD0</span><span class="p">;</span>
			<span class="p">};</span>
			
			<span class="k">struct</span> <span class="n">v2f</span>
			<span class="p">{</span>
				<span class="n">float4</span> <span class="n">vertex</span> <span class="o">:</span> <span class="n">SV_POSITION</span><span class="p">;</span>
				<span class="n">UNITY_VERTEX_INPUT_INSTANCE_ID</span>
				<span class="n">UNITY_VERTEX_OUTPUT_STEREO</span>
				<span class="n">float4</span> <span class="n">ase_texcoord</span> <span class="o">:</span> <span class="n">TEXCOORD0</span><span class="p">;</span>
				<span class="n">float4</span> <span class="n">ase_texcoord1</span> <span class="o">:</span> <span class="n">TEXCOORD1</span><span class="p">;</span>
			<span class="p">};</span>

			<span class="c1">//This is a late directive</span>
			
			<span class="k">uniform</span> <span class="kt">sampler2D</span> <span class="n">_MainTextue</span><span class="p">;</span>
			<span class="k">uniform</span> <span class="kt">sampler2D</span> <span class="n">_Heightmap</span><span class="p">;</span>
			<span class="k">uniform</span> <span class="n">float4</span> <span class="n">_Heightmap_ST</span><span class="p">;</span>
			<span class="k">uniform</span> <span class="kt">float</span> <span class="n">_Height</span><span class="p">;</span>
			<span class="k">uniform</span> <span class="kt">sampler2D</span> <span class="n">_Normalmap</span><span class="p">;</span>

			
			<span class="n">v2f</span> <span class="n">vert</span> <span class="p">(</span> <span class="n">appdata</span> <span class="n">v</span> <span class="p">)</span>
			<span class="p">{</span>
				<span class="n">v2f</span> <span class="n">o</span><span class="p">;</span>
				<span class="n">UNITY_SETUP_INSTANCE_ID</span><span class="p">(</span><span class="n">v</span><span class="p">);</span>
				<span class="n">UNITY_INITIALIZE_VERTEX_OUTPUT_STEREO</span><span class="p">(</span><span class="n">o</span><span class="p">);</span>
				<span class="n">UNITY_TRANSFER_INSTANCE_ID</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="n">o</span><span class="p">);</span>

				<span class="n">float3</span> <span class="n">ase_worldPos</span> <span class="o">=</span> <span class="n">mul</span><span class="p">(</span><span class="n">unity_ObjectToWorld</span><span class="p">,</span> <span class="n">v</span><span class="p">.</span><span class="n">vertex</span><span class="p">).</span><span class="n">xyz</span><span class="p">;</span>
				<span class="n">o</span><span class="p">.</span><span class="n">ase_texcoord1</span><span class="p">.</span><span class="n">xyz</span> <span class="o">=</span> <span class="n">ase_worldPos</span><span class="p">;</span>
				
				<span class="n">o</span><span class="p">.</span><span class="n">ase_texcoord</span><span class="p">.</span><span class="n">xy</span> <span class="o">=</span> <span class="n">v</span><span class="p">.</span><span class="n">ase_texcoord</span><span class="p">.</span><span class="n">xy</span><span class="p">;</span>
				
				<span class="c1">//setting value to unused interpolator channels and avoid initialization warnings</span>
				<span class="n">o</span><span class="p">.</span><span class="n">ase_texcoord</span><span class="p">.</span><span class="n">zw</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
				<span class="n">o</span><span class="p">.</span><span class="n">ase_texcoord1</span><span class="p">.</span><span class="n">w</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
				<span class="n">float3</span> <span class="n">vertexValue</span> <span class="o">=</span> <span class="n">float3</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
				<span class="cp">#if ASE_ABSOLUTE_VERTEX_POS
</span>				<span class="n">vertexValue</span> <span class="o">=</span> <span class="n">v</span><span class="p">.</span><span class="n">vertex</span><span class="p">.</span><span class="n">xyz</span><span class="p">;</span>
				<span class="cp">#endif
</span>				<span class="n">vertexValue</span> <span class="o">=</span> <span class="n">vertexValue</span><span class="p">;</span>
				<span class="cp">#if ASE_ABSOLUTE_VERTEX_POS
</span>				<span class="n">v</span><span class="p">.</span><span class="n">vertex</span><span class="p">.</span><span class="n">xyz</span> <span class="o">=</span> <span class="n">vertexValue</span><span class="p">;</span>
				<span class="cp">#else
</span>				<span class="n">v</span><span class="p">.</span><span class="n">vertex</span><span class="p">.</span><span class="n">xyz</span> <span class="o">+=</span> <span class="n">vertexValue</span><span class="p">;</span>
				<span class="cp">#endif
</span>				<span class="n">o</span><span class="p">.</span><span class="n">vertex</span> <span class="o">=</span> <span class="n">UnityObjectToClipPos</span><span class="p">(</span><span class="n">v</span><span class="p">.</span><span class="n">vertex</span><span class="p">);</span>
				<span class="k">return</span> <span class="n">o</span><span class="p">;</span>
			<span class="p">}</span>
			
			<span class="n">fixed4</span> <span class="n">frag</span> <span class="p">(</span><span class="n">v2f</span> <span class="n">i</span> <span class="p">)</span> <span class="o">:</span> <span class="n">SV_Target</span>
			<span class="p">{</span>
				<span class="n">UNITY_SETUP_INSTANCE_ID</span><span class="p">(</span><span class="n">i</span><span class="p">);</span>
				<span class="n">UNITY_SETUP_STEREO_EYE_INDEX_POST_VERTEX</span><span class="p">(</span><span class="n">i</span><span class="p">);</span>
				<span class="n">fixed4</span> <span class="n">finalColor</span><span class="p">;</span>
				<span class="n">float2</span> <span class="n">uv_Heightmap</span> <span class="o">=</span> <span class="n">i</span><span class="p">.</span><span class="n">ase_texcoord</span><span class="p">.</span><span class="n">xy</span> <span class="o">*</span> <span class="n">_Heightmap_ST</span><span class="p">.</span><span class="n">xy</span> <span class="o">+</span> <span class="n">_Heightmap_ST</span><span class="p">.</span><span class="n">zw</span><span class="p">;</span>
				<span class="n">float3</span> <span class="n">ase_worldPos</span> <span class="o">=</span> <span class="n">i</span><span class="p">.</span><span class="n">ase_texcoord1</span><span class="p">.</span><span class="n">xyz</span><span class="p">;</span>
				<span class="n">float3</span> <span class="n">ase_worldViewDir</span> <span class="o">=</span> <span class="n">UnityWorldSpaceViewDir</span><span class="p">(</span><span class="n">ase_worldPos</span><span class="p">);</span>
				<span class="n">ase_worldViewDir</span> <span class="o">=</span> <span class="n">normalize</span><span class="p">(</span><span class="n">ase_worldViewDir</span><span class="p">);</span>
				<span class="n">float2</span> <span class="n">paralaxOffset582</span> <span class="o">=</span> <span class="n">ParallaxOffset</span><span class="p">(</span> <span class="n">tex2D</span><span class="p">(</span> <span class="n">_Heightmap</span><span class="p">,</span> <span class="n">uv_Heightmap</span> <span class="p">).</span><span class="n">r</span> <span class="p">,</span> <span class="n">_Height</span> <span class="p">,</span> <span class="n">ase_worldViewDir</span> <span class="p">);</span>
				<span class="n">float2</span> <span class="n">temp_output_585_0</span> <span class="o">=</span> <span class="p">(</span> <span class="n">i</span><span class="p">.</span><span class="n">ase_texcoord</span><span class="p">.</span><span class="n">xy</span> <span class="o">+</span> <span class="n">paralaxOffset582</span> <span class="p">);</span>
				<span class="n">float3</span> <span class="n">worldSpaceLightDir</span> <span class="o">=</span> <span class="n">UnityWorldSpaceLightDir</span><span class="p">(</span><span class="n">ase_worldPos</span><span class="p">);</span>
				<span class="kt">float</span> <span class="n">dotResult587</span> <span class="o">=</span> <span class="n">dot</span><span class="p">(</span> <span class="n">worldSpaceLightDir</span> <span class="p">,</span> <span class="n">UnpackNormal</span><span class="p">(</span> <span class="n">tex2D</span><span class="p">(</span> <span class="n">_Normalmap</span><span class="p">,</span> <span class="n">temp_output_585_0</span> <span class="p">)</span> <span class="p">)</span> <span class="p">);</span>
				
				
				<span class="n">finalColor</span> <span class="o">=</span> <span class="p">(</span> <span class="n">tex2D</span><span class="p">(</span> <span class="n">_MainTextue</span><span class="p">,</span> <span class="n">temp_output_585_0</span> <span class="p">)</span> <span class="o">*</span> <span class="n">dotResult587</span> <span class="p">);</span>
				<span class="k">return</span> <span class="n">finalColor</span><span class="p">;</span>
			<span class="p">}</span>
			<span class="n">ENDCG</span>
		<span class="p">}</span>
	<span class="p">}</span>
	<span class="n">CustomEditor</span> <span class="s">"ASEMaterialInspector"</span>
	
	
<span class="p">}</span>
</code></pre></div></div>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Calculates UV offset for parallax bump mapping</span>
<span class="kr">inline</span> <span class="n">float2</span> <span class="nf">ParallaxOffset</span><span class="p">(</span> <span class="kr">half</span> <span class="n">h</span><span class="p">,</span> <span class="kr">half</span> <span class="n">height</span><span class="p">,</span> <span class="n">half3</span> <span class="n">viewDir</span> <span class="p">)</span>
<span class="p">{</span>
    <span class="n">h</span> <span class="o">=</span> <span class="n">h</span> <span class="o">*</span> <span class="n">height</span> <span class="o">-</span> <span class="n">height</span><span class="o">/</span><span class="mi">2</span><span class="p">.</span><span class="mi">0</span><span class="p">;</span>
    <span class="n">float3</span> <span class="n">v</span> <span class="o">=</span> <span class="n">normalize</span><span class="p">(</span><span class="n">viewDir</span><span class="p">);</span>
    <span class="n">v</span><span class="p">.</span><span class="n">z</span> <span class="o">+=</span> <span class="mi">0</span><span class="p">.</span><span class="mi">42</span><span class="p">;</span>
    <span class="k">return</span> <span class="n">h</span> <span class="o">*</span> <span class="p">(</span><span class="n">v</span><span class="p">.</span><span class="n">xy</span> <span class="o">/</span> <span class="n">v</span><span class="p">.</span><span class="n">z</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div>

<h1 id="logical-operators-逻辑操作">Logical Operators: 逻辑操作</h1>

<h3 id="compare-ab--比较-ab">Compare (A&lt;B) : 比较 A&lt;B</h3>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/image-20200615142612586.png" alt="image-20200615142612586" /></p>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">(</span> <span class="n">_A</span> <span class="o">&lt;</span> <span class="n">_B</span> <span class="p">)</span> <span class="o">?</span> <span class="n">_Value_True</span> <span class="o">:</span>  <span class="n">_Value_False</span> 
</code></pre></div></div>

<h3 id="compare-ab--比较-ab-1">Compare (A==B) : 比较 A==B</h3>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/image-20200615142738090.png" alt="image-20200615142738090" /></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>( _A == _B ) ? _Value_True :  _Value_False 
</code></pre></div></div>

<h3 id="compare-ab--比较-ab-2">Compare (A&gt;B) : 比较 A&gt;B</h3>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/image-20200615143006242.png" alt="image-20200615143006242" /></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>( _A &gt; _B ) ? _Value_True :  _Value_False 
</code></pre></div></div>

<h3 id="compare-ab--比较-ab-3">Compare (A&gt;B) : 比较 A&gt;B</h3>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/image-20200615143006242.png" alt="image-20200615143006242" /></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>( _A &gt; _B ) ? _Value_True :  _Value_False 
</code></pre></div></div>

<h3 id="compare-a-b--比较-ab">Compare (A ≠B) : 比较 A!=B</h3>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>( _A != _B ) ? _Value_True :  _Value_False 
</code></pre></div></div>

<h3 id="compare-ab--比较-ab-4">Compare (A&lt;=B) : 比较 A&lt;=B</h3>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>( _A &lt;= _B ) ? _Value_True :  _Value_False 
</code></pre></div></div>

<h3 id="compare-ab--比较-ab-5">Compare (A&gt;=B) : 比较 A&gt;=B</h3>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>( _A &gt;= _B ) ? _Value_True :  _Value_False 
</code></pre></div></div>

<h3 id="compare-with-range-比较范围">Compare With Range: 比较范围</h3>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">(</span> <span class="n">_Val</span> <span class="o">&gt;=</span> <span class="n">_Min</span> <span class="o">&amp;&amp;</span> <span class="n">_Val</span> <span class="o">&lt;=</span> <span class="n">_Max</span> <span class="p">)</span> <span class="o">?</span> <span class="n">_Value_True</span> <span class="o">:</span>  <span class="n">_Value_False</span> 
</code></pre></div></div>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/image-20200615143700242.png" alt="image-20200615143700242" /></p>

<h3 id="debug-switch-调试选择使用某个输入参数">Debug Switch: 调试，选择使用某个输入参数</h3>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/image-20200615145338303.png" alt="image-20200615145338303" /></p>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/image-20200615145354280.png" alt="image-20200615145354280" /></p>

<h3 id="if-条件">if: 条件</h3>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">if</span><span class="p">(</span> <span class="n">uv0170</span><span class="p">.</span><span class="n">x</span> <span class="o">&gt;</span> <span class="n">_Side</span> <span class="p">)</span>
<span class="n">ifLocalVar172</span> <span class="o">=</span> <span class="n">uv0170</span><span class="p">.</span><span class="n">x</span><span class="p">;</span>
</code></pre></div></div>

<p><img src="docimage/image-20200531010842524.png" alt="image-20200531010842524" /></p>

<p><img src="docimage/image-20200531010619605.png" alt="image-20200531010619605" /></p>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/IfNode.jpg" alt="img" /></p>

<h3 id="ifcommunity-在if的基础上多了一个范围">if[Community]: 在if的基础上==多了一个范围</h3>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/image-20200615151657676.png" alt="image-20200615151657676" /></p>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">float</span> <span class="n">a</span> <span class="o">=</span> <span class="n">i</span><span class="p">.</span><span class="n">ase_texcoord</span><span class="p">.</span><span class="n">xyz</span><span class="p">.</span><span class="n">x</span><span class="p">;</span>
<span class="kt">float</span> <span class="n">v</span> <span class="o">=</span> <span class="n">a</span> <span class="o">-</span> <span class="n">_ValEqualThreshold</span> <span class="o">&gt;</span> <span class="n">_b</span>
    <span class="o">?</span> <span class="n">_ValThen</span>
    <span class="o">:</span> <span class="n">a</span> <span class="o">-</span> <span class="n">_ValEqualThreshold</span> <span class="o">&lt;=</span> <span class="n">_b</span> <span class="o">&amp;&amp;</span> <span class="n">a</span> <span class="o">+</span> <span class="n">_ValEqualThreshold</span> <span class="o">&gt;=</span> <span class="n">_b</span>
        <span class="o">?</span> <span class="n">_ValEque</span> 
        <span class="o">:</span> <span class="n">_ValLower</span><span class="p">;</span>
</code></pre></div></div>

<h3 id="material-quality-材质球质量">Material Quality: 材质球质量</h3>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/image-20200615152356827.png" alt="image-20200615152356827" /></p>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">float</span> <span class="n">currQuality617</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="cp">#if defined(MATERIAL_QUALITY_HIGH)
</span>	<span class="n">currQuality617</span> <span class="o">=</span> <span class="mi">0</span><span class="p">.</span><span class="mi">0</span><span class="p">;</span>
<span class="cp">#elif defined(MATERIAL_QUALITY_MEDIUM)
</span>
<span class="cp">#else
</span>
<span class="cp">#endif
</span></code></pre></div></div>

<h3 id="static-switch--宏条件定义变量">Static Switch:  宏条件定义变量</h3>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#ifdef _KEYWORD0_ON
</span>	<span class="kt">float</span> <span class="n">staticSwitch619</span> <span class="o">=</span> <span class="n">_ValTrue</span><span class="p">;</span>
<span class="cp">#else
</span>	<span class="kt">float</span> <span class="n">staticSwitch619</span> <span class="o">=</span> <span class="n">_ValFalse</span><span class="p">;</span>
<span class="cp">#endif
</span></code></pre></div></div>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/image-20200615152808294.png" alt="image-20200615152808294" /></p>

<h3 id="template-multi-pass-switch-设置不同pass参数">Template Multi-Pass Switch： 设置不同Pass参数</h3>

<p>模板多通道交换节点在编译时根据当前分析的子着色器/通道中继正确的输入端口。</p>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/image-20200615153202691.png" alt="image-20200615153202691" /></p>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/image-20200615153350484.png" alt="image-20200615153350484" /></p>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">Shader</span> <span class="s">"TestNode"</span>
<span class="p">{</span>
	<span class="n">Properties</span>
	<span class="p">{</span>
		<span class="n">_ValuePass1</span><span class="p">(</span><span class="s">"ValuePass1"</span><span class="p">,</span> <span class="n">Range</span><span class="p">(</span> <span class="mi">0</span> <span class="p">,</span> <span class="mi">1</span><span class="p">))</span> <span class="o">=</span> <span class="mi">0</span>
		<span class="n">_ValuePass2</span><span class="p">(</span><span class="s">"ValuePass2"</span><span class="p">,</span> <span class="n">Range</span><span class="p">(</span> <span class="mi">0</span> <span class="p">,</span> <span class="mi">1</span><span class="p">))</span> <span class="o">=</span> <span class="mi">1</span>

	<span class="p">}</span>
	
	<span class="n">SubShader</span>
	<span class="p">{</span>
		<span class="n">LOD</span> <span class="mi">0</span>

		<span class="n">Tags</span> <span class="p">{</span> <span class="s">"RenderType"</span><span class="o">=</span><span class="s">"Opaque"</span> <span class="p">}</span>
		
		<span class="n">Pass</span>
		<span class="p">{</span>
			
			<span class="n">Name</span> <span class="s">"First"</span>
			<span class="n">CGINCLUDE</span>
			<span class="cp">#pragma target 3.0
</span>			<span class="n">ENDCG</span>
			<span class="n">Blend</span> <span class="n">Off</span>
			<span class="n">Cull</span> <span class="n">Back</span>
			<span class="n">ColorMask</span> <span class="n">RGBA</span>
			<span class="n">ZWrite</span> <span class="n">On</span>
			<span class="n">ZTest</span> <span class="n">LEqual</span>
			<span class="n">Offset</span> <span class="mi">0</span> <span class="p">,</span> <span class="mi">0</span>
			
			<span class="n">CGPROGRAM</span>
			
			<span class="cp">#pragma vertex vert
</span>			<span class="cp">#pragma fragment frag
</span>			<span class="cp">#include "UnityCG.cginc"
</span>			

			<span class="k">struct</span> <span class="n">appdata</span>
			<span class="p">{</span>
				<span class="n">float4</span> <span class="n">vertex</span> <span class="o">:</span> <span class="n">POSITION</span><span class="p">;</span>
				<span class="n">UNITY_VERTEX_INPUT_INSTANCE_ID</span>
				
			<span class="p">};</span>
			
			<span class="k">struct</span> <span class="n">v2f</span>
			<span class="p">{</span>
				<span class="n">float4</span> <span class="n">vertex</span> <span class="o">:</span> <span class="n">SV_POSITION</span><span class="p">;</span>
				<span class="n">UNITY_VERTEX_OUTPUT_STEREO</span>
				
			<span class="p">};</span>

			<span class="k">uniform</span> <span class="kt">float</span> <span class="n">_ValuePass1</span><span class="p">;</span>

			
			<span class="n">v2f</span> <span class="n">vert</span> <span class="p">(</span> <span class="n">appdata</span> <span class="n">v</span> <span class="p">)</span>
			<span class="p">{</span>
				<span class="n">v2f</span> <span class="n">o</span><span class="p">;</span>
				<span class="n">UNITY_SETUP_INSTANCE_ID</span><span class="p">(</span><span class="n">v</span><span class="p">);</span>
				<span class="n">UNITY_INITIALIZE_VERTEX_OUTPUT_STEREO</span><span class="p">(</span><span class="n">o</span><span class="p">);</span>
				
				
				<span class="n">v</span><span class="p">.</span><span class="n">vertex</span><span class="p">.</span><span class="n">xyz</span> <span class="o">+=</span>  <span class="n">float3</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span> <span class="p">;</span>
				<span class="n">o</span><span class="p">.</span><span class="n">vertex</span> <span class="o">=</span> <span class="n">UnityObjectToClipPos</span><span class="p">(</span><span class="n">v</span><span class="p">.</span><span class="n">vertex</span><span class="p">);</span>
				<span class="k">return</span> <span class="n">o</span><span class="p">;</span>
			<span class="p">}</span>
			
			<span class="n">fixed4</span> <span class="n">frag</span> <span class="p">(</span><span class="n">v2f</span> <span class="n">i</span> <span class="p">)</span> <span class="o">:</span> <span class="n">SV_Target</span>
			<span class="p">{</span>
				<span class="n">fixed4</span> <span class="n">finalColor</span><span class="p">;</span>
				<span class="n">float4</span> <span class="n">temp_cast_0</span> <span class="o">=</span> <span class="p">(</span><span class="n">_ValuePass1</span><span class="p">).</span><span class="n">xxxx</span><span class="p">;</span>
				
				
				<span class="n">finalColor</span> <span class="o">=</span> <span class="n">temp_cast_0</span><span class="p">;</span>
				<span class="k">return</span> <span class="n">finalColor</span><span class="p">;</span>
			<span class="p">}</span>
			<span class="n">ENDCG</span>
		<span class="p">}</span>

		
		<span class="n">Pass</span>
		<span class="p">{</span>
			<span class="n">Name</span> <span class="s">"Second"</span>
			
			<span class="n">CGINCLUDE</span>
			<span class="cp">#pragma target 3.0
</span>			<span class="n">ENDCG</span>
			<span class="n">Blend</span> <span class="n">Off</span>
			<span class="n">Cull</span> <span class="n">Back</span>
			<span class="n">ColorMask</span> <span class="n">RGBA</span>
			<span class="n">ZWrite</span> <span class="n">On</span>
			<span class="n">ZTest</span> <span class="n">LEqual</span>
			<span class="n">Offset</span> <span class="mi">0</span> <span class="p">,</span> <span class="mi">0</span>
			
			<span class="n">CGPROGRAM</span>
			
			<span class="cp">#pragma vertex vert
</span>			<span class="cp">#pragma fragment frag
</span>			<span class="cp">#include "UnityCG.cginc"
</span>			

			<span class="k">struct</span> <span class="n">appdata</span>
			<span class="p">{</span>
				<span class="n">float4</span> <span class="n">vertex</span> <span class="o">:</span> <span class="n">POSITION</span><span class="p">;</span>
				<span class="n">UNITY_VERTEX_INPUT_INSTANCE_ID</span>
				
			<span class="p">};</span>
			
			<span class="k">struct</span> <span class="n">v2f</span>
			<span class="p">{</span>
				<span class="n">float4</span> <span class="n">vertex</span> <span class="o">:</span> <span class="n">SV_POSITION</span><span class="p">;</span>
				<span class="n">UNITY_VERTEX_OUTPUT_STEREO</span>
				
			<span class="p">};</span>

			<span class="k">uniform</span> <span class="kt">float</span> <span class="n">_ValuePass2</span><span class="p">;</span>

			
			<span class="n">v2f</span> <span class="n">vert</span> <span class="p">(</span> <span class="n">appdata</span> <span class="n">v</span> <span class="p">)</span>
			<span class="p">{</span>
				<span class="n">v2f</span> <span class="n">o</span><span class="p">;</span>
				<span class="n">UNITY_SETUP_INSTANCE_ID</span><span class="p">(</span><span class="n">v</span><span class="p">);</span>
				<span class="n">UNITY_INITIALIZE_VERTEX_OUTPUT_STEREO</span><span class="p">(</span><span class="n">o</span><span class="p">);</span>
				
				
				<span class="n">v</span><span class="p">.</span><span class="n">vertex</span><span class="p">.</span><span class="n">xyz</span> <span class="o">+=</span>  <span class="n">float3</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span> <span class="p">;</span>
				<span class="n">o</span><span class="p">.</span><span class="n">vertex</span> <span class="o">=</span> <span class="n">UnityObjectToClipPos</span><span class="p">(</span><span class="n">v</span><span class="p">.</span><span class="n">vertex</span><span class="p">);</span>
				<span class="k">return</span> <span class="n">o</span><span class="p">;</span>
			<span class="p">}</span>
			
			<span class="n">fixed4</span> <span class="n">frag</span> <span class="p">(</span><span class="n">v2f</span> <span class="n">i</span> <span class="p">)</span> <span class="o">:</span> <span class="n">SV_Target</span>
			<span class="p">{</span>
				<span class="n">fixed4</span> <span class="n">finalColor</span><span class="p">;</span>
				<span class="n">float4</span> <span class="n">temp_cast_0</span> <span class="o">=</span> <span class="p">(</span><span class="n">_ValuePass2</span><span class="p">).</span><span class="n">xxxx</span><span class="p">;</span>
				
				
				<span class="n">finalColor</span> <span class="o">=</span> <span class="n">temp_cast_0</span><span class="p">;</span>
				<span class="k">return</span> <span class="n">finalColor</span><span class="p">;</span>
			<span class="p">}</span>
			<span class="n">ENDCG</span>
		<span class="p">}</span>
	<span class="p">}</span>
	<span class="n">CustomEditor</span> <span class="s">"ASEMaterialInspector"</span>
	
	
<span class="p">}</span>
</code></pre></div></div>

<h3 id="toggle-switch0-2个值直接切换开关">Toggle Switch0: 2个值直接切换开关</h3>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/image-20200615153627934.png" alt="image-20200615153627934" /></p>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
	<span class="n">Properties</span>
	<span class="p">{</span>
		<span class="p">[</span><span class="n">Toggle</span><span class="p">]</span><span class="n">_ToggleSwitch0</span><span class="p">(</span><span class="s">"Toggle Switch0"</span><span class="p">,</span> <span class="n">Float</span><span class="p">)</span> <span class="o">=</span> <span class="mi">1</span>
		<span class="n">_In0</span><span class="p">(</span><span class="s">"In0"</span><span class="p">,</span> <span class="n">Float</span><span class="p">)</span> <span class="o">=</span> <span class="mi">0</span>
		<span class="n">_In1</span><span class="p">(</span><span class="s">"In1"</span><span class="p">,</span> <span class="n">Float</span><span class="p">)</span> <span class="o">=</span> <span class="mi">1</span>

	<span class="p">}</span>
	
	 <span class="n">_ToggleSwitch0</span> <span class="o">?</span> <span class="n">_In1</span> <span class="o">:</span> <span class="n">_In0</span><span class="p">;</span>
</code></pre></div></div>

<h1 id="matrix-operators-矩阵操作">Matrix Operators: 矩阵操作</h1>

<h3 id="determinant-行列式">Determinant: 行列式</h3>

<p>行列式节点从其<a href="http://wiki.amplify.pt/index.php?title=Unity_Products:Amplify_Shader_Editor/Determinant#paramInput">Input</a>上指定的矩阵计算行列式浮点值。除其他事项外，该值确定此特定矩阵是否具有逆（如果&gt; 0）并用于其计算。
<strong>注意：</strong>由于所有Amplify Shader Editor矩阵只能是3x3或4x4平方矩阵，因此必须从所有矩阵中计算行列式。</p>

<table>
  <tbody>
    <tr>
      <td>一个n×n的<a href="https://baike.baidu.com/item/方阵/7362108">方阵</a>A的行列式记为det(<strong>A</strong>)或者</td>
      <td><strong>A</strong></td>
      <td>，一个2×2矩阵的行列式可表示如下：</td>
    </tr>
  </tbody>
</table>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/8afc39414bdc8fe8681a06ee04803c05.svg" alt="img" /></p>

<p>把一个n阶行列式中的元素aij所在的第i行和第j列划去后，留下来的n-1阶行列式叫做元素aij的余子式,记作Mij。记<strong>A</strong>ij=(-1)i+j<strong>M</strong>ij，叫做元素aij的<strong>代数余子式</strong>。例如：</p>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/c9760a1280796b146e3f9c965b0210e9.svg" alt="img" /></p>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/9632ed54692be85c1edd7c13a201bc08.svg" alt="img" /></p>

<p>一个n×n矩阵的行列式等于其任意行(或列)的元素与对应的代数余子式乘积之和，即 [1] :</p>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/8182ba4de953584aa4e1924ebd4b8a3b.svg" alt="img" /></p>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">float</span> <span class="n">v</span> <span class="o">=</span> <span class="n">determinant</span><span class="p">(</span> <span class="n">UNITY_MATRIX_V</span> <span class="p">)</span>
</code></pre></div></div>

<h3 id="inverse-逆矩阵">Inverse: 逆矩阵</h3>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
			<span class="n">float4x4</span> <span class="nf">Inverse4x4</span><span class="p">(</span><span class="n">float4x4</span> <span class="kr">input</span><span class="p">)</span>
			<span class="p">{</span>
				<span class="cp">#define minor(a,b,c) determinant(float3x3(input.a, input.b, input.c))
</span>				<span class="n">float4x4</span> <span class="n">cofactors</span> <span class="o">=</span> <span class="n">float4x4</span><span class="p">(</span>
				<span class="n">minor</span><span class="p">(</span> <span class="n">_22_23_24</span><span class="p">,</span> <span class="n">_32_33_34</span><span class="p">,</span> <span class="n">_42_43_44</span> <span class="p">),</span>
				<span class="o">-</span><span class="n">minor</span><span class="p">(</span> <span class="n">_21_23_24</span><span class="p">,</span> <span class="n">_31_33_34</span><span class="p">,</span> <span class="n">_41_43_44</span> <span class="p">),</span>
				<span class="n">minor</span><span class="p">(</span> <span class="n">_21_22_24</span><span class="p">,</span> <span class="n">_31_32_34</span><span class="p">,</span> <span class="n">_41_42_44</span> <span class="p">),</span>
				<span class="o">-</span><span class="n">minor</span><span class="p">(</span> <span class="n">_21_22_23</span><span class="p">,</span> <span class="n">_31_32_33</span><span class="p">,</span> <span class="n">_41_42_43</span> <span class="p">),</span>
			
				<span class="o">-</span><span class="n">minor</span><span class="p">(</span> <span class="n">_12_13_14</span><span class="p">,</span> <span class="n">_32_33_34</span><span class="p">,</span> <span class="n">_42_43_44</span> <span class="p">),</span>
				<span class="n">minor</span><span class="p">(</span> <span class="n">_11_13_14</span><span class="p">,</span> <span class="n">_31_33_34</span><span class="p">,</span> <span class="n">_41_43_44</span> <span class="p">),</span>
				<span class="o">-</span><span class="n">minor</span><span class="p">(</span> <span class="n">_11_12_14</span><span class="p">,</span> <span class="n">_31_32_34</span><span class="p">,</span> <span class="n">_41_42_44</span> <span class="p">),</span>
				<span class="n">minor</span><span class="p">(</span> <span class="n">_11_12_13</span><span class="p">,</span> <span class="n">_31_32_33</span><span class="p">,</span> <span class="n">_41_42_43</span> <span class="p">),</span>
			
				<span class="n">minor</span><span class="p">(</span> <span class="n">_12_13_14</span><span class="p">,</span> <span class="n">_22_23_24</span><span class="p">,</span> <span class="n">_42_43_44</span> <span class="p">),</span>
				<span class="o">-</span><span class="n">minor</span><span class="p">(</span> <span class="n">_11_13_14</span><span class="p">,</span> <span class="n">_21_23_24</span><span class="p">,</span> <span class="n">_41_43_44</span> <span class="p">),</span>
				<span class="n">minor</span><span class="p">(</span> <span class="n">_11_12_14</span><span class="p">,</span> <span class="n">_21_22_24</span><span class="p">,</span> <span class="n">_41_42_44</span> <span class="p">),</span>
				<span class="o">-</span><span class="n">minor</span><span class="p">(</span> <span class="n">_11_12_13</span><span class="p">,</span> <span class="n">_21_22_23</span><span class="p">,</span> <span class="n">_41_42_43</span> <span class="p">),</span>
			
				<span class="o">-</span><span class="n">minor</span><span class="p">(</span> <span class="n">_12_13_14</span><span class="p">,</span> <span class="n">_22_23_24</span><span class="p">,</span> <span class="n">_32_33_34</span> <span class="p">),</span>
				<span class="n">minor</span><span class="p">(</span> <span class="n">_11_13_14</span><span class="p">,</span> <span class="n">_21_23_24</span><span class="p">,</span> <span class="n">_31_33_34</span> <span class="p">),</span>
				<span class="o">-</span><span class="n">minor</span><span class="p">(</span> <span class="n">_11_12_14</span><span class="p">,</span> <span class="n">_21_22_24</span><span class="p">,</span> <span class="n">_31_32_34</span> <span class="p">),</span>
				<span class="n">minor</span><span class="p">(</span> <span class="n">_11_12_13</span><span class="p">,</span> <span class="n">_21_22_23</span><span class="p">,</span> <span class="n">_31_32_33</span> <span class="p">));</span>
				<span class="cp">#undef minor
</span>				<span class="k">return</span> <span class="n">transpose</span><span class="p">(</span> <span class="n">cofactors</span> <span class="p">)</span> <span class="o">/</span> <span class="n">determinant</span><span class="p">(</span> <span class="kr">input</span> <span class="p">);</span>
			<span class="p">}</span>
</code></pre></div></div>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
			<span class="n">float3x3</span> <span class="nf">Inverse3x3</span><span class="p">(</span><span class="n">float3x3</span> <span class="kr">input</span><span class="p">)</span>
			<span class="p">{</span>
				<span class="n">float3</span> <span class="n">a</span> <span class="o">=</span> <span class="kr">input</span><span class="p">.</span><span class="n">_11_21_31</span><span class="p">;</span>
				<span class="n">float3</span> <span class="n">b</span> <span class="o">=</span> <span class="kr">input</span><span class="p">.</span><span class="n">_12_22_32</span><span class="p">;</span>
				<span class="n">float3</span> <span class="n">c</span> <span class="o">=</span> <span class="kr">input</span><span class="p">.</span><span class="n">_13_23_33</span><span class="p">;</span>
				<span class="k">return</span> <span class="n">float3x3</span><span class="p">(</span><span class="n">cross</span><span class="p">(</span><span class="n">b</span><span class="p">,</span><span class="n">c</span><span class="p">),</span> <span class="n">cross</span><span class="p">(</span><span class="n">c</span><span class="p">,</span><span class="n">a</span><span class="p">),</span> <span class="n">cross</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">))</span> <span class="o">*</span> <span class="p">(</span><span class="mi">1</span><span class="p">.</span><span class="mi">0</span> <span class="o">/</span> <span class="n">dot</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">cross</span><span class="p">(</span><span class="n">b</span><span class="p">,</span><span class="n">c</span><span class="p">)));</span>
			<span class="p">}</span>
</code></pre></div></div>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/image-20200615155907317.png" alt="image-20200615155907317" /></p>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">float4x4</span> <span class="n">invertVa</span> <span class="o">=</span> <span class="n">Inverse4x4</span><span class="p">(</span> <span class="n">UNITY_MATRIX_V</span> <span class="p">);</span>
</code></pre></div></div>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/cfadcdd96975f2c4e7e7daf68f0148fe1f4206d7.jpg" alt="img" /></p>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/059057299a883913fd9b6f5b26bcbe2f46707cd7.jpg" alt="img" /></p>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/031231632385e036d5efc45db8e039723c035ad7.jpg" alt="img" /></p>

<h3 id="matrix-from-vectors-由多个向量组成矩阵">Matrix From Vectors: 由多个向量组成矩阵</h3>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">Properties</span>
<span class="p">{</span>
    <span class="n">_v1</span><span class="p">(</span><span class="s">"v1"</span><span class="p">,</span> <span class="n">Vector</span><span class="p">)</span> <span class="o">=</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
    <span class="n">_v2</span><span class="p">(</span><span class="s">"v2"</span><span class="p">,</span> <span class="n">Vector</span><span class="p">)</span> <span class="o">=</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
    <span class="n">_v3</span><span class="p">(</span><span class="s">"v3"</span><span class="p">,</span> <span class="n">Vector</span><span class="p">)</span> <span class="o">=</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>

<span class="p">}</span>
	
<span class="n">float3x3</span><span class="p">(</span><span class="n">_v1</span><span class="p">,</span> <span class="n">_v2</span><span class="p">,</span> <span class="n">_v3</span><span class="p">)</span>
</code></pre></div></div>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/MatrixFromVectorsNode.jpg" alt="img" /></p>

<h3 id="position-from-transform-读取矩阵的位置">Position From Transform： 读取矩阵的位置</h3>

<p>Position From Transform节点从其<a href="http://wiki.amplify.pt/index.php?title=Unity_Products:Amplify_Shader_Editor/Position_From_Transform#paramInput"><em>Input</em></a>上有效对应于其第四列的4x4变换矩阵中检索位置矢量。</p>

<p>​</p>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">float4</span> <span class="n">matrixToPos654</span> <span class="o">=</span> <span class="n">float4</span><span class="p">(</span> <span class="n">UNITY_MATRIX_M</span><span class="p">[</span><span class="mi">3</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span><span class="n">UNITY_MATRIX_M</span><span class="p">[</span><span class="mi">3</span><span class="p">][</span><span class="mi">1</span><span class="p">],</span><span class="n">UNITY_MATRIX_M</span><span class="p">[</span><span class="mi">3</span><span class="p">][</span><span class="mi">2</span><span class="p">],</span><span class="n">UNITY_MATRIX_M</span><span class="p">[</span><span class="mi">3</span><span class="p">][</span><span class="mi">3</span><span class="p">]);</span>
</code></pre></div></div>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/image-20200615162356240.png" alt="image-20200615162356240" /></p>

<h3 id="transpose-转置">Transpose: 转置</h3>

<p>“转置”节点根据其<a href="http://wiki.amplify.pt/index.php?title=Unity_Products:Amplify_Shader_Editor/Transpose#paramInput">Input</a>上指定的一个来计算转置矩阵。该运算符按列切换行，反之亦然，它在对角线上翻转。
如果指定的矩阵正交，则转置等于其<a href="http://wiki.amplify.pt/index.php?title=Unity_Products:Amplify_Shader_Editor/Inverse">逆</a>矩阵</p>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/Matrix_Transpose.gif" alt="Matrix_Transpose.gif" /></p>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/Matrix_Transpose.gif" alt="img" /></p>

<p><a href="https://baike.baidu.com/item/矩阵转置/4150715?fr=aladdin">https://baike.baidu.com/item/%E7%9F%A9%E9%98%B5%E8%BD%AC%E7%BD%AE/4150715?fr=aladdin</a></p>

<p>设A为m×n阶<a href="https://baike.baidu.com/item/矩阵">矩阵</a>（即m行n列），第i 行j 列的元素是a(i,j)，即：</p>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/ad50850a3d5d055e4347384916988b40.svg" alt="img" /></p>

<p>把m×n矩阵A的行换成同序数的列得到一个n×m矩阵，此矩阵叫做A的转置矩阵，记做</p>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/732458e657617a3f7bf1982a02f92019.svg" alt="img" /></p>

<p>或</p>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/7afad6cb1fc27add10e532cf7686e102.svg" alt="img" /></p>

<p>. [1]</p>

<p>例如矩阵</p>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/b1c775826c5273b1258e5ea53b2f4c82.svg" alt="img" /></p>

<p>的转置矩阵为</p>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/f553eb5fd8403f75fae9ffb1d56be63a.svg" alt="img" /></p>

<p>矩阵的转置和加减乘除一样，也是一种运算，且满足下列运算规律（假设运算都是可行的）：</p>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/20a8c56f9694c54fbf18048c84fc3165.svg" alt="img" /></p>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/3ff3ad092c74c7d4ff965d5a511c2688.svg" alt="img" /></p>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/bc14a53639e596b2cfc2f8a758ae343b.svg" alt="img" /></p>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/09f60abe3f1caa7ecf6acb48746e9f74.svg" alt="img" /></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>transpose( UNITY_MATRIX_M )
</code></pre></div></div>

<h3 id="vector-from-matrix-读取矩阵中的一行或者一列组成一个向量">Vector From Matrix: 读取矩阵中的一行或者一列组成一个向量</h3>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/image-20200615163823210.png" alt="image-20200615163823210" /></p>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">float3</span> <span class="n">vertexValue</span> <span class="o">=</span> <span class="n">UNITY_MATRIX_M</span><span class="p">[</span><span class="mi">1</span><span class="p">].</span><span class="n">xyz</span><span class="p">;</span>
</code></pre></div></div>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/image-20200615163937916.png" alt="image-20200615163937916" /></p>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">float3</span> <span class="n">vertexValue</span> <span class="o">=</span> <span class="n">float4</span><span class="p">(</span> <span class="n">UNITY_MATRIX_M</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">],</span><span class="n">UNITY_MATRIX_M</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">],</span><span class="n">UNITY_MATRIX_M</span><span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="mi">1</span><span class="p">],</span><span class="n">UNITY_MATRIX_M</span><span class="p">[</span><span class="mi">3</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="p">).</span><span class="n">xyz</span><span class="p">;</span>
</code></pre></div></div>

<h1 id="matrix-transform-转换矩阵">Matrix Transform: 转换矩阵</h1>

<h3 id="camera-to-world-matrix-摄像机转世界矩阵-unity_cameratoworld">Camera To World Matrix： 摄像机转世界矩阵, unity_CameraToWorld</h3>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>unity_CameraToWorld
</code></pre></div></div>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/image-20200615164635025.png" alt="image-20200615164635025" /></p>

<h3 id="object-to-world-matrix-模型对象转世界矩阵-unity_objecttoworld">Object To World Matrix: 模型对象转世界矩阵, unity_ObjectToWorld</h3>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>unity_ObjectToWorld
</code></pre></div></div>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/image-20200615181427339.png" alt="image-20200615181427339" /></p>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Transforms direction from object to world space</span>
<span class="kr">inline</span> <span class="n">float3</span> <span class="nf">UnityObjectToWorldDir</span><span class="p">(</span> <span class="k">in</span> <span class="n">float3</span> <span class="n">dir</span> <span class="p">)</span>
<span class="p">{</span>
    <span class="k">return</span> <span class="n">normalize</span><span class="p">(</span><span class="n">mul</span><span class="p">((</span><span class="n">float3x3</span><span class="p">)</span><span class="n">unity_ObjectToWorld</span><span class="p">,</span> <span class="n">dir</span><span class="p">));</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="world-to-camera-matrix-世界转摄像机矩阵-unity_worldtocamera">World To Camera Matrix: 世界转摄像机矩阵， unity_WorldToCamera</h3>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>unity_WorldToCamera
</code></pre></div></div>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/image-20200615181606294.png" alt="image-20200615181606294" /></p>

<h3 id="world-to-object-matrix-世界转模型对象矩阵-unity_worldtoobject">World To Object Matrix: 世界转模型对象矩阵, unity_WorldToObject</h3>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>unity_WorldToObject
</code></pre></div></div>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/image-20200615181631784.png" alt="image-20200615181631784" /></p>

<h3 id="world-to-tangent-matrix-世界转切线矩阵">World To Tangent Matrix: 世界转切线矩阵</h3>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/image-20200615181739108.png" alt="image-20200615181739108" /></p>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// 切线，世界坐标系</span>
<span class="n">float3</span> <span class="n">ase_worldTangent</span> <span class="o">=</span> <span class="n">UnityObjectToWorldDir</span><span class="p">(</span><span class="n">v</span><span class="p">.</span><span class="n">ase_tangent</span><span class="p">);</span>
<span class="c1">// 法线，世界坐标系</span>
<span class="n">float3</span> <span class="n">ase_worldNormal</span> <span class="o">=</span> <span class="n">UnityObjectToWorldNormal</span><span class="p">(</span><span class="n">v</span><span class="p">.</span><span class="n">ase_normal</span><span class="p">);</span>
<span class="c1">// 标量</span>
<span class="kt">float</span> <span class="n">ase_vertexTangentSign</span> <span class="o">=</span> <span class="n">v</span><span class="p">.</span><span class="n">ase_tangent</span><span class="p">.</span><span class="n">w</span> <span class="o">*</span> <span class="n">unity_WorldTransformParams</span><span class="p">.</span><span class="n">w</span><span class="p">;</span>
<span class="c1">// 切线和法线垂直方向， 世界坐标系</span>
<span class="n">float3</span> <span class="n">ase_worldBitangent</span> <span class="o">=</span> <span class="n">cross</span><span class="p">(</span> <span class="n">ase_worldNormal</span><span class="p">,</span> <span class="n">ase_worldTangent</span> <span class="p">)</span> <span class="o">*</span> <span class="n">ase_vertexTangentSign</span><span class="p">;</span>
<span class="c1">// 世界转切线矩阵</span>
<span class="n">float3x3</span> <span class="n">ase_worldToTangent</span> <span class="o">=</span> <span class="n">float3x3</span><span class="p">(</span><span class="n">ase_worldTangent</span><span class="p">,</span><span class="n">ase_worldBitangent</span><span class="p">,</span><span class="n">ase_worldNormal</span><span class="p">);</span>
</code></pre></div></div>

<h3 id="transpose-model-view-matrix-转置模型视图矩阵节点-unity_matrix_t_mv">Transpose Model View Matrix： 转置模型视图矩阵节点， UNITY_MATRIX_T_MV</h3>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>UNITY_MATRIX_T_MV
</code></pre></div></div>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/image-20200615182241741.png" alt="image-20200615182241741" /></p>

<h3 id="model-matrix-模型矩阵-unity_matrix_m">Model Matrix: 模型矩阵, UNITY_MATRIX_M</h3>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">UNITY_MATRIX_M</span>
</code></pre></div></div>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/image-20200615171110464.png" alt="image-20200615171110464" /></p>

<h3 id="view-matrix-视图矩阵-unity_matrix_v">View Matrix: 视图矩阵, UNITY_MATRIX_V</h3>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>UNITY_MATRIX_V
</code></pre></div></div>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/image-20200615171046887.png" alt="image-20200615171046887" /></p>

<h3 id="projection-matrix投影矩阵-unity_matrix_p">Projection Matrix：投影矩阵, UNITY_MATRIX_P</h3>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>UNITY_MATRIX_P
</code></pre></div></div>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/image-20200615171303061.png" alt="image-20200615171303061" /></p>

<h3 id="model-view-matrix-模型视图矩阵unity_matrix_mv">Model View Matrix: 模型视图矩阵，UNITY_MATRIX_MV</h3>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>UNITY_MATRIX_MV
</code></pre></div></div>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/image-20200615172445189.png" alt="image-20200615172445189" /></p>

<h3 id="view-projection-matrix-视图投影矩阵-unity_matrix_vp">View Projection Matrix: 视图投影矩阵, UNITY_MATRIX_VP</h3>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>UNITY_MATRIX_VP
</code></pre></div></div>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/image-20200615172856651.png" alt="image-20200615172856651" /></p>

<h3 id="model-view-projection-matrix模型视图投影矩阵-unityobjecttoclipposvvertex">Model View Projection Matrix：模型视图投影矩阵, UnityObjectToClipPos(v.vertex)</h3>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">float4</span> <span class="n">vertex</span> <span class="o">=</span> <span class="n">UnityObjectToClipPos</span><span class="p">(</span><span class="n">v</span><span class="p">.</span><span class="n">vertex</span><span class="p">);</span>
</code></pre></div></div>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/image-20200615172511112.png" alt="image-20200615172511112" /></p>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Tranforms position from object to homogenous space</span>
<span class="kr">inline</span> <span class="n">float4</span> <span class="nf">UnityObjectToClipPos</span><span class="p">(</span><span class="k">in</span> <span class="n">float3</span> <span class="n">pos</span><span class="p">)</span>
<span class="p">{</span>
    <span class="c1">// More efficient than computing M*VP matrix product</span>
    <span class="k">return</span> <span class="n">mul</span><span class="p">(</span><span class="n">UNITY_MATRIX_VP</span><span class="p">,</span> <span class="n">mul</span><span class="p">(</span><span class="n">unity_ObjectToWorld</span><span class="p">,</span> <span class="n">float4</span><span class="p">(</span><span class="n">pos</span><span class="p">,</span> <span class="mi">1</span><span class="p">.</span><span class="mi">0</span><span class="p">)));</span>
<span class="p">}</span>
<span class="kr">inline</span> <span class="n">float4</span> <span class="nf">UnityObjectToClipPos</span><span class="p">(</span><span class="n">float4</span> <span class="n">pos</span><span class="p">)</span> <span class="c1">// overload for float4; avoids "implicit truncation" warning for existing shaders</span>
<span class="p">{</span>
    <span class="k">return</span> <span class="n">UnityObjectToClipPos</span><span class="p">(</span><span class="n">pos</span><span class="p">.</span><span class="n">xyz</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="projector-matrix-投影仪矩阵-贴花-unity_projector">Projector Matrix: 投影仪矩阵 贴花, unity_Projector</h3>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>unity_Projector
</code></pre></div></div>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/aHR0cDovL3d3dy5kcmVhbWZhaXJ5LmNuL2Jsb2cvd3AtY29udGVudC91cGxvYWRzLzIwMTgvMTEvMjAxODExMTkyMjU4MjYuZ2lm" alt="img" /></p>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/aHR0cDovL3d3dy5kcmVhbWZhaXJ5LmNuL2Jsb2cvd3AtY29udGVudC91cGxvYWRzLzIwMTgvMTEvcHJvamVjdG9yMS5wbmc" alt="img" /></p>

<h3 id="projector-clip-matrix-投影裁剪矩阵unity_projectorclip">Projector Clip Matrix： 投影裁剪矩阵，unity_ProjectorClip</h3>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>unity_ProjectorClip
</code></pre></div></div>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/image-20200615172126368.png" alt="image-20200615172126368" /></p>

<h3 id="inverse-view-matrix视图逆矩阵-unity_matrix_i_v">Inverse View Matrix：视图逆矩阵， UNITY_MATRIX_I_V</h3>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>UNITY_MATRIX_I_V
</code></pre></div></div>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/image-20200615182557182.png" alt="image-20200615182557182" /></p>

<h3 id="inverse-transpose-model-view-matrix-模型视图转置逆矩阵-unity_matrix_it_mv">Inverse Transpose Model View Matrix: 模型视图转置逆矩阵, UNITY_MATRIX_IT_MV</h3>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>UNITY_MATRIX_IT_MV
</code></pre></div></div>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/image-20200615183316385.png" alt="image-20200615183316385" /></p>

<h3 id="inverse-projection-matrix-投影逆矩阵">Inverse Projection Matrix: 投影逆矩阵</h3>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/image-20200615182628723.png" alt="image-20200615182628723" /></p>

<h3 id="inverse-view-projection-matrix-视图投影逆矩阵">Inverse View Projection Matrix: 视图投影逆矩阵</h3>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/image-20200615183143235.png" alt="image-20200615183143235" /></p>

<h3 id="common-transform-matrices-通用矩阵">Common Transform Matrices： 通用矩阵</h3>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/image-20200615183448015.png" alt="image-20200615183448015" /></p>

<h1 id="object-transform-空间转换">Object Transform: 空间转换</h1>

<h3 id="object-space-view-dir返回从当前游戏对象到摄像机的方向float3-v3--objspaceviewdirv4">Object Space View Dir：返回从当前游戏对象到摄像机的方向。float3 v3 = ObjSpaceViewDir(v4)</h3>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">float3</span> <span class="n">v3</span> <span class="o">=</span> <span class="n">ObjSpaceViewDir</span><span class="p">(</span><span class="n">v4</span><span class="p">)</span>
</code></pre></div></div>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Computes object space view direction</span>
<span class="kr">inline</span> <span class="n">float3</span> <span class="nf">ObjSpaceViewDir</span><span class="p">(</span> <span class="k">in</span> <span class="n">float4</span> <span class="n">v</span> <span class="p">)</span>
<span class="p">{</span>
    <span class="n">float3</span> <span class="n">objSpaceCameraPos</span> <span class="o">=</span> <span class="n">mul</span><span class="p">(</span><span class="n">unity_WorldToObject</span><span class="p">,</span> <span class="n">float4</span><span class="p">(</span><span class="n">_WorldSpaceCameraPos</span><span class="p">.</span><span class="n">xyz</span><span class="p">,</span> <span class="mi">1</span><span class="p">)).</span><span class="n">xyz</span><span class="p">;</span>
    <span class="k">return</span> <span class="n">objSpaceCameraPos</span> <span class="o">-</span> <span class="n">v</span><span class="p">.</span><span class="n">xyz</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/image-20200615184845636.png" alt="image-20200615184845636" /></p>

<h3 id="object-to-clip-pos-将对象局部空间中的位置转换为同类坐标中相机的剪辑空间-float4-v4--unityobjecttoclipposv3">Object To Clip Pos: 将对象/局部空间中的位置转换为同类坐标中相机的剪辑空间。 float4 v4 = UnityObjectToClipPos(v3)</h3>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">float4</span> <span class="n">unityObjectToClipPos</span> <span class="o">=</span> <span class="n">UnityObjectToClipPos</span><span class="p">(</span> <span class="n">v</span><span class="p">.</span><span class="n">vertex</span><span class="p">.</span><span class="n">xyz</span> <span class="p">);</span>
</code></pre></div></div>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Tranforms position from object to homogenous space</span>
<span class="kr">inline</span> <span class="n">float4</span> <span class="nf">UnityObjectToClipPos</span><span class="p">(</span><span class="k">in</span> <span class="n">float3</span> <span class="n">pos</span><span class="p">)</span>
<span class="p">{</span>
    <span class="c1">// More efficient than computing M*VP matrix product</span>
    <span class="k">return</span> <span class="n">mul</span><span class="p">(</span><span class="n">UNITY_MATRIX_VP</span><span class="p">,</span> <span class="n">mul</span><span class="p">(</span><span class="n">unity_ObjectToWorld</span><span class="p">,</span> <span class="n">float4</span><span class="p">(</span><span class="n">pos</span><span class="p">,</span> <span class="mi">1</span><span class="p">.</span><span class="mi">0</span><span class="p">)));</span>
<span class="p">}</span>
<span class="kr">inline</span> <span class="n">float4</span> <span class="nf">UnityObjectToClipPos</span><span class="p">(</span><span class="n">float4</span> <span class="n">pos</span><span class="p">)</span> <span class="c1">// overload for float4; avoids "implicit truncation" warning for existing shaders</span>
<span class="p">{</span>
    <span class="k">return</span> <span class="n">UnityObjectToClipPos</span><span class="p">(</span><span class="n">pos</span><span class="p">.</span><span class="n">xyz</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/image-20200615184818813.png" alt="image-20200615184818813" /></p>

<h3 id="object-to-view-pos-转换为相机的视图空间-float3-v3--unityobjecttoviewposv3">Object To View Pos: 转换为相机的视图空间, float3 v3 = UnityObjectToViewPos(v3)</h3>

<p>“对象到视图位置”节点将对象/本地空间中的“ <a href="http://wiki.amplify.pt/index.php?title=Unity_Products:Amplify_Shader_Editor/Object_To_View_Pos#paramInput"><em>输入”</em></a>位置转换为相机的视图空间。
视图空间中的坐标称为眼睛坐标，在<em>输入</em>本地位置值的情况下，它将表示根据相机所在位置的相对位置。</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>float3 unityObjectToViewPos = UnityObjectToViewPos( v.vertex.xyz );
</code></pre></div></div>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// 将一个点从object空间转换为view空间。这就相当于mul(UNITY_MATRIX_MV, float4(pos, 1.0)).xyz, 应该在它的位置上使用。</span>
<span class="c1">// Tranforms position from object to camera space</span>
<span class="kr">inline</span> <span class="n">float3</span> <span class="nf">UnityObjectToViewPos</span><span class="p">(</span> <span class="k">in</span> <span class="n">float3</span> <span class="n">pos</span> <span class="p">)</span>
<span class="p">{</span>
    <span class="k">return</span> <span class="n">mul</span><span class="p">(</span><span class="n">UNITY_MATRIX_V</span><span class="p">,</span> <span class="n">mul</span><span class="p">(</span><span class="n">unity_ObjectToWorld</span><span class="p">,</span> <span class="n">float4</span><span class="p">(</span><span class="n">pos</span><span class="p">,</span> <span class="mi">1</span><span class="p">.</span><span class="mi">0</span><span class="p">))).</span><span class="n">xyz</span><span class="p">;</span>
<span class="p">}</span>
<span class="kr">inline</span> <span class="n">float3</span> <span class="nf">UnityObjectToViewPos</span><span class="p">(</span><span class="n">float4</span> <span class="n">pos</span><span class="p">)</span> <span class="c1">// overload for float4; avoids "implicit truncation" warning for existing shaders</span>
<span class="p">{</span>
    <span class="k">return</span> <span class="n">UnityObjectToViewPos</span><span class="p">(</span><span class="n">pos</span><span class="p">.</span><span class="n">xyz</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/image-20200615185134836.png" alt="image-20200615185134836" /></p>

<h3 id="object-to-world-从对象本地空间转换为世界空间-float4-transform--mulunity_objecttoworldfloat4-vvertexxyz--00-">Object To World: 从“对象/本地空间”转换为“世界空间”, float4 transform = mul(unity_ObjectToWorld,float4( v.vertex.xyz , 0.0 ));</h3>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">float4</span> <span class="n">transform</span> <span class="o">=</span> <span class="n">mul</span><span class="p">(</span><span class="n">unity_ObjectToWorld</span><span class="p">,</span><span class="n">float4</span><span class="p">(</span> <span class="n">v</span><span class="p">.</span><span class="n">vertex</span><span class="p">.</span><span class="n">xyz</span> <span class="p">,</span> <span class="mi">0</span><span class="p">.</span><span class="mi">0</span> <span class="p">));</span>
</code></pre></div></div>

<h3 id="world-space-view-dir-返回从当前游戏对象到摄像机的方向float3-v3--worldspaceviewdirv4">World Space View Dir: 返回从当前游戏对象到摄像机的方向。float3 v3 = WorldSpaceViewDir(v4)</h3>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">float3</span> <span class="n">worldSpaceViewDir</span> <span class="o">=</span> <span class="n">WorldSpaceViewDir</span><span class="p">(</span> <span class="n">float4</span><span class="p">(</span> <span class="n">v</span><span class="p">.</span><span class="n">vertex</span><span class="p">.</span><span class="n">xyz</span> <span class="p">,</span> <span class="mi">0</span><span class="p">.</span><span class="mi">0</span> <span class="p">)</span> <span class="p">);</span>
</code></pre></div></div>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/image-20200615190604392.png" alt="image-20200615190604392" /></p>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Computes world space view direction, from object space position</span>
<span class="kr">inline</span> <span class="n">float3</span> <span class="nf">UnityWorldSpaceViewDir</span><span class="p">(</span> <span class="k">in</span> <span class="n">float3</span> <span class="n">worldPos</span> <span class="p">)</span>
<span class="p">{</span>
    <span class="k">return</span> <span class="n">_WorldSpaceCameraPos</span><span class="p">.</span><span class="n">xyz</span> <span class="o">-</span> <span class="n">worldPos</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// Computes world space view direction, from object space position</span>
<span class="c1">// *Legacy* Please use UnityWorldSpaceViewDir instead</span>
<span class="kr">inline</span> <span class="n">float3</span> <span class="nf">WorldSpaceViewDir</span><span class="p">(</span> <span class="k">in</span> <span class="n">float4</span> <span class="n">localPos</span> <span class="p">)</span>
<span class="p">{</span>
    <span class="n">float3</span> <span class="n">worldPos</span> <span class="o">=</span> <span class="n">mul</span><span class="p">(</span><span class="n">unity_ObjectToWorld</span><span class="p">,</span> <span class="n">localPos</span><span class="p">).</span><span class="n">xyz</span><span class="p">;</span>
    <span class="k">return</span> <span class="n">UnityWorldSpaceViewDir</span><span class="p">(</span><span class="n">worldPos</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="world-to-object-世界空间转换为对象局部空间float4-transform--mulunity_worldtoobjectfloat4-worldpos--00-">World To Object: “世界空间”转换为“对象/局部空间”。float4 transform = mul(unity_WorldToObject,float4( worldPos , 0.0 ));</h3>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>float4 transform = mul(unity_WorldToObject,float4( worldPos , 0.0 ));
</code></pre></div></div>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/image-20200615191300616.png" alt="image-20200615191300616" /></p>

<h3 id="world-transform-params-世界变换参数-float4-unity_worldtransformparams">World Transform Params: 世界变换参数， float4 unity_WorldTransformParams</h3>

<p>“世界变换参数”节点包含有关当前变换的信息，更具体地说，W通常为1.0，对于奇数负比例变换，则为-1.0</p>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">float4</span> <span class="n">unity_WorldTransformParams</span><span class="p">;</span>
</code></pre></div></div>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/image-20200615194223964.png" alt="image-20200615194223964" /></p>

<h3 id="transform-position-变换位置-不同空间转换">Transform Position: 变换位置, 不同空间转换</h3>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/image-20200615194516585.png" alt="image-20200615194516585" /></p>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/image-20200615194529713.png" alt="image-20200615194529713" /></p>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/image-20200615194551929.png" alt="image-20200615194551929" /></p>

<h5 id="object-to-world">Object To World</h5>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">float3</span> <span class="n">objToWorld703</span> <span class="o">=</span> <span class="n">mul</span><span class="p">(</span> <span class="n">unity_ObjectToWorld</span><span class="p">,</span> <span class="n">float4</span><span class="p">(</span> <span class="n">v</span><span class="p">.</span><span class="n">vertex</span><span class="p">.</span><span class="n">xyz</span><span class="p">,</span> <span class="mi">1</span> <span class="p">)</span> <span class="p">).</span><span class="n">xyz</span><span class="p">;</span>
</code></pre></div></div>

<h5 id="object-to-view">Object To View</h5>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">float3</span> <span class="n">objToView703</span> <span class="o">=</span> <span class="n">mul</span><span class="p">(</span> <span class="n">UNITY_MATRIX_MV</span><span class="p">,</span> <span class="n">float4</span><span class="p">(</span> <span class="n">v</span><span class="p">.</span><span class="n">vertex</span><span class="p">.</span><span class="n">xyz</span><span class="p">,</span> <span class="mi">1</span> <span class="p">)</span> <span class="p">).</span><span class="n">xyz</span><span class="p">;</span>
</code></pre></div></div>

<h5 id="object-to-tangent">Object To Tangent</h5>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// 切线， 世界空间</span>
<span class="n">float3</span> <span class="n">ase_worldTangent</span> <span class="o">=</span> <span class="n">UnityObjectToWorldDir</span><span class="p">(</span><span class="n">v</span><span class="p">.</span><span class="n">ase_tangent</span><span class="p">);</span>
<span class="c1">// 法线， 世界空间</span>
<span class="n">float3</span> <span class="n">ase_worldNormal</span> <span class="o">=</span> <span class="n">UnityObjectToWorldNormal</span><span class="p">(</span><span class="n">v</span><span class="p">.</span><span class="n">ase_normal</span><span class="p">);</span>
<span class="c1">// 标量</span>
<span class="kt">float</span> <span class="n">ase_vertexTangentSign</span> <span class="o">=</span> <span class="n">v</span><span class="p">.</span><span class="n">ase_tangent</span><span class="p">.</span><span class="n">w</span> <span class="o">*</span> <span class="n">unity_WorldTransformParams</span><span class="p">.</span><span class="n">w</span><span class="p">;</span>
<span class="c1">// 法线和切线垂直面方向， 世界空间</span>
<span class="n">float3</span> <span class="n">ase_worldBitangent</span> <span class="o">=</span> <span class="n">cross</span><span class="p">(</span> <span class="n">ase_worldNormal</span><span class="p">,</span> <span class="n">ase_worldTangent</span> <span class="p">)</span> <span class="o">*</span> <span class="n">ase_vertexTangentSign</span><span class="p">;</span>
<span class="c1">// 切线矩阵</span>
<span class="n">float3x3</span> <span class="n">ase_worldToTangent</span> <span class="o">=</span> <span class="n">float3x3</span><span class="p">(</span><span class="n">ase_worldTangent</span><span class="p">,</span><span class="n">ase_worldBitangent</span><span class="p">,</span><span class="n">ase_worldNormal</span><span class="p">);</span>

<span class="c1">// 先将本地坐标转世界坐标，再乘切线矩阵</span>
<span class="n">float3</span> <span class="n">objectToTangentPos703</span> <span class="o">=</span> <span class="n">mul</span><span class="p">(</span> <span class="n">ase_worldToTangent</span><span class="p">,</span> <span class="n">mul</span><span class="p">(</span> <span class="n">unity_ObjectToWorld</span><span class="p">,</span> <span class="n">float4</span><span class="p">(</span> <span class="n">v</span><span class="p">.</span><span class="n">vertex</span><span class="p">.</span><span class="n">xyz</span><span class="p">,</span> <span class="mi">1</span> <span class="p">)</span> <span class="p">).</span><span class="n">xyz</span><span class="p">);</span>
</code></pre></div></div>

<h5 id="object-to-clip">Object To Clip</h5>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">float3</span> <span class="n">objectToClip703</span> <span class="o">=</span> <span class="n">UnityObjectToClipPos</span><span class="p">(</span><span class="n">v</span><span class="p">.</span><span class="n">vertex</span><span class="p">.</span><span class="n">xyz</span><span class="p">).</span><span class="n">xyz</span><span class="p">;</span>
</code></pre></div></div>

<h5 id="object-to-clip-perpective-divide">Object To Clip， Perpective Divide</h5>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">float4</span> <span class="n">objectToClip703</span> <span class="o">=</span> <span class="n">UnityObjectToClipPos</span><span class="p">(</span><span class="n">v</span><span class="p">.</span><span class="n">vertex</span><span class="p">.</span><span class="n">xyz</span><span class="p">);</span>
<span class="n">float3</span> <span class="n">objectToClip703NDC</span> <span class="o">=</span> <span class="n">objectToClip703</span><span class="p">.</span><span class="n">xyz</span><span class="o">/</span><span class="n">objectToClip703</span><span class="p">.</span><span class="n">w</span><span class="p">;</span>
</code></pre></div></div>

<h5 id="world-to-object">World To Object</h5>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">float3</span> <span class="n">worldToObj703</span> <span class="o">=</span> <span class="n">mul</span><span class="p">(</span> <span class="n">unity_WorldToObject</span><span class="p">,</span> <span class="n">float4</span><span class="p">(</span> <span class="n">v</span><span class="p">.</span><span class="n">vertex</span><span class="p">.</span><span class="n">xyz</span><span class="p">,</span> <span class="mi">1</span> <span class="p">)</span> <span class="p">).</span><span class="n">xyz</span><span class="p">;</span>
</code></pre></div></div>

<h5 id="world-to-view">World To View</h5>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">float3</span> <span class="n">worldToView703</span> <span class="o">=</span> <span class="n">mul</span><span class="p">(</span> <span class="n">UNITY_MATRIX_V</span><span class="p">,</span> <span class="n">float4</span><span class="p">(</span> <span class="n">v</span><span class="p">.</span><span class="n">vertex</span><span class="p">.</span><span class="n">xyz</span><span class="p">,</span> <span class="mi">1</span> <span class="p">)</span> <span class="p">).</span><span class="n">xyz</span><span class="p">;</span>
</code></pre></div></div>

<h5 id="world-to-tangent">World To Tangent</h5>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// 切线， 世界空间</span>
<span class="n">float3</span> <span class="n">ase_worldTangent</span> <span class="o">=</span> <span class="n">UnityObjectToWorldDir</span><span class="p">(</span><span class="n">v</span><span class="p">.</span><span class="n">ase_tangent</span><span class="p">);</span>
<span class="c1">// 法线， 世界空间</span>
<span class="n">float3</span> <span class="n">ase_worldNormal</span> <span class="o">=</span> <span class="n">UnityObjectToWorldNormal</span><span class="p">(</span><span class="n">v</span><span class="p">.</span><span class="n">ase_normal</span><span class="p">);</span>
<span class="c1">// 标量</span>
<span class="kt">float</span> <span class="n">ase_vertexTangentSign</span> <span class="o">=</span> <span class="n">v</span><span class="p">.</span><span class="n">ase_tangent</span><span class="p">.</span><span class="n">w</span> <span class="o">*</span> <span class="n">unity_WorldTransformParams</span><span class="p">.</span><span class="n">w</span><span class="p">;</span>
<span class="c1">// 法线和切线垂直面方向， 世界空间</span>
<span class="n">float3</span> <span class="n">ase_worldBitangent</span> <span class="o">=</span> <span class="n">cross</span><span class="p">(</span> <span class="n">ase_worldNormal</span><span class="p">,</span> <span class="n">ase_worldTangent</span> <span class="p">)</span> <span class="o">*</span> <span class="n">ase_vertexTangentSign</span><span class="p">;</span>
<span class="c1">// 矩阵</span>
<span class="n">float3x3</span> <span class="n">ase_worldToTangent</span> <span class="o">=</span> <span class="n">float3x3</span><span class="p">(</span><span class="n">ase_worldTangent</span><span class="p">,</span><span class="n">ase_worldBitangent</span><span class="p">,</span><span class="n">ase_worldNormal</span><span class="p">);</span>


<span class="n">float3</span> <span class="n">worldToTangentPos703</span> <span class="o">=</span> <span class="n">mul</span><span class="p">(</span> <span class="n">ase_worldToTangent</span><span class="p">,</span> <span class="n">v</span><span class="p">.</span><span class="n">vertex</span><span class="p">.</span><span class="n">xyz</span><span class="p">);</span>
</code></pre></div></div>

<h5 id="world-to-clip">World To Clip</h5>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">float3</span> <span class="n">worldToClip703</span> <span class="o">=</span> <span class="n">mul</span><span class="p">(</span><span class="n">UNITY_MATRIX_VP</span><span class="p">,</span> <span class="n">float4</span><span class="p">(</span><span class="n">v</span><span class="p">.</span><span class="n">vertex</span><span class="p">.</span><span class="n">xyz</span><span class="p">,</span> <span class="mi">1</span><span class="p">.</span><span class="mi">0</span><span class="p">)).</span><span class="n">xyz</span><span class="p">;</span>
</code></pre></div></div>

<h5 id="world-to-clip-perpective-divide">World To Clip， Perpective Divide</h5>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">float4</span> <span class="n">worldToClip703</span> <span class="o">=</span> <span class="n">mul</span><span class="p">(</span><span class="n">UNITY_MATRIX_VP</span><span class="p">,</span> <span class="n">float4</span><span class="p">(</span><span class="n">v</span><span class="p">.</span><span class="n">vertex</span><span class="p">.</span><span class="n">xyz</span><span class="p">,</span> <span class="mi">1</span><span class="p">.</span><span class="mi">0</span><span class="p">));</span>
<span class="n">float3</span> <span class="n">worldToClip703NDC</span> <span class="o">=</span> <span class="n">worldToClip703</span><span class="p">.</span><span class="n">xyz</span><span class="o">/</span><span class="n">worldToClip703</span><span class="p">.</span><span class="n">w</span><span class="p">;</span>
</code></pre></div></div>

<h5 id="view-to-object">View To Object</h5>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">float3</span> <span class="n">viewToObj703</span> <span class="o">=</span> <span class="n">mul</span><span class="p">(</span> <span class="n">unity_WorldToObject</span><span class="p">,</span> <span class="n">mul</span><span class="p">(</span> <span class="n">UNITY_MATRIX_I_V</span> <span class="p">,</span> <span class="n">float4</span><span class="p">(</span> <span class="n">v</span><span class="p">.</span><span class="n">vertex</span><span class="p">.</span><span class="n">xyz</span><span class="p">,</span> <span class="mi">1</span> <span class="p">)</span> <span class="p">)</span> <span class="p">).</span><span class="n">xyz</span><span class="p">;</span>
</code></pre></div></div>

<h5 id="view-to-world">View To World</h5>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">float3</span> <span class="n">viewToWorld703</span> <span class="o">=</span> <span class="n">mul</span><span class="p">(</span> <span class="n">UNITY_MATRIX_I_V</span><span class="p">,</span> <span class="n">float4</span><span class="p">(</span> <span class="n">v</span><span class="p">.</span><span class="n">vertex</span><span class="p">.</span><span class="n">xyz</span><span class="p">,</span> <span class="mi">1</span> <span class="p">)</span> <span class="p">).</span><span class="n">xyz</span><span class="p">;</span>
</code></pre></div></div>

<h5 id="view-to-tangent">View To Tangent</h5>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// 切线， 世界空间</span>
<span class="n">float3</span> <span class="n">ase_worldTangent</span> <span class="o">=</span> <span class="n">UnityObjectToWorldDir</span><span class="p">(</span><span class="n">v</span><span class="p">.</span><span class="n">ase_tangent</span><span class="p">);</span>
<span class="c1">// 法线， 世界空间</span>
<span class="n">float3</span> <span class="n">ase_worldNormal</span> <span class="o">=</span> <span class="n">UnityObjectToWorldNormal</span><span class="p">(</span><span class="n">v</span><span class="p">.</span><span class="n">ase_normal</span><span class="p">);</span>
<span class="c1">// 标量</span>
<span class="kt">float</span> <span class="n">ase_vertexTangentSign</span> <span class="o">=</span> <span class="n">v</span><span class="p">.</span><span class="n">ase_tangent</span><span class="p">.</span><span class="n">w</span> <span class="o">*</span> <span class="n">unity_WorldTransformParams</span><span class="p">.</span><span class="n">w</span><span class="p">;</span>
<span class="c1">// 法线和切线垂直面方向， 世界空间</span>
<span class="n">float3</span> <span class="n">ase_worldBitangent</span> <span class="o">=</span> <span class="n">cross</span><span class="p">(</span> <span class="n">ase_worldNormal</span><span class="p">,</span> <span class="n">ase_worldTangent</span> <span class="p">)</span> <span class="o">*</span> <span class="n">ase_vertexTangentSign</span><span class="p">;</span>
<span class="c1">// 矩阵</span>
<span class="n">float3x3</span> <span class="n">ase_worldToTangent</span> <span class="o">=</span> <span class="n">float3x3</span><span class="p">(</span><span class="n">ase_worldTangent</span><span class="p">,</span><span class="n">ase_worldBitangent</span><span class="p">,</span><span class="n">ase_worldNormal</span><span class="p">);</span>

<span class="c1">// 先将视图坐标转世界坐标，再乘切线矩阵</span>
<span class="n">float3</span> <span class="n">viewToTangentPos703</span> <span class="o">=</span> <span class="n">mul</span><span class="p">(</span> <span class="n">ase_worldToTangent</span><span class="p">,</span> <span class="n">mul</span><span class="p">(</span> <span class="n">UNITY_MATRIX_I_V</span><span class="p">,</span> <span class="n">float4</span><span class="p">(</span> <span class="n">v</span><span class="p">.</span><span class="n">vertex</span><span class="p">.</span><span class="n">xyz</span><span class="p">,</span> <span class="mi">1</span> <span class="p">)</span> <span class="p">).</span><span class="n">xyz</span><span class="p">);</span>
</code></pre></div></div>

<h5 id="view-to-clip">View To Clip</h5>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">float3</span> <span class="n">viewToClip703</span> <span class="o">=</span> <span class="n">mul</span><span class="p">(</span><span class="n">UNITY_MATRIX_P</span><span class="p">,</span> <span class="n">float4</span><span class="p">(</span><span class="n">v</span><span class="p">.</span><span class="n">vertex</span><span class="p">.</span><span class="n">xyz</span><span class="p">,</span> <span class="mi">1</span><span class="p">.</span><span class="mi">0</span><span class="p">)).</span><span class="n">xyz</span><span class="p">;</span>
</code></pre></div></div>

<h5 id="view-to-clip-perpective-divide">View To Clip， Perpective Divide</h5>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">float4</span> <span class="n">viewToClip703</span> <span class="o">=</span> <span class="n">mul</span><span class="p">(</span><span class="n">UNITY_MATRIX_P</span><span class="p">,</span> <span class="n">float4</span><span class="p">(</span><span class="n">v</span><span class="p">.</span><span class="n">vertex</span><span class="p">.</span><span class="n">xyz</span><span class="p">,</span> <span class="mi">1</span><span class="p">.</span><span class="mi">0</span><span class="p">));</span>
<span class="n">float3</span> <span class="n">viewToClip703NDC</span> <span class="o">=</span> <span class="n">viewToClip703</span><span class="p">.</span><span class="n">xyz</span><span class="o">/</span><span class="n">viewToClip703</span><span class="p">.</span><span class="n">w</span><span class="p">;</span>
</code></pre></div></div>

<h5 id="tangent-to-object--inverse-tbn-faset-快速的">Tangent To Object,  Inverse TBN: Faset 快速的</h5>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// 切线， 世界空间</span>
<span class="n">float3</span> <span class="n">ase_worldTangent</span> <span class="o">=</span> <span class="n">UnityObjectToWorldDir</span><span class="p">(</span><span class="n">v</span><span class="p">.</span><span class="n">ase_tangent</span><span class="p">);</span>
<span class="c1">// 法线， 世界空间</span>
<span class="n">float3</span> <span class="n">ase_worldNormal</span> <span class="o">=</span> <span class="n">UnityObjectToWorldNormal</span><span class="p">(</span><span class="n">v</span><span class="p">.</span><span class="n">ase_normal</span><span class="p">);</span>
<span class="c1">// 标量</span>
<span class="kt">float</span> <span class="n">ase_vertexTangentSign</span> <span class="o">=</span> <span class="n">v</span><span class="p">.</span><span class="n">ase_tangent</span><span class="p">.</span><span class="n">w</span> <span class="o">*</span> <span class="n">unity_WorldTransformParams</span><span class="p">.</span><span class="n">w</span><span class="p">;</span>
<span class="c1">// 法线和切线垂直面方向， 世界空间</span>
<span class="n">float3</span> <span class="n">ase_worldBitangent</span> <span class="o">=</span> <span class="n">cross</span><span class="p">(</span> <span class="n">ase_worldNormal</span><span class="p">,</span> <span class="n">ase_worldTangent</span> <span class="p">)</span> <span class="o">*</span> <span class="n">ase_vertexTangentSign</span><span class="p">;</span>
<span class="c1">// 逆矩阵</span>
<span class="n">float3x3</span> <span class="n">ase_tangentToWorldFast</span> <span class="o">=</span> <span class="n">float3x3</span><span class="p">(</span><span class="n">ase_worldTangent</span><span class="p">.</span><span class="n">x</span><span class="p">,</span><span class="n">ase_worldBitangent</span><span class="p">.</span><span class="n">x</span><span class="p">,</span><span class="n">ase_worldNormal</span><span class="p">.</span><span class="n">x</span><span class="p">,</span><span class="n">ase_worldTangent</span><span class="p">.</span><span class="n">y</span><span class="p">,</span><span class="n">ase_worldBitangent</span><span class="p">.</span><span class="n">y</span><span class="p">,</span><span class="n">ase_worldNormal</span><span class="p">.</span><span class="n">y</span><span class="p">,</span><span class="n">ase_worldTangent</span><span class="p">.</span><span class="n">z</span><span class="p">,</span><span class="n">ase_worldBitangent</span><span class="p">.</span><span class="n">z</span><span class="p">,</span><span class="n">ase_worldNormal</span><span class="p">.</span><span class="n">z</span><span class="p">);</span>


<span class="c1">// 先转换乘世界坐标，再转本地坐标</span>
<span class="n">float3</span> <span class="n">tangentTobjectPos703</span> <span class="o">=</span> <span class="n">mul</span><span class="p">(</span> <span class="n">unity_WorldToObject</span><span class="p">,</span> <span class="n">float4</span><span class="p">(</span> <span class="n">mul</span><span class="p">(</span> <span class="n">ase_tangentToWorldFast</span><span class="p">,</span> <span class="n">v</span><span class="p">.</span><span class="n">vertex</span><span class="p">.</span><span class="n">xyz</span> <span class="p">),</span> <span class="mi">1</span> <span class="p">)</span> <span class="p">).</span><span class="n">xyz</span><span class="p">;</span>
</code></pre></div></div>

<h5 id="tangent-to-object--inverse-tbn-precise-精确的">Tangent To Object,  Inverse TBN: Precise 精确的</h5>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="n">float3x3</span> <span class="nf">Inverse3x3</span><span class="p">(</span><span class="n">float3x3</span> <span class="kr">input</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">float3</span> <span class="n">a</span> <span class="o">=</span> <span class="kr">input</span><span class="p">.</span><span class="n">_11_21_31</span><span class="p">;</span>
    <span class="n">float3</span> <span class="n">b</span> <span class="o">=</span> <span class="kr">input</span><span class="p">.</span><span class="n">_12_22_32</span><span class="p">;</span>
    <span class="n">float3</span> <span class="n">c</span> <span class="o">=</span> <span class="kr">input</span><span class="p">.</span><span class="n">_13_23_33</span><span class="p">;</span>
    <span class="k">return</span> <span class="n">float3x3</span><span class="p">(</span><span class="n">cross</span><span class="p">(</span><span class="n">b</span><span class="p">,</span><span class="n">c</span><span class="p">),</span> <span class="n">cross</span><span class="p">(</span><span class="n">c</span><span class="p">,</span><span class="n">a</span><span class="p">),</span> <span class="n">cross</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">))</span> <span class="o">*</span> <span class="p">(</span><span class="mi">1</span><span class="p">.</span><span class="mi">0</span> <span class="o">/</span> <span class="n">dot</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">cross</span><span class="p">(</span><span class="n">b</span><span class="p">,</span><span class="n">c</span><span class="p">)));</span>
<span class="p">}</span>

<span class="c1">// 切线， 世界空间</span>
<span class="n">float3</span> <span class="n">ase_worldTangent</span> <span class="o">=</span> <span class="n">UnityObjectToWorldDir</span><span class="p">(</span><span class="n">v</span><span class="p">.</span><span class="n">ase_tangent</span><span class="p">);</span>
<span class="c1">// 法线， 世界空间</span>
<span class="n">float3</span> <span class="n">ase_worldNormal</span> <span class="o">=</span> <span class="n">UnityObjectToWorldNormal</span><span class="p">(</span><span class="n">v</span><span class="p">.</span><span class="n">ase_normal</span><span class="p">);</span>
<span class="c1">// 标量</span>
<span class="kt">float</span> <span class="n">ase_vertexTangentSign</span> <span class="o">=</span> <span class="n">v</span><span class="p">.</span><span class="n">ase_tangent</span><span class="p">.</span><span class="n">w</span> <span class="o">*</span> <span class="n">unity_WorldTransformParams</span><span class="p">.</span><span class="n">w</span><span class="p">;</span>
<span class="c1">// 法线和切线垂直面方向， 世界空间</span>
<span class="n">float3</span> <span class="n">ase_worldBitangent</span> <span class="o">=</span> <span class="n">cross</span><span class="p">(</span> <span class="n">ase_worldNormal</span><span class="p">,</span> <span class="n">ase_worldTangent</span> <span class="p">)</span> <span class="o">*</span> <span class="n">ase_vertexTangentSign</span><span class="p">;</span>
<span class="c1">// 矩阵</span>
<span class="n">float3x3</span> <span class="n">ase_worldToTangent</span> <span class="o">=</span> <span class="n">float3x3</span><span class="p">(</span><span class="n">ase_worldTangent</span><span class="p">,</span><span class="n">ase_worldBitangent</span><span class="p">,</span><span class="n">ase_worldNormal</span><span class="p">);</span>
<span class="c1">// 逆矩阵</span>
<span class="n">float3x3</span> <span class="n">ase_tangentToWorldPrecise</span> <span class="o">=</span> <span class="n">Inverse3x3</span><span class="p">(</span> <span class="n">ase_worldToTangent</span> <span class="p">);</span>


<span class="c1">// 先转换乘世界坐标，再转本地坐标</span>
<span class="n">float3</span> <span class="n">tangentTobjectPos703</span> <span class="o">=</span> <span class="n">mul</span><span class="p">(</span> <span class="n">unity_WorldToObject</span><span class="p">,</span> <span class="n">float4</span><span class="p">(</span> <span class="n">mul</span><span class="p">(</span> <span class="n">ase_tangentToWorldPrecise</span><span class="p">,</span> <span class="n">v</span><span class="p">.</span><span class="n">vertex</span><span class="p">.</span><span class="n">xyz</span> <span class="p">),</span> <span class="mi">1</span> <span class="p">)</span> <span class="p">).</span><span class="n">xyz</span><span class="p">;</span>
</code></pre></div></div>

<h5 id="tangent-to-world">Tangent To World</h5>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="n">float3</span> <span class="n">tangentToWorldPos703</span> <span class="o">=</span> <span class="n">mul</span><span class="p">(</span> <span class="n">ase_tangentToWorldFast</span><span class="p">,</span> <span class="n">v</span><span class="p">.</span><span class="n">vertex</span><span class="p">.</span><span class="n">xyz</span> <span class="p">);</span>
</code></pre></div></div>

<h5 id="tangent-to-view">Tangent To View</h5>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// 先转世界坐标，再转视图坐标</span>
<span class="n">float3</span> <span class="n">tangentToViewPos703</span> <span class="o">=</span> <span class="n">mul</span><span class="p">(</span> <span class="n">UNITY_MATRIX_V</span><span class="p">,</span> <span class="n">float4</span><span class="p">(</span> <span class="n">mul</span><span class="p">(</span> <span class="n">ase_tangentToWorldFast</span><span class="p">,</span> <span class="n">v</span><span class="p">.</span><span class="n">vertex</span><span class="p">.</span><span class="n">xyz</span> <span class="p">),</span> <span class="mi">1</span> <span class="p">)</span> <span class="p">).</span><span class="n">xyz</span><span class="p">;</span>
</code></pre></div></div>

<h5 id="tangent-to-clip">Tangent To Clip</h5>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// 先转世界坐标，再转裁剪坐标</span>
<span class="n">float3</span> <span class="n">tangentToClipPos703</span> <span class="o">=</span> <span class="n">mul</span><span class="p">(</span><span class="n">UNITY_MATRIX_VP</span><span class="p">,</span> <span class="n">float4</span><span class="p">(</span><span class="n">mul</span><span class="p">(</span> <span class="n">ase_tangentToWorldFast</span><span class="p">,</span> <span class="n">v</span><span class="p">.</span><span class="n">vertex</span><span class="p">.</span><span class="n">xyz</span> <span class="p">),</span> <span class="mi">1</span><span class="p">.</span><span class="mi">0</span><span class="p">)).</span><span class="n">xyz</span><span class="p">;</span>
</code></pre></div></div>

<h1 id="light-灯光">Light: 灯光</h1>

<h3 id="blinn-phong-light-blinn-phong-光照模型">Blinn-Phong Light: Blinn-Phong 光照模型</h3>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/image-20200615204554102.png" alt="image-20200615204554102" /></p>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/image-20200615204633800.png" alt="image-20200615204633800" /></p>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/image-20200615204644378.png" alt="image-20200615204644378" /></p>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">Shader</span> <span class="s">"TestNode"</span>
<span class="p">{</span>
	<span class="n">Properties</span>
	<span class="p">{</span>
		<span class="n">_Shininess</span><span class="p">(</span><span class="s">"Shininess"</span><span class="p">,</span> <span class="n">Range</span><span class="p">(</span> <span class="mi">0</span><span class="p">.</span><span class="mo">01</span> <span class="p">,</span> <span class="mi">1</span><span class="p">))</span> <span class="o">=</span> <span class="mi">0</span><span class="p">.</span><span class="mi">1</span>
		<span class="n">_Specular</span><span class="p">(</span><span class="s">"Specular"</span><span class="p">,</span> <span class="n">Range</span><span class="p">(</span> <span class="mi">0</span> <span class="p">,</span> <span class="mi">10</span><span class="p">))</span> <span class="o">=</span> <span class="mi">6</span><span class="p">.</span><span class="mi">470588</span>
		<span class="n">_DiffuseTextue</span><span class="p">(</span><span class="s">"DiffuseTextue"</span><span class="p">,</span> <span class="mi">2</span><span class="n">D</span><span class="p">)</span> <span class="o">=</span> <span class="s">"white"</span> <span class="p">{}</span>
		<span class="n">_NormalTextue</span><span class="p">(</span><span class="s">"NormalTextue"</span><span class="p">,</span> <span class="mi">2</span><span class="n">D</span><span class="p">)</span> <span class="o">=</span> <span class="s">"bump"</span> <span class="p">{}</span>
		<span class="p">[</span><span class="n">HideInInspector</span><span class="p">]</span> <span class="n">_texcoord</span><span class="p">(</span> <span class="s">""</span><span class="p">,</span> <span class="mi">2</span><span class="n">D</span> <span class="p">)</span> <span class="o">=</span> <span class="s">"white"</span> <span class="p">{}</span>

	<span class="p">}</span>
	
	<span class="n">SubShader</span>
	<span class="p">{</span>
		
		
		<span class="n">Tags</span> <span class="p">{</span> <span class="s">"RenderType"</span><span class="o">=</span><span class="s">"Opaque"</span> <span class="p">}</span>
	<span class="n">LOD</span> <span class="mi">100</span>

		<span class="n">CGINCLUDE</span>
		<span class="cp">#pragma target 3.0
</span>		<span class="n">ENDCG</span>
		<span class="n">Blend</span> <span class="n">Off</span>
		<span class="n">Cull</span> <span class="n">Back</span>
		<span class="n">ColorMask</span> <span class="n">RGBA</span>
		<span class="n">ZWrite</span> <span class="n">On</span>
		<span class="n">ZTest</span> <span class="n">LEqual</span>
		<span class="n">Offset</span> <span class="mi">0</span> <span class="p">,</span> <span class="mi">0</span>
		
		
		
		<span class="n">Pass</span>
		<span class="p">{</span>
			<span class="n">Name</span> <span class="s">"Unlit"</span>
			<span class="n">Tags</span> <span class="p">{</span> <span class="s">"LightMode"</span><span class="o">=</span><span class="s">"ForwardBase"</span> <span class="p">}</span>
			<span class="n">CGPROGRAM</span>

			

			<span class="cp">#ifndef UNITY_SETUP_STEREO_EYE_INDEX_POST_VERTEX
</span>			<span class="c1">//only defining to not throw compilation error over Unity 5.5</span>
			<span class="cp">#define UNITY_SETUP_STEREO_EYE_INDEX_POST_VERTEX(input)
</span>			<span class="cp">#endif
</span>			<span class="cp">#pragma vertex vert
</span>			<span class="cp">#pragma fragment frag
</span>			<span class="cp">#pragma multi_compile_instancing
</span>			<span class="cp">#include "UnityCG.cginc"
</span>			<span class="cp">#include "Lighting.cginc"
</span>			<span class="cp">#include "AutoLight.cginc"
</span>			<span class="cp">#include "UnityShaderVariables.cginc"
</span>			<span class="cp">#define ASE_SHADOWS 1
</span>

			<span class="k">struct</span> <span class="n">appdata</span>
			<span class="p">{</span>
				<span class="n">float4</span> <span class="n">vertex</span> <span class="o">:</span> <span class="n">POSITION</span><span class="p">;</span>
				<span class="n">float4</span> <span class="n">color</span> <span class="o">:</span> <span class="n">COLOR</span><span class="p">;</span>
				<span class="n">UNITY_VERTEX_INPUT_INSTANCE_ID</span>
				<span class="n">float4</span> <span class="n">ase_texcoord</span> <span class="o">:</span> <span class="n">TEXCOORD0</span><span class="p">;</span>
				<span class="n">float4</span> <span class="n">ase_tangent</span> <span class="o">:</span> <span class="n">TANGENT</span><span class="p">;</span>
				<span class="n">float3</span> <span class="n">ase_normal</span> <span class="o">:</span> <span class="n">NORMAL</span><span class="p">;</span>
				<span class="n">float4</span> <span class="n">texcoord1</span> <span class="o">:</span> <span class="n">TEXCOORD1</span><span class="p">;</span>
				<span class="n">float4</span> <span class="n">texcoord2</span> <span class="o">:</span> <span class="n">TEXCOORD2</span><span class="p">;</span>
			<span class="p">};</span>
			
			<span class="k">struct</span> <span class="n">v2f</span>
			<span class="p">{</span>
				<span class="n">float4</span> <span class="n">vertex</span> <span class="o">:</span> <span class="n">SV_POSITION</span><span class="p">;</span>
				<span class="n">UNITY_VERTEX_INPUT_INSTANCE_ID</span>
				<span class="n">UNITY_VERTEX_OUTPUT_STEREO</span>
				<span class="n">float4</span> <span class="n">ase_texcoord</span> <span class="o">:</span> <span class="n">TEXCOORD0</span><span class="p">;</span>
				<span class="n">float4</span> <span class="n">ase_texcoord1</span> <span class="o">:</span> <span class="n">TEXCOORD1</span><span class="p">;</span>
				<span class="n">float4</span> <span class="n">ase_texcoord2</span> <span class="o">:</span> <span class="n">TEXCOORD2</span><span class="p">;</span>
				<span class="n">float4</span> <span class="n">ase_texcoord3</span> <span class="o">:</span> <span class="n">TEXCOORD3</span><span class="p">;</span>
				<span class="n">float4</span> <span class="n">ase_texcoord4</span> <span class="o">:</span> <span class="n">TEXCOORD4</span><span class="p">;</span>
				<span class="n">UNITY_SHADOW_COORDS</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
				<span class="n">float4</span> <span class="n">ase_lmap</span> <span class="o">:</span> <span class="n">TEXCOORD6</span><span class="p">;</span>
				<span class="n">float4</span> <span class="n">ase_sh</span> <span class="o">:</span> <span class="n">TEXCOORD7</span><span class="p">;</span>
			<span class="p">};</span>

			<span class="c1">//This is a late directive</span>
			
			<span class="k">uniform</span> <span class="kt">float</span> <span class="n">_Specular</span><span class="p">;</span>
			<span class="k">uniform</span> <span class="kt">sampler2D</span> <span class="n">_NormalTextue</span><span class="p">;</span>
			<span class="k">uniform</span> <span class="n">float4</span> <span class="n">_NormalTextue_ST</span><span class="p">;</span>
			<span class="k">uniform</span> <span class="kt">float</span> <span class="n">_Shininess</span><span class="p">;</span>
			<span class="k">uniform</span> <span class="kt">sampler2D</span> <span class="n">_DiffuseTextue</span><span class="p">;</span>
			<span class="k">uniform</span> <span class="n">float4</span> <span class="n">_DiffuseTextue_ST</span><span class="p">;</span>

			
			<span class="n">v2f</span> <span class="n">vert</span> <span class="p">(</span> <span class="n">appdata</span> <span class="n">v</span> <span class="p">)</span>
			<span class="p">{</span>
				<span class="n">v2f</span> <span class="n">o</span><span class="p">;</span>
				<span class="n">UNITY_SETUP_INSTANCE_ID</span><span class="p">(</span><span class="n">v</span><span class="p">);</span>
				<span class="n">UNITY_INITIALIZE_VERTEX_OUTPUT_STEREO</span><span class="p">(</span><span class="n">o</span><span class="p">);</span>
				<span class="n">UNITY_TRANSFER_INSTANCE_ID</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="n">o</span><span class="p">);</span>

				<span class="c1">// 位置， 世界坐标</span>
				<span class="n">float3</span> <span class="n">ase_worldPos</span> <span class="o">=</span> <span class="n">mul</span><span class="p">(</span><span class="n">unity_ObjectToWorld</span><span class="p">,</span> <span class="n">v</span><span class="p">.</span><span class="n">vertex</span><span class="p">).</span><span class="n">xyz</span><span class="p">;</span>
				<span class="n">o</span><span class="p">.</span><span class="n">ase_texcoord</span><span class="p">.</span><span class="n">xyz</span> <span class="o">=</span> <span class="n">ase_worldPos</span><span class="p">;</span>

				<span class="c1">// 切线， 世界坐标</span>
				<span class="n">float3</span> <span class="n">ase_worldTangent</span> <span class="o">=</span> <span class="n">UnityObjectToWorldDir</span><span class="p">(</span><span class="n">v</span><span class="p">.</span><span class="n">ase_tangent</span><span class="p">);</span>
				<span class="n">o</span><span class="p">.</span><span class="n">ase_texcoord2</span><span class="p">.</span><span class="n">xyz</span> <span class="o">=</span> <span class="n">ase_worldTangent</span><span class="p">;</span>

				<span class="c1">// 法线， 世界坐标</span>
				<span class="n">float3</span> <span class="n">ase_worldNormal</span> <span class="o">=</span> <span class="n">UnityObjectToWorldNormal</span><span class="p">(</span><span class="n">v</span><span class="p">.</span><span class="n">ase_normal</span><span class="p">);</span>
				<span class="n">o</span><span class="p">.</span><span class="n">ase_texcoord3</span><span class="p">.</span><span class="n">xyz</span> <span class="o">=</span> <span class="n">ase_worldNormal</span><span class="p">;</span>

				<span class="c1">// 标量</span>
				<span class="kt">float</span> <span class="n">ase_vertexTangentSign</span> <span class="o">=</span> <span class="n">v</span><span class="p">.</span><span class="n">ase_tangent</span><span class="p">.</span><span class="n">w</span> <span class="o">*</span> <span class="n">unity_WorldTransformParams</span><span class="p">.</span><span class="n">w</span><span class="p">;</span>

				<span class="c1">// 切线和法线垂直面方向</span>
				<span class="n">float3</span> <span class="n">ase_worldBitangent</span> <span class="o">=</span> <span class="n">cross</span><span class="p">(</span> <span class="n">ase_worldNormal</span><span class="p">,</span> <span class="n">ase_worldTangent</span> <span class="p">)</span> <span class="o">*</span> <span class="n">ase_vertexTangentSign</span><span class="p">;</span>
				<span class="n">o</span><span class="p">.</span><span class="n">ase_texcoord4</span><span class="p">.</span><span class="n">xyz</span> <span class="o">=</span> <span class="n">ase_worldBitangent</span><span class="p">;</span>

				<span class="c1">// 动态光照烘培 UV</span>
				<span class="cp">#ifdef DYNAMICLIGHTMAP_ON //dynlm
</span>				<span class="n">o</span><span class="p">.</span><span class="n">ase_lmap</span><span class="p">.</span><span class="n">zw</span> <span class="o">=</span> <span class="n">v</span><span class="p">.</span><span class="n">texcoord2</span><span class="p">.</span><span class="n">xy</span> <span class="o">*</span> <span class="n">unity_DynamicLightmapST</span><span class="p">.</span><span class="n">xy</span> <span class="o">+</span> <span class="n">unity_DynamicLightmapST</span><span class="p">.</span><span class="n">zw</span><span class="p">;</span>
				<span class="cp">#endif //dynlm
</span>
				<span class="c1">// 静态光照烘培 UV</span>
				<span class="cp">#ifdef LIGHTMAP_ON //stalm
</span>				<span class="n">o</span><span class="p">.</span><span class="n">ase_lmap</span><span class="p">.</span><span class="n">xy</span> <span class="o">=</span> <span class="n">v</span><span class="p">.</span><span class="n">texcoord1</span><span class="p">.</span><span class="n">xy</span> <span class="o">*</span> <span class="n">unity_LightmapST</span><span class="p">.</span><span class="n">xy</span> <span class="o">+</span> <span class="n">unity_LightmapST</span><span class="p">.</span><span class="n">zw</span><span class="p">;</span>
				<span class="cp">#endif //stalm
</span>
				<span class="cp">#ifndef LIGHTMAP_ON //nstalm
</span>				<span class="cp">#if UNITY_SHOULD_SAMPLE_SH //sh
</span>				<span class="n">o</span><span class="p">.</span><span class="n">ase_sh</span><span class="p">.</span><span class="n">xyz</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

				<span class="c1">// 顶点光照</span>
				<span class="cp">#ifdef VERTEXLIGHT_ON //vl
</span>				<span class="c1">// 光照明暗</span>
				<span class="n">o</span><span class="p">.</span><span class="n">ase_sh</span><span class="p">.</span><span class="n">xyz</span> <span class="o">+=</span> <span class="n">Shade4PointLights</span> <span class="p">(</span>
				<span class="n">unity_4LightPosX0</span><span class="p">,</span> <span class="n">unity_4LightPosY0</span><span class="p">,</span> <span class="n">unity_4LightPosZ0</span><span class="p">,</span>
				<span class="n">unity_LightColor</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="n">rgb</span><span class="p">,</span> <span class="n">unity_LightColor</span><span class="p">[</span><span class="mi">1</span><span class="p">].</span><span class="n">rgb</span><span class="p">,</span> <span class="n">unity_LightColor</span><span class="p">[</span><span class="mi">2</span><span class="p">].</span><span class="n">rgb</span><span class="p">,</span> <span class="n">unity_LightColor</span><span class="p">[</span><span class="mi">3</span><span class="p">].</span><span class="n">rgb</span><span class="p">,</span>
				<span class="n">unity_4LightAtten0</span><span class="p">,</span> <span class="n">ase_worldPos</span><span class="p">,</span> <span class="n">ase_worldNormal</span><span class="p">);</span>
				<span class="cp">#endif //vl
</span>
				<span class="c1">// 光照衰变</span>
				<span class="n">o</span><span class="p">.</span><span class="n">ase_sh</span><span class="p">.</span><span class="n">xyz</span> <span class="o">=</span> <span class="n">ShadeSHPerVertex</span> <span class="p">(</span><span class="n">ase_worldNormal</span><span class="p">,</span> <span class="n">o</span><span class="p">.</span><span class="n">ase_sh</span><span class="p">.</span><span class="n">xyz</span><span class="p">);</span>
				<span class="cp">#endif //sh
</span>				<span class="cp">#endif //nstalm
</span>				
				<span class="n">o</span><span class="p">.</span><span class="n">ase_texcoord1</span><span class="p">.</span><span class="n">xy</span> <span class="o">=</span> <span class="n">v</span><span class="p">.</span><span class="n">ase_texcoord</span><span class="p">.</span><span class="n">xy</span><span class="p">;</span>
				
				<span class="c1">//setting value to unused interpolator channels and avoid initialization warnings</span>
				<span class="n">o</span><span class="p">.</span><span class="n">ase_texcoord</span><span class="p">.</span><span class="n">w</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
				<span class="n">o</span><span class="p">.</span><span class="n">ase_texcoord1</span><span class="p">.</span><span class="n">zw</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
				<span class="n">o</span><span class="p">.</span><span class="n">ase_texcoord2</span><span class="p">.</span><span class="n">w</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
				<span class="n">o</span><span class="p">.</span><span class="n">ase_texcoord3</span><span class="p">.</span><span class="n">w</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
				<span class="n">o</span><span class="p">.</span><span class="n">ase_texcoord4</span><span class="p">.</span><span class="n">w</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
				<span class="n">o</span><span class="p">.</span><span class="n">ase_sh</span><span class="p">.</span><span class="n">w</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
				<span class="n">float3</span> <span class="n">vertexValue</span> <span class="o">=</span> <span class="n">float3</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
				<span class="cp">#if ASE_ABSOLUTE_VERTEX_POS
</span>				<span class="n">vertexValue</span> <span class="o">=</span> <span class="n">v</span><span class="p">.</span><span class="n">vertex</span><span class="p">.</span><span class="n">xyz</span><span class="p">;</span>
				<span class="cp">#endif
</span>				<span class="n">vertexValue</span> <span class="o">=</span> <span class="n">vertexValue</span><span class="p">;</span>
				<span class="cp">#if ASE_ABSOLUTE_VERTEX_POS
</span>				<span class="n">v</span><span class="p">.</span><span class="n">vertex</span><span class="p">.</span><span class="n">xyz</span> <span class="o">=</span> <span class="n">vertexValue</span><span class="p">;</span>
				<span class="cp">#else
</span>				<span class="n">v</span><span class="p">.</span><span class="n">vertex</span><span class="p">.</span><span class="n">xyz</span> <span class="o">+=</span> <span class="n">vertexValue</span><span class="p">;</span>
				<span class="cp">#endif
</span>				<span class="n">o</span><span class="p">.</span><span class="n">vertex</span> <span class="o">=</span> <span class="n">UnityObjectToClipPos</span><span class="p">(</span><span class="n">v</span><span class="p">.</span><span class="n">vertex</span><span class="p">);</span>
				<span class="k">return</span> <span class="n">o</span><span class="p">;</span>
			<span class="p">}</span>
			
			<span class="n">fixed4</span> <span class="n">frag</span> <span class="p">(</span><span class="n">v2f</span> <span class="n">i</span> <span class="p">)</span> <span class="o">:</span> <span class="n">SV_Target</span>
			<span class="p">{</span>
				<span class="n">UNITY_SETUP_INSTANCE_ID</span><span class="p">(</span><span class="n">i</span><span class="p">);</span>
				<span class="n">UNITY_SETUP_STEREO_EYE_INDEX_POST_VERTEX</span><span class="p">(</span><span class="n">i</span><span class="p">);</span>
				<span class="n">fixed4</span> <span class="n">finalColor</span><span class="p">;</span>
				<span class="n">float4</span> <span class="n">temp_cast_0</span> <span class="o">=</span> <span class="p">(</span><span class="n">_Specular</span><span class="p">).</span><span class="n">xxxx</span><span class="p">;</span>
				<span class="n">float4</span> <span class="n">temp_output_43_0_g7</span> <span class="o">=</span> <span class="n">temp_cast_0</span><span class="p">;</span>
				<span class="n">float3</span> <span class="n">ase_worldPos</span> <span class="o">=</span> <span class="n">i</span><span class="p">.</span><span class="n">ase_texcoord</span><span class="p">.</span><span class="n">xyz</span><span class="p">;</span>
				<span class="c1">// 摄像机方向，世界坐标系</span>
				<span class="n">float3</span> <span class="n">ase_worldViewDir</span> <span class="o">=</span> <span class="n">UnityWorldSpaceViewDir</span><span class="p">(</span><span class="n">ase_worldPos</span><span class="p">);</span>
				<span class="n">ase_worldViewDir</span> <span class="o">=</span> <span class="n">normalize</span><span class="p">(</span><span class="n">ase_worldViewDir</span><span class="p">);</span>
				<span class="c1">// 灯光方向， 世界坐标系</span>
				<span class="n">float3</span> <span class="n">worldSpaceLightDir</span> <span class="o">=</span> <span class="n">UnityWorldSpaceLightDir</span><span class="p">(</span><span class="n">ase_worldPos</span><span class="p">);</span>
				<span class="c1">// 摄像机方向 + 灯光方向</span>
				<span class="n">float3</span> <span class="n">normalizeResult4_g8</span> <span class="o">=</span> <span class="n">normalize</span><span class="p">(</span> <span class="p">(</span> <span class="n">ase_worldViewDir</span> <span class="o">+</span> <span class="n">worldSpaceLightDir</span> <span class="p">)</span> <span class="p">);</span>


				<span class="c1">// 读取法线贴图</span>
				<span class="n">float2</span> <span class="n">uv_NormalTextue</span> <span class="o">=</span> <span class="n">i</span><span class="p">.</span><span class="n">ase_texcoord1</span><span class="p">.</span><span class="n">xy</span> <span class="o">*</span> <span class="n">_NormalTextue_ST</span><span class="p">.</span><span class="n">xy</span> <span class="o">+</span> <span class="n">_NormalTextue_ST</span><span class="p">.</span><span class="n">zw</span><span class="p">;</span>
				<span class="n">float3</span> <span class="n">ase_worldTangent</span> <span class="o">=</span> <span class="n">i</span><span class="p">.</span><span class="n">ase_texcoord2</span><span class="p">.</span><span class="n">xyz</span><span class="p">;</span>
				<span class="n">float3</span> <span class="n">ase_worldNormal</span> <span class="o">=</span> <span class="n">i</span><span class="p">.</span><span class="n">ase_texcoord3</span><span class="p">.</span><span class="n">xyz</span><span class="p">;</span>
				<span class="n">float3</span> <span class="n">ase_worldBitangent</span> <span class="o">=</span> <span class="n">i</span><span class="p">.</span><span class="n">ase_texcoord4</span><span class="p">.</span><span class="n">xyz</span><span class="p">;</span>
				<span class="n">float3</span> <span class="n">tanToWorld0</span> <span class="o">=</span> <span class="n">float3</span><span class="p">(</span> <span class="n">ase_worldTangent</span><span class="p">.</span><span class="n">x</span><span class="p">,</span> <span class="n">ase_worldBitangent</span><span class="p">.</span><span class="n">x</span><span class="p">,</span> <span class="n">ase_worldNormal</span><span class="p">.</span><span class="n">x</span> <span class="p">);</span>
				<span class="n">float3</span> <span class="n">tanToWorld1</span> <span class="o">=</span> <span class="n">float3</span><span class="p">(</span> <span class="n">ase_worldTangent</span><span class="p">.</span><span class="n">y</span><span class="p">,</span> <span class="n">ase_worldBitangent</span><span class="p">.</span><span class="n">y</span><span class="p">,</span> <span class="n">ase_worldNormal</span><span class="p">.</span><span class="n">y</span> <span class="p">);</span>
				<span class="n">float3</span> <span class="n">tanToWorld2</span> <span class="o">=</span> <span class="n">float3</span><span class="p">(</span> <span class="n">ase_worldTangent</span><span class="p">.</span><span class="n">z</span><span class="p">,</span> <span class="n">ase_worldBitangent</span><span class="p">.</span><span class="n">z</span><span class="p">,</span> <span class="n">ase_worldNormal</span><span class="p">.</span><span class="n">z</span> <span class="p">);</span>
				<span class="n">float3</span> <span class="n">tanNormal12_g7</span> <span class="o">=</span> <span class="n">UnpackNormal</span><span class="p">(</span> <span class="n">tex2D</span><span class="p">(</span> <span class="n">_NormalTextue</span><span class="p">,</span> <span class="n">uv_NormalTextue</span> <span class="p">)</span> <span class="p">);</span>
				<span class="c1">// 法线贴图 转 世界法线</span>
				<span class="n">float3</span> <span class="n">worldNormal12_g7</span> <span class="o">=</span> <span class="n">float3</span><span class="p">(</span><span class="n">dot</span><span class="p">(</span><span class="n">tanToWorld0</span><span class="p">,</span><span class="n">tanNormal12_g7</span><span class="p">),</span> <span class="n">dot</span><span class="p">(</span><span class="n">tanToWorld1</span><span class="p">,</span><span class="n">tanNormal12_g7</span><span class="p">),</span> <span class="n">dot</span><span class="p">(</span><span class="n">tanToWorld2</span><span class="p">,</span><span class="n">tanNormal12_g7</span><span class="p">));</span>
				<span class="n">float3</span> <span class="n">normalizeResult64_g7</span> <span class="o">=</span> <span class="n">normalize</span><span class="p">(</span> <span class="n">worldNormal12_g7</span> <span class="p">);</span>
				<span class="c1">// 根据法线贴图、计算光照</span>
				<span class="kt">float</span> <span class="n">dotResult19_g7</span> <span class="o">=</span> <span class="n">dot</span><span class="p">(</span> <span class="n">normalizeResult4_g8</span> <span class="p">,</span> <span class="n">normalizeResult64_g7</span> <span class="p">);</span>
				<span class="cp">#if defined(LIGHTMAP_ON) &amp;&amp; ( UNITY_VERSION &lt; 560 || ( defined(LIGHTMAP_SHADOW_MIXING) &amp;&amp; !defined(SHADOWS_SHADOWMASK) &amp;&amp; defined(SHADOWS_SCREEN) ) )//aselc
</span>				<span class="n">float4</span> <span class="n">ase_lightColor</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
				<span class="cp">#else //aselc
</span>				<span class="n">float4</span> <span class="n">ase_lightColor</span> <span class="o">=</span> <span class="n">_LightColor0</span><span class="p">;</span>
				<span class="cp">#endif //aselc
</span>				<span class="n">UNITY_LIGHT_ATTENUATION</span><span class="p">(</span><span class="n">ase_atten</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="n">ase_worldPos</span><span class="p">)</span>
				<span class="n">float4</span> <span class="n">temp_output_40_0_g7</span> <span class="o">=</span> <span class="p">(</span> <span class="n">ase_lightColor</span> <span class="o">*</span> <span class="n">ase_atten</span> <span class="p">);</span>
				<span class="kt">float</span> <span class="n">dotResult14_g7</span> <span class="o">=</span> <span class="n">dot</span><span class="p">(</span> <span class="n">normalizeResult64_g7</span> <span class="p">,</span> <span class="n">worldSpaceLightDir</span> <span class="p">);</span>
				<span class="n">UnityGIInput</span> <span class="n">data34_g7</span><span class="p">;</span>
				<span class="n">UNITY_INITIALIZE_OUTPUT</span><span class="p">(</span> <span class="n">UnityGIInput</span><span class="p">,</span> <span class="n">data34_g7</span> <span class="p">);</span>
				<span class="cp">#if defined(LIGHTMAP_ON) || defined(DYNAMICLIGHTMAP_ON) //dylm34_g7
</span>				<span class="n">data34_g7</span><span class="p">.</span><span class="n">lightmapUV</span> <span class="o">=</span> <span class="n">i</span><span class="p">.</span><span class="n">ase_lmap</span><span class="p">;</span>
				<span class="cp">#endif //dylm34_g7
</span>				<span class="cp">#if UNITY_SHOULD_SAMPLE_SH //fsh34_g7
</span>				<span class="n">data34_g7</span><span class="p">.</span><span class="n">ambient</span> <span class="o">=</span> <span class="n">i</span><span class="p">.</span><span class="n">ase_sh</span><span class="p">;</span>
				<span class="cp">#endif //fsh34_g7
</span>				<span class="n">UnityGI</span> <span class="n">gi34_g7</span> <span class="o">=</span> <span class="n">UnityGI_Base</span><span class="p">(</span><span class="n">data34_g7</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">normalizeResult64_g7</span><span class="p">);</span>
				<span class="n">float2</span> <span class="n">uv_DiffuseTextue</span> <span class="o">=</span> <span class="n">i</span><span class="p">.</span><span class="n">ase_texcoord1</span><span class="p">.</span><span class="n">xy</span> <span class="o">*</span> <span class="n">_DiffuseTextue_ST</span><span class="p">.</span><span class="n">xy</span> <span class="o">+</span> <span class="n">_DiffuseTextue_ST</span><span class="p">.</span><span class="n">zw</span><span class="p">;</span>
				<span class="n">float4</span> <span class="n">temp_output_42_0_g7</span> <span class="o">=</span> <span class="n">tex2D</span><span class="p">(</span> <span class="n">_DiffuseTextue</span><span class="p">,</span> <span class="n">uv_DiffuseTextue</span> <span class="p">);</span>
				
				<span class="c1">// 最终光照模型</span>
				<span class="n">finalColor</span> <span class="o">=</span> <span class="p">(</span> <span class="p">(</span> <span class="n">float4</span><span class="p">(</span> <span class="p">(</span><span class="n">temp_output_43_0_g7</span><span class="p">).</span><span class="n">rgb</span> <span class="p">,</span> <span class="mi">0</span><span class="p">.</span><span class="mi">0</span> <span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="n">temp_output_43_0_g7</span><span class="p">).</span><span class="n">a</span> <span class="o">*</span> <span class="n">pow</span><span class="p">(</span> <span class="n">max</span><span class="p">(</span> <span class="n">dotResult19_g7</span> <span class="p">,</span> <span class="mi">0</span><span class="p">.</span><span class="mi">0</span> <span class="p">)</span> <span class="p">,</span> <span class="p">(</span> <span class="n">_Shininess</span> <span class="o">*</span> <span class="mi">128</span><span class="p">.</span><span class="mi">0</span> <span class="p">)</span> <span class="p">)</span> <span class="o">*</span> <span class="n">temp_output_40_0_g7</span> <span class="p">)</span> <span class="o">+</span> <span class="p">(</span> <span class="p">(</span> <span class="p">(</span> <span class="n">temp_output_40_0_g7</span> <span class="o">*</span> <span class="n">max</span><span class="p">(</span> <span class="n">dotResult14_g7</span> <span class="p">,</span> <span class="mi">0</span><span class="p">.</span><span class="mi">0</span> <span class="p">)</span> <span class="p">)</span> <span class="o">+</span> <span class="n">float4</span><span class="p">(</span> <span class="n">gi34_g7</span><span class="p">.</span><span class="n">indirect</span><span class="p">.</span><span class="n">diffuse</span> <span class="p">,</span> <span class="mi">0</span><span class="p">.</span><span class="mi">0</span> <span class="p">)</span> <span class="p">)</span> <span class="o">*</span> <span class="n">float4</span><span class="p">(</span> <span class="p">(</span><span class="n">temp_output_42_0_g7</span><span class="p">).</span><span class="n">rgb</span> <span class="p">,</span> <span class="mi">0</span><span class="p">.</span><span class="mi">0</span> <span class="p">)</span> <span class="p">)</span> <span class="p">);</span>
				<span class="k">return</span> <span class="n">finalColor</span><span class="p">;</span>
			<span class="p">}</span>
			<span class="n">ENDCG</span>
		<span class="p">}</span>
	<span class="p">}</span>
	<span class="n">CustomEditor</span> <span class="s">"ASEMaterialInspector"</span>
	
	
<span class="p">}</span>
</code></pre></div></div>

<h3 id="fog-and-ambient-colors-雾和环境光颜色">Fog And Ambient Colors： 雾和环境光颜色</h3>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/image-20200615210807371.png" alt="image-20200615210807371" /></p>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">fixed4</span> <span class="n">finalColor</span><span class="p">;</span>
<span class="n">finalColor</span> <span class="o">=</span> <span class="n">UNITY_LIGHTMODEL_AMBIENT</span><span class="p">;</span>
</code></pre></div></div>

<p>​				<img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/image-20200615211159318.png" alt="image-20200615211159318" />
​</p>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code>			<span class="n">finalColor</span> <span class="o">=</span> <span class="n">unity_AmbientSky</span><span class="p">;</span>
</code></pre></div></div>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/image-20200615211524278.png" alt="image-20200615211524278" /></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>finalColor = unity_AmbientEquator;
</code></pre></div></div>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/image-20200615211558157.png" alt="image-20200615211558157" /></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>finalColor = unity_AmbientGround;
</code></pre></div></div>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/image-20200615211624846.png" alt="image-20200615211624846" /></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>finalColor = unity_FogColor;
</code></pre></div></div>

<h3 id="fog-params-雾参数">Fog Params: 雾参数</h3>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>float4 unity_FogParams
</code></pre></div></div>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/image-20200615211823589.png" alt="image-20200615211823589" /></p>

<table>
  <thead>
    <tr>
      <th style="text-align: center">Output Port</th>
      <th style="text-align: center">Description</th>
      <th style="text-align: center">Type</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center">Density/Sqrt(Ln(2))</td>
      <td style="text-align: center">Useful for Exp2 fog mode.</td>
      <td style="text-align: center">Float</td>
    </tr>
    <tr>
      <td style="text-align: center">Density/Ln(2)</td>
      <td style="text-align: center">Useful for Exp fog mode.</td>
      <td style="text-align: center">Float</td>
    </tr>
    <tr>
      <td style="text-align: center">-1/(End-Start)</td>
      <td style="text-align: center">Useful for Linear mode.</td>
      <td style="text-align: center">Float</td>
    </tr>
    <tr>
      <td style="text-align: center">End/(End-Start))</td>
      <td style="text-align: center">Useful for Linear mode.</td>
      <td style="text-align: center">Float</td>
    </tr>
  </tbody>
</table>

<h3 id="indirect-diffuse-light-间接漫反射">Indirect Diffuse Light: 间接漫反射</h3>

<p>间接漫射光从Unity的全局照明系统获取漫射的环境光。这相当于说它检索周围的光探测器的信息。它仅在进行某种自定义照明时很有用，因此，如果将“ <em>灯光模型”</em>设置为“ <strong>自</strong>定义照明”，则仅在可用节点菜单中可见该节点，如果该节点恰巧在其外部，则显示警告。
<strong>注意：</strong>此节点仅应用于通过“表面输出”节点与“ <strong>定制照明”</strong>输入端口建立的连接上。</p>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/IndirectDiffuseLightNode.jpg" alt="image-20200615211823589" /></p>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">Shader</span> <span class="s">"TestNode"</span>
<span class="p">{</span>
	<span class="n">Properties</span>
	<span class="p">{</span>
		<span class="n">_NormalTexture</span><span class="p">(</span><span class="s">"NormalTexture"</span><span class="p">,</span> <span class="mi">2</span><span class="n">D</span><span class="p">)</span> <span class="o">=</span> <span class="s">"bump"</span> <span class="p">{}</span>
		<span class="p">[</span><span class="n">HideInInspector</span><span class="p">]</span> <span class="n">_texcoord</span><span class="p">(</span> <span class="s">""</span><span class="p">,</span> <span class="mi">2</span><span class="n">D</span> <span class="p">)</span> <span class="o">=</span> <span class="s">"white"</span> <span class="p">{}</span>
		<span class="p">[</span><span class="n">HideInInspector</span><span class="p">]</span> <span class="n">__dirty</span><span class="p">(</span> <span class="s">""</span><span class="p">,</span> <span class="n">Int</span> <span class="p">)</span> <span class="o">=</span> <span class="mi">1</span>
	<span class="p">}</span>

	<span class="n">SubShader</span>
	<span class="p">{</span>
		<span class="n">Tags</span><span class="p">{</span> <span class="s">"RenderType"</span> <span class="o">=</span> <span class="s">"Opaque"</span>  <span class="s">"Queue"</span> <span class="o">=</span> <span class="s">"Geometry+0"</span> <span class="p">}</span>
		<span class="n">Cull</span> <span class="n">Back</span>
		<span class="n">CGINCLUDE</span>
		<span class="cp">#include "UnityPBSLighting.cginc"
</span>		<span class="cp">#include "Lighting.cginc"
</span>		<span class="cp">#pragma target 3.0
</span>		<span class="cp">#ifdef UNITY_PASS_SHADOWCASTER
</span>			<span class="cp">#undef INTERNAL_DATA
</span>			<span class="cp">#undef WorldReflectionVector
</span>			<span class="cp">#undef WorldNormalVector
</span>			<span class="cp">#define INTERNAL_DATA half3 internalSurfaceTtoW0; half3 internalSurfaceTtoW1; half3 internalSurfaceTtoW2;
</span>			<span class="cp">#define WorldReflectionVector(data,normal) reflect (data.worldRefl, half3(dot(data.internalSurfaceTtoW0,normal), dot(data.internalSurfaceTtoW1,normal), dot(data.internalSurfaceTtoW2,normal)))
</span>			<span class="cp">#define WorldNormalVector(data,normal) half3(dot(data.internalSurfaceTtoW0,normal), dot(data.internalSurfaceTtoW1,normal), dot(data.internalSurfaceTtoW2,normal))
</span>		<span class="cp">#endif
</span>		<span class="k">struct</span> <span class="n">Input</span>
		<span class="p">{</span>
			<span class="n">float3</span> <span class="n">worldNormal</span><span class="p">;</span>
			<span class="n">INTERNAL_DATA</span>
			<span class="n">float2</span> <span class="n">uv_texcoord</span><span class="p">;</span>
		<span class="p">};</span>

		<span class="k">struct</span> <span class="n">SurfaceOutputCustomLightingCustom</span>
		<span class="p">{</span>
			<span class="n">half3</span> <span class="n">Albedo</span><span class="p">;</span>
			<span class="n">half3</span> <span class="n">Normal</span><span class="p">;</span>
			<span class="n">half3</span> <span class="n">Emission</span><span class="p">;</span>
			<span class="kr">half</span> <span class="n">Metallic</span><span class="p">;</span>
			<span class="kr">half</span> <span class="n">Smoothness</span><span class="p">;</span>
			<span class="kr">half</span> <span class="n">Occlusion</span><span class="p">;</span>
			<span class="kr">half</span> <span class="n">Alpha</span><span class="p">;</span>
			<span class="n">Input</span> <span class="n">SurfInput</span><span class="p">;</span>
			<span class="n">UnityGIInput</span> <span class="n">GIData</span><span class="p">;</span>
		<span class="p">};</span>

		<span class="k">uniform</span> <span class="kt">sampler2D</span> <span class="n">_NormalTexture</span><span class="p">;</span>
		<span class="k">uniform</span> <span class="n">float4</span> <span class="n">_NormalTexture_ST</span><span class="p">;</span>

		<span class="kr">inline</span> <span class="n">half4</span> <span class="n">LightingStandardCustomLighting</span><span class="p">(</span> <span class="k">inout</span> <span class="n">SurfaceOutputCustomLightingCustom</span> <span class="n">s</span><span class="p">,</span> <span class="n">half3</span> <span class="n">viewDir</span><span class="p">,</span> <span class="n">UnityGI</span> <span class="n">gi</span> <span class="p">)</span>
		<span class="p">{</span>
			<span class="n">UnityGIInput</span> <span class="n">data</span> <span class="o">=</span> <span class="n">s</span><span class="p">.</span><span class="n">GIData</span><span class="p">;</span>
			<span class="n">Input</span> <span class="n">i</span> <span class="o">=</span> <span class="n">s</span><span class="p">.</span><span class="n">SurfInput</span><span class="p">;</span>
			<span class="n">half4</span> <span class="n">c</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
			<span class="n">float2</span> <span class="n">uv_NormalTexture</span> <span class="o">=</span> <span class="n">i</span><span class="p">.</span><span class="n">uv_texcoord</span> <span class="o">*</span> <span class="n">_NormalTexture_ST</span><span class="p">.</span><span class="n">xy</span> <span class="o">+</span> <span class="n">_NormalTexture_ST</span><span class="p">.</span><span class="n">zw</span><span class="p">;</span>
			<span class="n">UnityGI</span> <span class="n">gi718</span> <span class="o">=</span> <span class="n">gi</span><span class="p">;</span>
			<span class="n">float3</span> <span class="n">diffNorm718</span> <span class="o">=</span> <span class="p">(</span><span class="n">WorldNormalVector</span><span class="p">(</span> <span class="n">i</span> <span class="p">,</span> <span class="n">UnpackNormal</span><span class="p">(</span> <span class="n">tex2D</span><span class="p">(</span> <span class="n">_NormalTexture</span><span class="p">,</span> <span class="n">uv_NormalTexture</span> <span class="p">)</span> <span class="p">)</span> <span class="p">));</span>
			<span class="n">gi718</span> <span class="o">=</span> <span class="n">UnityGI_Base</span><span class="p">(</span> <span class="n">data</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">diffNorm718</span> <span class="p">);</span>
			<span class="n">float3</span> <span class="n">indirectDiffuse718</span> <span class="o">=</span> <span class="n">gi718</span><span class="p">.</span><span class="n">indirect</span><span class="p">.</span><span class="n">diffuse</span> <span class="o">+</span> <span class="n">diffNorm718</span> <span class="o">*</span> <span class="mi">0</span><span class="p">.</span><span class="mo">0001</span><span class="p">;</span>
			<span class="n">c</span><span class="p">.</span><span class="n">rgb</span> <span class="o">=</span> <span class="n">indirectDiffuse718</span><span class="p">;</span>
			<span class="n">c</span><span class="p">.</span><span class="n">a</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
			<span class="k">return</span> <span class="n">c</span><span class="p">;</span>
		<span class="p">}</span>

		<span class="kr">inline</span> <span class="kt">void</span> <span class="n">LightingStandardCustomLighting_GI</span><span class="p">(</span> <span class="k">inout</span> <span class="n">SurfaceOutputCustomLightingCustom</span> <span class="n">s</span><span class="p">,</span> <span class="n">UnityGIInput</span> <span class="n">data</span><span class="p">,</span> <span class="k">inout</span> <span class="n">UnityGI</span> <span class="n">gi</span> <span class="p">)</span>
		<span class="p">{</span>
			<span class="n">s</span><span class="p">.</span><span class="n">GIData</span> <span class="o">=</span> <span class="n">data</span><span class="p">;</span>
		<span class="p">}</span>

		<span class="kt">void</span> <span class="n">surf</span><span class="p">(</span> <span class="n">Input</span> <span class="n">i</span> <span class="p">,</span> <span class="k">inout</span> <span class="n">SurfaceOutputCustomLightingCustom</span> <span class="n">o</span> <span class="p">)</span>
		<span class="p">{</span>
			<span class="n">o</span><span class="p">.</span><span class="n">SurfInput</span> <span class="o">=</span> <span class="n">i</span><span class="p">;</span>
			<span class="n">o</span><span class="p">.</span><span class="n">Normal</span> <span class="o">=</span> <span class="n">float3</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">);</span>
		<span class="p">}</span>

		<span class="n">ENDCG</span>
		<span class="n">CGPROGRAM</span>
		<span class="cp">#pragma surface surf StandardCustomLighting keepalpha fullforwardshadows 
</span>
		<span class="n">ENDCG</span>
		<span class="n">Pass</span>
		<span class="p">{</span>
			<span class="n">Name</span> <span class="s">"ShadowCaster"</span>
			<span class="n">Tags</span><span class="p">{</span> <span class="s">"LightMode"</span> <span class="o">=</span> <span class="s">"ShadowCaster"</span> <span class="p">}</span>
			<span class="n">ZWrite</span> <span class="n">On</span>
			<span class="n">CGPROGRAM</span>
			<span class="cp">#pragma vertex vert
</span>			<span class="cp">#pragma fragment frag
</span>			<span class="cp">#pragma target 3.0
</span>			<span class="cp">#pragma multi_compile_shadowcaster
</span>			<span class="cp">#pragma multi_compile UNITY_PASS_SHADOWCASTER
</span>			<span class="cp">#pragma skip_variants FOG_LINEAR FOG_EXP FOG_EXP2
</span>			<span class="cp">#include "HLSLSupport.cginc"
</span>			<span class="cp">#if ( SHADER_API_D3D11 || SHADER_API_GLCORE || SHADER_API_GLES || SHADER_API_GLES3 || SHADER_API_METAL || SHADER_API_VULKAN )
</span>				<span class="cp">#define CAN_SKIP_VPOS
</span>			<span class="cp">#endif
</span>			<span class="cp">#include "UnityCG.cginc"
</span>			<span class="cp">#include "Lighting.cginc"
</span>			<span class="cp">#include "UnityPBSLighting.cginc"
</span>			<span class="k">struct</span> <span class="n">v2f</span>
			<span class="p">{</span>
				<span class="n">V2F_SHADOW_CASTER</span><span class="p">;</span>
				<span class="n">float2</span> <span class="n">customPack1</span> <span class="o">:</span> <span class="n">TEXCOORD1</span><span class="p">;</span>
				<span class="n">float4</span> <span class="n">tSpace0</span> <span class="o">:</span> <span class="n">TEXCOORD2</span><span class="p">;</span>
				<span class="n">float4</span> <span class="n">tSpace1</span> <span class="o">:</span> <span class="n">TEXCOORD3</span><span class="p">;</span>
				<span class="n">float4</span> <span class="n">tSpace2</span> <span class="o">:</span> <span class="n">TEXCOORD4</span><span class="p">;</span>
				<span class="n">UNITY_VERTEX_INPUT_INSTANCE_ID</span>
				<span class="n">UNITY_VERTEX_OUTPUT_STEREO</span>
			<span class="p">};</span>
			<span class="n">v2f</span> <span class="n">vert</span><span class="p">(</span> <span class="n">appdata_full</span> <span class="n">v</span> <span class="p">)</span>
			<span class="p">{</span>
				<span class="n">v2f</span> <span class="n">o</span><span class="p">;</span>
				<span class="n">UNITY_SETUP_INSTANCE_ID</span><span class="p">(</span> <span class="n">v</span> <span class="p">);</span>
				<span class="n">UNITY_INITIALIZE_OUTPUT</span><span class="p">(</span> <span class="n">v2f</span><span class="p">,</span> <span class="n">o</span> <span class="p">);</span>
				<span class="n">UNITY_INITIALIZE_VERTEX_OUTPUT_STEREO</span><span class="p">(</span> <span class="n">o</span> <span class="p">);</span>
				<span class="n">UNITY_TRANSFER_INSTANCE_ID</span><span class="p">(</span> <span class="n">v</span><span class="p">,</span> <span class="n">o</span> <span class="p">);</span>
				<span class="n">Input</span> <span class="n">customInputData</span><span class="p">;</span>
				<span class="n">float3</span> <span class="n">worldPos</span> <span class="o">=</span> <span class="n">mul</span><span class="p">(</span> <span class="n">unity_ObjectToWorld</span><span class="p">,</span> <span class="n">v</span><span class="p">.</span><span class="n">vertex</span> <span class="p">).</span><span class="n">xyz</span><span class="p">;</span>
				<span class="n">half3</span> <span class="n">worldNormal</span> <span class="o">=</span> <span class="n">UnityObjectToWorldNormal</span><span class="p">(</span> <span class="n">v</span><span class="p">.</span><span class="n">normal</span> <span class="p">);</span>
				<span class="n">half3</span> <span class="n">worldTangent</span> <span class="o">=</span> <span class="n">UnityObjectToWorldDir</span><span class="p">(</span> <span class="n">v</span><span class="p">.</span><span class="n">tangent</span><span class="p">.</span><span class="n">xyz</span> <span class="p">);</span>
				<span class="kr">half</span> <span class="n">tangentSign</span> <span class="o">=</span> <span class="n">v</span><span class="p">.</span><span class="n">tangent</span><span class="p">.</span><span class="n">w</span> <span class="o">*</span> <span class="n">unity_WorldTransformParams</span><span class="p">.</span><span class="n">w</span><span class="p">;</span>
				<span class="n">half3</span> <span class="n">worldBinormal</span> <span class="o">=</span> <span class="n">cross</span><span class="p">(</span> <span class="n">worldNormal</span><span class="p">,</span> <span class="n">worldTangent</span> <span class="p">)</span> <span class="o">*</span> <span class="n">tangentSign</span><span class="p">;</span>
				<span class="n">o</span><span class="p">.</span><span class="n">tSpace0</span> <span class="o">=</span> <span class="n">float4</span><span class="p">(</span> <span class="n">worldTangent</span><span class="p">.</span><span class="n">x</span><span class="p">,</span> <span class="n">worldBinormal</span><span class="p">.</span><span class="n">x</span><span class="p">,</span> <span class="n">worldNormal</span><span class="p">.</span><span class="n">x</span><span class="p">,</span> <span class="n">worldPos</span><span class="p">.</span><span class="n">x</span> <span class="p">);</span>
				<span class="n">o</span><span class="p">.</span><span class="n">tSpace1</span> <span class="o">=</span> <span class="n">float4</span><span class="p">(</span> <span class="n">worldTangent</span><span class="p">.</span><span class="n">y</span><span class="p">,</span> <span class="n">worldBinormal</span><span class="p">.</span><span class="n">y</span><span class="p">,</span> <span class="n">worldNormal</span><span class="p">.</span><span class="n">y</span><span class="p">,</span> <span class="n">worldPos</span><span class="p">.</span><span class="n">y</span> <span class="p">);</span>
				<span class="n">o</span><span class="p">.</span><span class="n">tSpace2</span> <span class="o">=</span> <span class="n">float4</span><span class="p">(</span> <span class="n">worldTangent</span><span class="p">.</span><span class="n">z</span><span class="p">,</span> <span class="n">worldBinormal</span><span class="p">.</span><span class="n">z</span><span class="p">,</span> <span class="n">worldNormal</span><span class="p">.</span><span class="n">z</span><span class="p">,</span> <span class="n">worldPos</span><span class="p">.</span><span class="n">z</span> <span class="p">);</span>
				<span class="n">o</span><span class="p">.</span><span class="n">customPack1</span><span class="p">.</span><span class="n">xy</span> <span class="o">=</span> <span class="n">customInputData</span><span class="p">.</span><span class="n">uv_texcoord</span><span class="p">;</span>
				<span class="n">o</span><span class="p">.</span><span class="n">customPack1</span><span class="p">.</span><span class="n">xy</span> <span class="o">=</span> <span class="n">v</span><span class="p">.</span><span class="n">texcoord</span><span class="p">;</span>
				<span class="n">TRANSFER_SHADOW_CASTER_NORMALOFFSET</span><span class="p">(</span> <span class="n">o</span> <span class="p">)</span>
				<span class="k">return</span> <span class="n">o</span><span class="p">;</span>
			<span class="p">}</span>
			<span class="n">half4</span> <span class="n">frag</span><span class="p">(</span> <span class="n">v2f</span> <span class="n">IN</span>
			<span class="cp">#if !defined( CAN_SKIP_VPOS )
</span>			<span class="p">,</span> <span class="n">UNITY_VPOS_TYPE</span> <span class="n">vpos</span> <span class="o">:</span> <span class="n">VPOS</span>
			<span class="cp">#endif
</span>			<span class="p">)</span> <span class="o">:</span> <span class="n">SV_Target</span>
			<span class="p">{</span>
				<span class="n">UNITY_SETUP_INSTANCE_ID</span><span class="p">(</span> <span class="n">IN</span> <span class="p">);</span>
				<span class="n">Input</span> <span class="n">surfIN</span><span class="p">;</span>
				<span class="n">UNITY_INITIALIZE_OUTPUT</span><span class="p">(</span> <span class="n">Input</span><span class="p">,</span> <span class="n">surfIN</span> <span class="p">);</span>
				<span class="n">surfIN</span><span class="p">.</span><span class="n">uv_texcoord</span> <span class="o">=</span> <span class="n">IN</span><span class="p">.</span><span class="n">customPack1</span><span class="p">.</span><span class="n">xy</span><span class="p">;</span>
				<span class="n">float3</span> <span class="n">worldPos</span> <span class="o">=</span> <span class="n">float3</span><span class="p">(</span> <span class="n">IN</span><span class="p">.</span><span class="n">tSpace0</span><span class="p">.</span><span class="n">w</span><span class="p">,</span> <span class="n">IN</span><span class="p">.</span><span class="n">tSpace1</span><span class="p">.</span><span class="n">w</span><span class="p">,</span> <span class="n">IN</span><span class="p">.</span><span class="n">tSpace2</span><span class="p">.</span><span class="n">w</span> <span class="p">);</span>
				<span class="n">half3</span> <span class="n">worldViewDir</span> <span class="o">=</span> <span class="n">normalize</span><span class="p">(</span> <span class="n">UnityWorldSpaceViewDir</span><span class="p">(</span> <span class="n">worldPos</span> <span class="p">)</span> <span class="p">);</span>
				<span class="n">surfIN</span><span class="p">.</span><span class="n">worldNormal</span> <span class="o">=</span> <span class="n">float3</span><span class="p">(</span> <span class="n">IN</span><span class="p">.</span><span class="n">tSpace0</span><span class="p">.</span><span class="n">z</span><span class="p">,</span> <span class="n">IN</span><span class="p">.</span><span class="n">tSpace1</span><span class="p">.</span><span class="n">z</span><span class="p">,</span> <span class="n">IN</span><span class="p">.</span><span class="n">tSpace2</span><span class="p">.</span><span class="n">z</span> <span class="p">);</span>
				<span class="n">surfIN</span><span class="p">.</span><span class="n">internalSurfaceTtoW0</span> <span class="o">=</span> <span class="n">IN</span><span class="p">.</span><span class="n">tSpace0</span><span class="p">.</span><span class="n">xyz</span><span class="p">;</span>
				<span class="n">surfIN</span><span class="p">.</span><span class="n">internalSurfaceTtoW1</span> <span class="o">=</span> <span class="n">IN</span><span class="p">.</span><span class="n">tSpace1</span><span class="p">.</span><span class="n">xyz</span><span class="p">;</span>
				<span class="n">surfIN</span><span class="p">.</span><span class="n">internalSurfaceTtoW2</span> <span class="o">=</span> <span class="n">IN</span><span class="p">.</span><span class="n">tSpace2</span><span class="p">.</span><span class="n">xyz</span><span class="p">;</span>
				<span class="n">SurfaceOutputCustomLightingCustom</span> <span class="n">o</span><span class="p">;</span>
				<span class="n">UNITY_INITIALIZE_OUTPUT</span><span class="p">(</span> <span class="n">SurfaceOutputCustomLightingCustom</span><span class="p">,</span> <span class="n">o</span> <span class="p">)</span>
				<span class="n">surf</span><span class="p">(</span> <span class="n">surfIN</span><span class="p">,</span> <span class="n">o</span> <span class="p">);</span>
				<span class="cp">#if defined( CAN_SKIP_VPOS )
</span>				<span class="n">float2</span> <span class="n">vpos</span> <span class="o">=</span> <span class="n">IN</span><span class="p">.</span><span class="n">pos</span><span class="p">;</span>
				<span class="cp">#endif
</span>				<span class="n">SHADOW_CASTER_FRAGMENT</span><span class="p">(</span> <span class="n">IN</span> <span class="p">)</span>
			<span class="p">}</span>
			<span class="n">ENDCG</span>
		<span class="p">}</span>
	<span class="p">}</span>
	<span class="n">Fallback</span> <span class="s">"Diffuse"</span>
	<span class="n">CustomEditor</span> <span class="s">"ASEMaterialInspector"</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="indirect-specular-light-间接镜面照明">Indirect Specular Light: 间接镜面照明</h3>

<p>间接镜面反射光从Unity的全局照明系统检索镜面反射。这等效于说它从反射探针中检索反射。它仅在进行某种自定义照明时很有用，因此，如果将“ <em>灯光模型”</em>设置为“ <strong>自</strong>定义照明”，则仅在可用节点菜单中可见该节点，如果该节点恰巧在其外部，则显示警告。 <strong>注意：</strong>此节点仅应用于通过“表面输出”节点与“ <strong>定制照明”</strong>输入端口建立的连接上。</p>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/IndirectSpecularLightNode.jpg" alt="image-20200615211823589" /></p>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/image-20200616112152138.png" alt="image-20200616112152138" /></p>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">Shader</span> <span class="s">"TestNode"</span>
<span class="p">{</span>
	<span class="n">Properties</span>
	<span class="p">{</span>
		<span class="n">_NormalTexture</span><span class="p">(</span><span class="s">"NormalTexture"</span><span class="p">,</span> <span class="mi">2</span><span class="n">D</span><span class="p">)</span> <span class="o">=</span> <span class="s">"bump"</span> <span class="p">{}</span>
		<span class="n">_Smoothness</span><span class="p">(</span><span class="s">"Smoothness"</span><span class="p">,</span> <span class="n">Range</span><span class="p">(</span> <span class="mi">0</span> <span class="p">,</span> <span class="mi">20</span><span class="p">))</span> <span class="o">=</span> <span class="mi">7</span><span class="p">.</span><span class="mi">764707</span>
		<span class="n">_Occlusion</span><span class="p">(</span><span class="s">"Occlusion"</span><span class="p">,</span> <span class="n">Range</span><span class="p">(</span> <span class="mi">0</span> <span class="p">,</span> <span class="mi">2</span><span class="p">))</span> <span class="o">=</span> <span class="mi">1</span><span class="p">.</span><span class="mi">470588</span>
		<span class="p">[</span><span class="n">HideInInspector</span><span class="p">]</span> <span class="n">_texcoord</span><span class="p">(</span> <span class="s">""</span><span class="p">,</span> <span class="mi">2</span><span class="n">D</span> <span class="p">)</span> <span class="o">=</span> <span class="s">"white"</span> <span class="p">{}</span>

	<span class="p">}</span>
	
	<span class="n">SubShader</span>
	<span class="p">{</span>
		
		
		<span class="n">Tags</span> <span class="p">{</span> <span class="s">"RenderType"</span><span class="o">=</span><span class="s">"Opaque"</span> <span class="p">}</span>
	<span class="n">LOD</span> <span class="mi">100</span>

		<span class="n">CGINCLUDE</span>
		<span class="cp">#pragma target 3.0
</span>		<span class="n">ENDCG</span>
		<span class="n">Blend</span> <span class="n">Off</span>
		<span class="n">Cull</span> <span class="n">Back</span>
		<span class="n">ColorMask</span> <span class="n">RGBA</span>
		<span class="n">ZWrite</span> <span class="n">On</span>
		<span class="n">ZTest</span> <span class="n">LEqual</span>
		<span class="n">Offset</span> <span class="mi">0</span> <span class="p">,</span> <span class="mi">0</span>
		
		
		
		<span class="n">Pass</span>
		<span class="p">{</span>
			<span class="n">Name</span> <span class="s">"Unlit"</span>
			<span class="n">Tags</span> <span class="p">{</span> <span class="s">"LightMode"</span><span class="o">=</span><span class="s">"ForwardBase"</span> <span class="p">}</span>
			<span class="n">CGPROGRAM</span>

			

			<span class="cp">#ifndef UNITY_SETUP_STEREO_EYE_INDEX_POST_VERTEX
</span>			<span class="c1">//only defining to not throw compilation error over Unity 5.5</span>
			<span class="cp">#define UNITY_SETUP_STEREO_EYE_INDEX_POST_VERTEX(input)
</span>			<span class="cp">#endif
</span>			<span class="cp">#pragma vertex vert
</span>			<span class="cp">#pragma fragment frag
</span>			<span class="cp">#pragma multi_compile_instancing
</span>			<span class="cp">#include "UnityCG.cginc"
</span>			<span class="cp">#include "Lighting.cginc"
</span>

			<span class="k">struct</span> <span class="n">appdata</span>
			<span class="p">{</span>
				<span class="n">float4</span> <span class="n">vertex</span> <span class="o">:</span> <span class="n">POSITION</span><span class="p">;</span>
				<span class="n">float4</span> <span class="n">color</span> <span class="o">:</span> <span class="n">COLOR</span><span class="p">;</span>
				<span class="n">UNITY_VERTEX_INPUT_INSTANCE_ID</span>
				<span class="n">float4</span> <span class="n">ase_texcoord</span> <span class="o">:</span> <span class="n">TEXCOORD0</span><span class="p">;</span>
				<span class="n">float4</span> <span class="n">ase_tangent</span> <span class="o">:</span> <span class="n">TANGENT</span><span class="p">;</span>
				<span class="n">float3</span> <span class="n">ase_normal</span> <span class="o">:</span> <span class="n">NORMAL</span><span class="p">;</span>
			<span class="p">};</span>
			
			<span class="k">struct</span> <span class="n">v2f</span>
			<span class="p">{</span>
				<span class="n">float4</span> <span class="n">vertex</span> <span class="o">:</span> <span class="n">SV_POSITION</span><span class="p">;</span>
				<span class="n">UNITY_VERTEX_INPUT_INSTANCE_ID</span>
				<span class="n">UNITY_VERTEX_OUTPUT_STEREO</span>
				<span class="n">float4</span> <span class="n">ase_texcoord</span> <span class="o">:</span> <span class="n">TEXCOORD0</span><span class="p">;</span>
				<span class="n">float4</span> <span class="n">ase_texcoord1</span> <span class="o">:</span> <span class="n">TEXCOORD1</span><span class="p">;</span>
				<span class="n">float4</span> <span class="n">ase_texcoord2</span> <span class="o">:</span> <span class="n">TEXCOORD2</span><span class="p">;</span>
				<span class="n">float4</span> <span class="n">ase_texcoord3</span> <span class="o">:</span> <span class="n">TEXCOORD3</span><span class="p">;</span>
				<span class="n">float4</span> <span class="n">ase_texcoord4</span> <span class="o">:</span> <span class="n">TEXCOORD4</span><span class="p">;</span>
			<span class="p">};</span>

			<span class="k">uniform</span> <span class="kt">sampler2D</span> <span class="n">_NormalTexture</span><span class="p">;</span>
			<span class="k">uniform</span> <span class="n">float4</span> <span class="n">_NormalTexture_ST</span><span class="p">;</span>
			<span class="k">uniform</span> <span class="kt">float</span> <span class="n">_Smoothness</span><span class="p">;</span>
			<span class="k">uniform</span> <span class="kt">float</span> <span class="n">_Occlusion</span><span class="p">;</span>

			
			<span class="n">v2f</span> <span class="n">vert</span> <span class="p">(</span> <span class="n">appdata</span> <span class="n">v</span> <span class="p">)</span>
			<span class="p">{</span>
				<span class="n">v2f</span> <span class="n">o</span><span class="p">;</span>
				<span class="n">UNITY_SETUP_INSTANCE_ID</span><span class="p">(</span><span class="n">v</span><span class="p">);</span>
				<span class="n">UNITY_INITIALIZE_VERTEX_OUTPUT_STEREO</span><span class="p">(</span><span class="n">o</span><span class="p">);</span>
				<span class="n">UNITY_TRANSFER_INSTANCE_ID</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="n">o</span><span class="p">);</span>

				<span class="n">float3</span> <span class="n">ase_worldPos</span> <span class="o">=</span> <span class="n">mul</span><span class="p">(</span><span class="n">unity_ObjectToWorld</span><span class="p">,</span> <span class="n">v</span><span class="p">.</span><span class="n">vertex</span><span class="p">).</span><span class="n">xyz</span><span class="p">;</span>
				<span class="n">o</span><span class="p">.</span><span class="n">ase_texcoord</span><span class="p">.</span><span class="n">xyz</span> <span class="o">=</span> <span class="n">ase_worldPos</span><span class="p">;</span>
				<span class="n">float3</span> <span class="n">ase_worldTangent</span> <span class="o">=</span> <span class="n">UnityObjectToWorldDir</span><span class="p">(</span><span class="n">v</span><span class="p">.</span><span class="n">ase_tangent</span><span class="p">);</span>
				<span class="n">o</span><span class="p">.</span><span class="n">ase_texcoord2</span><span class="p">.</span><span class="n">xyz</span> <span class="o">=</span> <span class="n">ase_worldTangent</span><span class="p">;</span>
				<span class="n">float3</span> <span class="n">ase_worldNormal</span> <span class="o">=</span> <span class="n">UnityObjectToWorldNormal</span><span class="p">(</span><span class="n">v</span><span class="p">.</span><span class="n">ase_normal</span><span class="p">);</span>
				<span class="n">o</span><span class="p">.</span><span class="n">ase_texcoord3</span><span class="p">.</span><span class="n">xyz</span> <span class="o">=</span> <span class="n">ase_worldNormal</span><span class="p">;</span>
				<span class="kt">float</span> <span class="n">ase_vertexTangentSign</span> <span class="o">=</span> <span class="n">v</span><span class="p">.</span><span class="n">ase_tangent</span><span class="p">.</span><span class="n">w</span> <span class="o">*</span> <span class="n">unity_WorldTransformParams</span><span class="p">.</span><span class="n">w</span><span class="p">;</span>
				<span class="n">float3</span> <span class="n">ase_worldBitangent</span> <span class="o">=</span> <span class="n">cross</span><span class="p">(</span> <span class="n">ase_worldNormal</span><span class="p">,</span> <span class="n">ase_worldTangent</span> <span class="p">)</span> <span class="o">*</span> <span class="n">ase_vertexTangentSign</span><span class="p">;</span>
				<span class="n">o</span><span class="p">.</span><span class="n">ase_texcoord4</span><span class="p">.</span><span class="n">xyz</span> <span class="o">=</span> <span class="n">ase_worldBitangent</span><span class="p">;</span>
				
				<span class="n">o</span><span class="p">.</span><span class="n">ase_texcoord1</span><span class="p">.</span><span class="n">xy</span> <span class="o">=</span> <span class="n">v</span><span class="p">.</span><span class="n">ase_texcoord</span><span class="p">.</span><span class="n">xy</span><span class="p">;</span>
				
				<span class="c1">//setting value to unused interpolator channels and avoid initialization warnings</span>
				<span class="n">o</span><span class="p">.</span><span class="n">ase_texcoord</span><span class="p">.</span><span class="n">w</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
				<span class="n">o</span><span class="p">.</span><span class="n">ase_texcoord1</span><span class="p">.</span><span class="n">zw</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
				<span class="n">o</span><span class="p">.</span><span class="n">ase_texcoord2</span><span class="p">.</span><span class="n">w</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
				<span class="n">o</span><span class="p">.</span><span class="n">ase_texcoord3</span><span class="p">.</span><span class="n">w</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
				<span class="n">o</span><span class="p">.</span><span class="n">ase_texcoord4</span><span class="p">.</span><span class="n">w</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
				<span class="n">float3</span> <span class="n">vertexValue</span> <span class="o">=</span> <span class="n">float3</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
				<span class="cp">#if ASE_ABSOLUTE_VERTEX_POS
</span>				<span class="n">vertexValue</span> <span class="o">=</span> <span class="n">v</span><span class="p">.</span><span class="n">vertex</span><span class="p">.</span><span class="n">xyz</span><span class="p">;</span>
				<span class="cp">#endif
</span>				<span class="n">vertexValue</span> <span class="o">=</span> <span class="n">vertexValue</span><span class="p">;</span>
				<span class="cp">#if ASE_ABSOLUTE_VERTEX_POS
</span>				<span class="n">v</span><span class="p">.</span><span class="n">vertex</span><span class="p">.</span><span class="n">xyz</span> <span class="o">=</span> <span class="n">vertexValue</span><span class="p">;</span>
				<span class="cp">#else
</span>				<span class="n">v</span><span class="p">.</span><span class="n">vertex</span><span class="p">.</span><span class="n">xyz</span> <span class="o">+=</span> <span class="n">vertexValue</span><span class="p">;</span>
				<span class="cp">#endif
</span>				<span class="n">o</span><span class="p">.</span><span class="n">vertex</span> <span class="o">=</span> <span class="n">UnityObjectToClipPos</span><span class="p">(</span><span class="n">v</span><span class="p">.</span><span class="n">vertex</span><span class="p">);</span>
				<span class="k">return</span> <span class="n">o</span><span class="p">;</span>
			<span class="p">}</span>
			
			<span class="n">fixed4</span> <span class="n">frag</span> <span class="p">(</span><span class="n">v2f</span> <span class="n">i</span> <span class="p">)</span> <span class="o">:</span> <span class="n">SV_Target</span>
			<span class="p">{</span>
				<span class="n">UNITY_SETUP_INSTANCE_ID</span><span class="p">(</span><span class="n">i</span><span class="p">);</span>
				<span class="n">UNITY_SETUP_STEREO_EYE_INDEX_POST_VERTEX</span><span class="p">(</span><span class="n">i</span><span class="p">);</span>
				<span class="n">fixed4</span> <span class="n">finalColor</span><span class="p">;</span>
				<span class="n">float3</span> <span class="n">ase_worldPos</span> <span class="o">=</span> <span class="n">i</span><span class="p">.</span><span class="n">ase_texcoord</span><span class="p">.</span><span class="n">xyz</span><span class="p">;</span>
				<span class="n">float3</span> <span class="n">ase_worldViewDir</span> <span class="o">=</span> <span class="n">UnityWorldSpaceViewDir</span><span class="p">(</span><span class="n">ase_worldPos</span><span class="p">);</span>
				<span class="n">ase_worldViewDir</span> <span class="o">=</span> <span class="n">normalize</span><span class="p">(</span><span class="n">ase_worldViewDir</span><span class="p">);</span>
				<span class="n">float2</span> <span class="n">uv_NormalTexture</span> <span class="o">=</span> <span class="n">i</span><span class="p">.</span><span class="n">ase_texcoord1</span><span class="p">.</span><span class="n">xy</span> <span class="o">*</span> <span class="n">_NormalTexture_ST</span><span class="p">.</span><span class="n">xy</span> <span class="o">+</span> <span class="n">_NormalTexture_ST</span><span class="p">.</span><span class="n">zw</span><span class="p">;</span>
				<span class="n">float3</span> <span class="n">ase_worldTangent</span> <span class="o">=</span> <span class="n">i</span><span class="p">.</span><span class="n">ase_texcoord2</span><span class="p">.</span><span class="n">xyz</span><span class="p">;</span>
				<span class="n">float3</span> <span class="n">ase_worldNormal</span> <span class="o">=</span> <span class="n">i</span><span class="p">.</span><span class="n">ase_texcoord3</span><span class="p">.</span><span class="n">xyz</span><span class="p">;</span>
				<span class="n">float3</span> <span class="n">ase_worldBitangent</span> <span class="o">=</span> <span class="n">i</span><span class="p">.</span><span class="n">ase_texcoord4</span><span class="p">.</span><span class="n">xyz</span><span class="p">;</span>
				<span class="n">float3</span> <span class="n">tanToWorld0</span> <span class="o">=</span> <span class="n">float3</span><span class="p">(</span> <span class="n">ase_worldTangent</span><span class="p">.</span><span class="n">x</span><span class="p">,</span> <span class="n">ase_worldBitangent</span><span class="p">.</span><span class="n">x</span><span class="p">,</span> <span class="n">ase_worldNormal</span><span class="p">.</span><span class="n">x</span> <span class="p">);</span>
				<span class="n">float3</span> <span class="n">tanToWorld1</span> <span class="o">=</span> <span class="n">float3</span><span class="p">(</span> <span class="n">ase_worldTangent</span><span class="p">.</span><span class="n">y</span><span class="p">,</span> <span class="n">ase_worldBitangent</span><span class="p">.</span><span class="n">y</span><span class="p">,</span> <span class="n">ase_worldNormal</span><span class="p">.</span><span class="n">y</span> <span class="p">);</span>
				<span class="n">float3</span> <span class="n">tanToWorld2</span> <span class="o">=</span> <span class="n">float3</span><span class="p">(</span> <span class="n">ase_worldTangent</span><span class="p">.</span><span class="n">z</span><span class="p">,</span> <span class="n">ase_worldBitangent</span><span class="p">.</span><span class="n">z</span><span class="p">,</span> <span class="n">ase_worldNormal</span><span class="p">.</span><span class="n">z</span> <span class="p">);</span>
				<span class="n">float3</span> <span class="n">tanNormal721</span> <span class="o">=</span> <span class="n">UnpackNormal</span><span class="p">(</span> <span class="n">tex2D</span><span class="p">(</span> <span class="n">_NormalTexture</span><span class="p">,</span> <span class="n">uv_NormalTexture</span> <span class="p">)</span> <span class="p">);</span>
				<span class="n">float3</span> <span class="n">worldNormal721</span> <span class="o">=</span> <span class="n">float3</span><span class="p">(</span><span class="n">dot</span><span class="p">(</span><span class="n">tanToWorld0</span><span class="p">,</span><span class="n">tanNormal721</span><span class="p">),</span> <span class="n">dot</span><span class="p">(</span><span class="n">tanToWorld1</span><span class="p">,</span><span class="n">tanNormal721</span><span class="p">),</span> <span class="n">dot</span><span class="p">(</span><span class="n">tanToWorld2</span><span class="p">,</span><span class="n">tanNormal721</span><span class="p">));</span>
				<span class="n">float3</span> <span class="n">tanNormal724</span> <span class="o">=</span> <span class="n">worldNormal721</span><span class="p">;</span>
				<span class="n">UnityGIInput</span> <span class="n">data</span><span class="p">;</span>
				<span class="n">UNITY_INITIALIZE_OUTPUT</span><span class="p">(</span> <span class="n">UnityGIInput</span><span class="p">,</span> <span class="n">data</span> <span class="p">);</span>
				<span class="n">data</span><span class="p">.</span><span class="n">worldPos</span> <span class="o">=</span> <span class="n">ase_worldPos</span><span class="p">;</span>
				<span class="n">data</span><span class="p">.</span><span class="n">worldViewDir</span> <span class="o">=</span> <span class="n">ase_worldViewDir</span><span class="p">;</span>
				<span class="n">data</span><span class="p">.</span><span class="n">probeHDR</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">unity_SpecCube0_HDR</span><span class="p">;</span>
				<span class="n">data</span><span class="p">.</span><span class="n">probeHDR</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">unity_SpecCube1_HDR</span><span class="p">;</span>
				<span class="cp">#if UNITY_SPECCUBE_BLENDING || UNITY_SPECCUBE_BOX_PROJECTION //specdataif0
</span>				<span class="n">data</span><span class="p">.</span><span class="n">boxMin</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">unity_SpecCube0_BoxMin</span><span class="p">;</span>
				<span class="cp">#endif //specdataif0
</span>				<span class="cp">#if UNITY_SPECCUBE_BOX_PROJECTION //specdataif1
</span>				<span class="n">data</span><span class="p">.</span><span class="n">boxMax</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">unity_SpecCube0_BoxMax</span><span class="p">;</span>
				<span class="n">data</span><span class="p">.</span><span class="n">probePosition</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">unity_SpecCube0_ProbePosition</span><span class="p">;</span>
				<span class="n">data</span><span class="p">.</span><span class="n">boxMax</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">unity_SpecCube1_BoxMax</span><span class="p">;</span>
				<span class="n">data</span><span class="p">.</span><span class="n">boxMin</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">unity_SpecCube1_BoxMin</span><span class="p">;</span>
				<span class="n">data</span><span class="p">.</span><span class="n">probePosition</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">unity_SpecCube1_ProbePosition</span><span class="p">;</span>
				<span class="cp">#endif //specdataif1
</span>				<span class="n">Unity_GlossyEnvironmentData</span> <span class="n">g724</span> <span class="o">=</span> <span class="n">UnityGlossyEnvironmentSetup</span><span class="p">(</span> <span class="n">_Smoothness</span><span class="p">,</span> <span class="n">ase_worldViewDir</span><span class="p">,</span> <span class="n">float3</span><span class="p">(</span><span class="n">dot</span><span class="p">(</span><span class="n">tanToWorld0</span><span class="p">,</span><span class="n">tanNormal724</span><span class="p">),</span> <span class="n">dot</span><span class="p">(</span><span class="n">tanToWorld1</span><span class="p">,</span><span class="n">tanNormal724</span><span class="p">),</span> <span class="n">dot</span><span class="p">(</span><span class="n">tanToWorld2</span><span class="p">,</span><span class="n">tanNormal724</span><span class="p">)),</span> <span class="n">float3</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">));</span>
				<span class="n">float3</span> <span class="n">indirectSpecular724</span> <span class="o">=</span> <span class="n">UnityGI_IndirectSpecular</span><span class="p">(</span> <span class="n">data</span><span class="p">,</span> <span class="n">_Occlusion</span><span class="p">,</span> <span class="n">float3</span><span class="p">(</span><span class="n">dot</span><span class="p">(</span><span class="n">tanToWorld0</span><span class="p">,</span><span class="n">tanNormal724</span><span class="p">),</span> <span class="n">dot</span><span class="p">(</span><span class="n">tanToWorld1</span><span class="p">,</span><span class="n">tanNormal724</span><span class="p">),</span> <span class="n">dot</span><span class="p">(</span><span class="n">tanToWorld2</span><span class="p">,</span><span class="n">tanNormal724</span><span class="p">)),</span> <span class="n">g724</span> <span class="p">);</span>
				
				
				<span class="n">finalColor</span> <span class="o">=</span> <span class="n">float4</span><span class="p">(</span> <span class="n">indirectSpecular724</span> <span class="p">,</span> <span class="mi">0</span><span class="p">.</span><span class="mi">0</span> <span class="p">);</span>
				<span class="k">return</span> <span class="n">finalColor</span><span class="p">;</span>
			<span class="p">}</span>
			<span class="n">ENDCG</span>
		<span class="p">}</span>
	<span class="p">}</span>
	<span class="n">CustomEditor</span> <span class="s">"ASEMaterialInspector"</span>
	
	
<span class="p">}</span>
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>struct Unity_GlossyEnvironmentData
{
    // - Deferred case have one cubemap
    // - Forward case can have two blended cubemap (unusual should be deprecated).

    // Surface properties use for cubemap integration
    half    roughness; // CAUTION: This is perceptualRoughness but because of compatibility this name can't be change :(
    half3   reflUVW;
};

Unity_GlossyEnvironmentData UnityGlossyEnvironmentSetup(half Smoothness, half3 worldViewDir, half3 Normal, half3 fresnel0)
{
    Unity_GlossyEnvironmentData g;

    g.roughness /* perceptualRoughness */   = SmoothnessToPerceptualRoughness(Smoothness);
    g.reflUVW   = reflect(-worldViewDir, Normal);

    return g;
}

float SmoothnessToPerceptualRoughness(float smoothness)
{
    return (1 - smoothness);
}

</code></pre></div></div>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="kr">inline</span> <span class="n">half3</span> <span class="nf">UnityGI_IndirectSpecular</span><span class="p">(</span><span class="n">UnityGIInput</span> <span class="n">data</span><span class="p">,</span> <span class="kr">half</span> <span class="n">occlusion</span><span class="p">,</span> <span class="n">Unity_GlossyEnvironmentData</span> <span class="n">glossIn</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">half3</span> <span class="n">specular</span><span class="p">;</span>

    <span class="cp">#ifdef UNITY_SPECCUBE_BOX_PROJECTION
</span>        <span class="c1">// we will tweak reflUVW in glossIn directly (as we pass it to Unity_GlossyEnvironment twice for probe0 and probe1), so keep original to pass into BoxProjectedCubemapDirection</span>
        <span class="n">half3</span> <span class="n">originalReflUVW</span> <span class="o">=</span> <span class="n">glossIn</span><span class="p">.</span><span class="n">reflUVW</span><span class="p">;</span>
        <span class="n">glossIn</span><span class="p">.</span><span class="n">reflUVW</span> <span class="o">=</span> <span class="n">BoxProjectedCubemapDirection</span> <span class="p">(</span><span class="n">originalReflUVW</span><span class="p">,</span> <span class="n">data</span><span class="p">.</span><span class="n">worldPos</span><span class="p">,</span> <span class="n">data</span><span class="p">.</span><span class="n">probePosition</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">data</span><span class="p">.</span><span class="n">boxMin</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">data</span><span class="p">.</span><span class="n">boxMax</span><span class="p">[</span><span class="mi">0</span><span class="p">]);</span>
    <span class="cp">#endif
</span>
    <span class="cp">#ifdef _GLOSSYREFLECTIONS_OFF
</span>        <span class="n">specular</span> <span class="o">=</span> <span class="n">unity_IndirectSpecColor</span><span class="p">.</span><span class="n">rgb</span><span class="p">;</span>
    <span class="cp">#else
</span>        <span class="n">half3</span> <span class="n">env0</span> <span class="o">=</span> <span class="n">Unity_GlossyEnvironment</span> <span class="p">(</span><span class="n">UNITY_PASS_TEXCUBE</span><span class="p">(</span><span class="n">unity_SpecCube0</span><span class="p">),</span> <span class="n">data</span><span class="p">.</span><span class="n">probeHDR</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">glossIn</span><span class="p">);</span>
        <span class="cp">#ifdef UNITY_SPECCUBE_BLENDING
</span>            <span class="k">const</span> <span class="kt">float</span> <span class="n">kBlendFactor</span> <span class="o">=</span> <span class="mi">0</span><span class="p">.</span><span class="mi">99999</span><span class="p">;</span>
            <span class="kt">float</span> <span class="n">blendLerp</span> <span class="o">=</span> <span class="n">data</span><span class="p">.</span><span class="n">boxMin</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="n">w</span><span class="p">;</span>
            <span class="n">UNITY_BRANCH</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">blendLerp</span> <span class="o">&lt;</span> <span class="n">kBlendFactor</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="cp">#ifdef UNITY_SPECCUBE_BOX_PROJECTION
</span>                    <span class="n">glossIn</span><span class="p">.</span><span class="n">reflUVW</span> <span class="o">=</span> <span class="n">BoxProjectedCubemapDirection</span> <span class="p">(</span><span class="n">originalReflUVW</span><span class="p">,</span> <span class="n">data</span><span class="p">.</span><span class="n">worldPos</span><span class="p">,</span> <span class="n">data</span><span class="p">.</span><span class="n">probePosition</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">data</span><span class="p">.</span><span class="n">boxMin</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">data</span><span class="p">.</span><span class="n">boxMax</span><span class="p">[</span><span class="mi">1</span><span class="p">]);</span>
                <span class="cp">#endif
</span>
                <span class="n">half3</span> <span class="n">env1</span> <span class="o">=</span> <span class="n">Unity_GlossyEnvironment</span> <span class="p">(</span><span class="n">UNITY_PASS_TEXCUBE_SAMPLER</span><span class="p">(</span><span class="n">unity_SpecCube1</span><span class="p">,</span><span class="n">unity_SpecCube0</span><span class="p">),</span> <span class="n">data</span><span class="p">.</span><span class="n">probeHDR</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">glossIn</span><span class="p">);</span>
                <span class="n">specular</span> <span class="o">=</span> <span class="n">lerp</span><span class="p">(</span><span class="n">env1</span><span class="p">,</span> <span class="n">env0</span><span class="p">,</span> <span class="n">blendLerp</span><span class="p">);</span>
            <span class="p">}</span>
            <span class="k">else</span>
            <span class="p">{</span>
                <span class="n">specular</span> <span class="o">=</span> <span class="n">env0</span><span class="p">;</span>
            <span class="p">}</span>
        <span class="cp">#else
</span>            <span class="n">specular</span> <span class="o">=</span> <span class="n">env0</span><span class="p">;</span>
        <span class="cp">#endif
</span>    <span class="cp">#endif
</span>
    <span class="k">return</span> <span class="n">specular</span> <span class="o">*</span> <span class="n">occlusion</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// Deprecated old prototype but can't be move to Deprecated.cginc file due to order dependency</span>
<span class="kr">inline</span> <span class="n">half3</span> <span class="nf">UnityGI_IndirectSpecular</span><span class="p">(</span><span class="n">UnityGIInput</span> <span class="n">data</span><span class="p">,</span> <span class="kr">half</span> <span class="n">occlusion</span><span class="p">,</span> <span class="n">half3</span> <span class="n">normalWorld</span><span class="p">,</span> <span class="n">Unity_GlossyEnvironmentData</span> <span class="n">glossIn</span><span class="p">)</span>
<span class="p">{</span>
    <span class="c1">// normalWorld is not used</span>
    <span class="k">return</span> <span class="n">UnityGI_IndirectSpecular</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">occlusion</span><span class="p">,</span> <span class="n">glossIn</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Old Unity_GlossyEnvironment signature. Kept only for backward compatibility and will be removed soon</span>
<span class="n">half3</span> <span class="nf">Unity_GlossyEnvironment</span> <span class="p">(</span><span class="n">UNITY_ARGS_TEXCUBE</span><span class="p">(</span><span class="n">tex</span><span class="p">),</span> <span class="n">half4</span> <span class="n">hdr</span><span class="p">,</span> <span class="n">half3</span> <span class="n">worldNormal</span><span class="p">,</span> <span class="kr">half</span> <span class="n">perceptualRoughness</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">Unity_GlossyEnvironmentData</span> <span class="n">g</span><span class="p">;</span>
    <span class="n">g</span><span class="p">.</span><span class="n">roughness</span> <span class="cm">/* perceptualRoughness */</span> <span class="o">=</span> <span class="n">perceptualRoughness</span><span class="p">;</span>
    <span class="n">g</span><span class="p">.</span><span class="n">reflUVW</span>   <span class="o">=</span> <span class="n">worldNormal</span><span class="p">;</span>

    <span class="k">return</span> <span class="n">Unity_GlossyEnvironment</span> <span class="p">(</span><span class="n">UNITY_PASS_TEXCUBE</span><span class="p">(</span><span class="n">tex</span><span class="p">),</span> <span class="n">hdr</span><span class="p">,</span> <span class="n">g</span><span class="p">);</span>
<span class="p">}</span>

</code></pre></div></div>

<h3 id="light-attenuation-灯光阴影">Light Attenuation: 灯光阴影</h3>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/LightAttenuationNode.jpg" alt="image-20200615211823589" /></p>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">Shader</span> <span class="s">"TestNode"</span>
<span class="p">{</span>
	<span class="n">Properties</span>
	<span class="p">{</span>
		<span class="p">[</span><span class="n">HideInInspector</span><span class="p">]</span> <span class="n">__dirty</span><span class="p">(</span> <span class="s">""</span><span class="p">,</span> <span class="n">Int</span> <span class="p">)</span> <span class="o">=</span> <span class="mi">1</span>
	<span class="p">}</span>

	<span class="n">SubShader</span>
	<span class="p">{</span>
		<span class="n">Tags</span><span class="p">{</span> <span class="s">"RenderType"</span> <span class="o">=</span> <span class="s">"Opaque"</span>  <span class="s">"Queue"</span> <span class="o">=</span> <span class="s">"Geometry+0"</span> <span class="p">}</span>
		<span class="n">Cull</span> <span class="n">Back</span>
		<span class="n">CGPROGRAM</span>
		<span class="cp">#include "UnityPBSLighting.cginc"
</span>		<span class="cp">#pragma target 3.0
</span>		<span class="cp">#pragma surface surf StandardCustomLighting keepalpha addshadow fullforwardshadows 
</span>		<span class="k">struct</span> <span class="n">Input</span>
		<span class="p">{</span>
			<span class="kr">half</span> <span class="n">filler</span><span class="p">;</span>
		<span class="p">};</span>

		<span class="k">struct</span> <span class="n">SurfaceOutputCustomLightingCustom</span>
		<span class="p">{</span>
			<span class="n">half3</span> <span class="n">Albedo</span><span class="p">;</span>
			<span class="n">half3</span> <span class="n">Normal</span><span class="p">;</span>
			<span class="n">half3</span> <span class="n">Emission</span><span class="p">;</span>
			<span class="kr">half</span> <span class="n">Metallic</span><span class="p">;</span>
			<span class="kr">half</span> <span class="n">Smoothness</span><span class="p">;</span>
			<span class="kr">half</span> <span class="n">Occlusion</span><span class="p">;</span>
			<span class="kr">half</span> <span class="n">Alpha</span><span class="p">;</span>
			<span class="n">Input</span> <span class="n">SurfInput</span><span class="p">;</span>
			<span class="n">UnityGIInput</span> <span class="n">GIData</span><span class="p">;</span>
		<span class="p">};</span>

		<span class="kr">inline</span> <span class="n">half4</span> <span class="n">LightingStandardCustomLighting</span><span class="p">(</span> <span class="k">inout</span> <span class="n">SurfaceOutputCustomLightingCustom</span> <span class="n">s</span><span class="p">,</span> <span class="n">half3</span> <span class="n">viewDir</span><span class="p">,</span> <span class="n">UnityGI</span> <span class="n">gi</span> <span class="p">)</span>
		<span class="p">{</span>
			<span class="n">UnityGIInput</span> <span class="n">data</span> <span class="o">=</span> <span class="n">s</span><span class="p">.</span><span class="n">GIData</span><span class="p">;</span>
			<span class="n">Input</span> <span class="n">i</span> <span class="o">=</span> <span class="n">s</span><span class="p">.</span><span class="n">SurfInput</span><span class="p">;</span>
			<span class="n">half4</span> <span class="n">c</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
			<span class="cp">#ifdef UNITY_PASS_FORWARDBASE
</span>			<span class="kt">float</span> <span class="n">ase_lightAtten</span> <span class="o">=</span> <span class="n">data</span><span class="p">.</span><span class="n">atten</span><span class="p">;</span>
			<span class="k">if</span><span class="p">(</span> <span class="n">_LightColor0</span><span class="p">.</span><span class="n">a</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span>
			<span class="n">ase_lightAtten</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
			<span class="cp">#else
</span>			<span class="n">float3</span> <span class="n">ase_lightAttenRGB</span> <span class="o">=</span> <span class="n">gi</span><span class="p">.</span><span class="n">light</span><span class="p">.</span><span class="n">color</span> <span class="o">/</span> <span class="p">(</span> <span class="p">(</span> <span class="n">_LightColor0</span><span class="p">.</span><span class="n">rgb</span> <span class="p">)</span> <span class="o">+</span> <span class="mi">0</span><span class="p">.</span><span class="mo">000001</span> <span class="p">);</span>
			<span class="kt">float</span> <span class="n">ase_lightAtten</span> <span class="o">=</span> <span class="n">max</span><span class="p">(</span> <span class="n">max</span><span class="p">(</span> <span class="n">ase_lightAttenRGB</span><span class="p">.</span><span class="n">r</span><span class="p">,</span> <span class="n">ase_lightAttenRGB</span><span class="p">.</span><span class="n">g</span> <span class="p">),</span> <span class="n">ase_lightAttenRGB</span><span class="p">.</span><span class="n">b</span> <span class="p">);</span>
			<span class="cp">#endif
</span>			<span class="cp">#if defined(HANDLE_SHADOWS_BLENDING_IN_GI)
</span>			<span class="kr">half</span> <span class="n">bakedAtten</span> <span class="o">=</span> <span class="n">UnitySampleBakedOcclusion</span><span class="p">(</span><span class="n">data</span><span class="p">.</span><span class="n">lightmapUV</span><span class="p">.</span><span class="n">xy</span><span class="p">,</span> <span class="n">data</span><span class="p">.</span><span class="n">worldPos</span><span class="p">);</span>
			<span class="kt">float</span> <span class="n">zDist</span> <span class="o">=</span> <span class="n">dot</span><span class="p">(</span><span class="n">_WorldSpaceCameraPos</span> <span class="o">-</span> <span class="n">data</span><span class="p">.</span><span class="n">worldPos</span><span class="p">,</span> <span class="n">UNITY_MATRIX_V</span><span class="p">[</span><span class="mi">2</span><span class="p">].</span><span class="n">xyz</span><span class="p">);</span>
			<span class="kt">float</span> <span class="n">fadeDist</span> <span class="o">=</span> <span class="n">UnityComputeShadowFadeDistance</span><span class="p">(</span><span class="n">data</span><span class="p">.</span><span class="n">worldPos</span><span class="p">,</span> <span class="n">zDist</span><span class="p">);</span>
			<span class="n">ase_lightAtten</span> <span class="o">=</span> <span class="n">UnityMixRealtimeAndBakedShadows</span><span class="p">(</span><span class="n">data</span><span class="p">.</span><span class="n">atten</span><span class="p">,</span> <span class="n">bakedAtten</span><span class="p">,</span> <span class="n">UnityComputeShadowFade</span><span class="p">(</span><span class="n">fadeDist</span><span class="p">));</span>
			<span class="cp">#endif
</span>			<span class="n">float3</span> <span class="n">temp_cast_0</span> <span class="o">=</span> <span class="p">(</span><span class="n">ase_lightAtten</span><span class="p">).</span><span class="n">xxx</span><span class="p">;</span>
			<span class="n">c</span><span class="p">.</span><span class="n">rgb</span> <span class="o">=</span> <span class="n">temp_cast_0</span><span class="p">;</span>
			<span class="n">c</span><span class="p">.</span><span class="n">a</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
			<span class="k">return</span> <span class="n">c</span><span class="p">;</span>
		<span class="p">}</span>

		<span class="kr">inline</span> <span class="kt">void</span> <span class="n">LightingStandardCustomLighting_GI</span><span class="p">(</span> <span class="k">inout</span> <span class="n">SurfaceOutputCustomLightingCustom</span> <span class="n">s</span><span class="p">,</span> <span class="n">UnityGIInput</span> <span class="n">data</span><span class="p">,</span> <span class="k">inout</span> <span class="n">UnityGI</span> <span class="n">gi</span> <span class="p">)</span>
		<span class="p">{</span>
			<span class="n">s</span><span class="p">.</span><span class="n">GIData</span> <span class="o">=</span> <span class="n">data</span><span class="p">;</span>
		<span class="p">}</span>

		<span class="kt">void</span> <span class="n">surf</span><span class="p">(</span> <span class="n">Input</span> <span class="n">i</span> <span class="p">,</span> <span class="k">inout</span> <span class="n">SurfaceOutputCustomLightingCustom</span> <span class="n">o</span> <span class="p">)</span>
		<span class="p">{</span>
			<span class="n">o</span><span class="p">.</span><span class="n">SurfInput</span> <span class="o">=</span> <span class="n">i</span><span class="p">;</span>
		<span class="p">}</span>

		<span class="n">ENDCG</span>
	<span class="p">}</span>
	<span class="n">Fallback</span> <span class="s">"Diffuse"</span>
	<span class="n">CustomEditor</span> <span class="s">"ASEMaterialInspector"</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="light-color-灯光颜色">Light Color: 灯光颜色</h3>

<p>浅色节点输出浅色信息。RGB通道不包含光色，而是光色和光强度之间相乘的结果。</p>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/LightColorNode.jpg" alt="image-20200615211823589" /></p>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#if defined(LIGHTMAP_ON) &amp;&amp; ( UNITY_VERSION &lt; 560 || ( defined(LIGHTMAP_SHADOW_MIXING) &amp;&amp; !defined(SHADOWS_SHADOWMASK) &amp;&amp; defined(SHADOWS_SCREEN) ) )//aselc
</span>	<span class="n">float4</span> <span class="n">ase_lightColor</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="cp">#else //aselc
</span>	<span class="n">float4</span> <span class="n">ase_lightColor</span> <span class="o">=</span> <span class="n">_LightColor0</span><span class="p">;</span>
<span class="cp">#endif //aselc
</span></code></pre></div></div>

<h3 id="object-space-light-dir-对象空间灯光方向-float3-v3--objspacelightdirv4">Object Space Light Dir: 对象空间灯光方向 float3 v3 = ObjSpaceLightDir(v4)</h3>

<p>“对象空间光目录”节点在对象/局部空间坐标中输出归一化的光方向向量。
对于定向光源，输出结果是光源本身的方向。至于点光源，所得的输出矢量是在光源位置和游戏对象局部空间位置之间形成的矢量。</p>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">float3</span> <span class="n">objectSpaceLightDir</span> <span class="o">=</span> <span class="n">ObjSpaceLightDir</span><span class="p">(</span><span class="n">v</span><span class="p">.</span><span class="n">vertex</span><span class="p">);</span>
</code></pre></div></div>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="c1">// Computes world space light direction, from world space position</span>
<span class="kr">inline</span> <span class="n">float3</span> <span class="nf">UnityWorldSpaceLightDir</span><span class="p">(</span> <span class="k">in</span> <span class="n">float3</span> <span class="n">worldPos</span> <span class="p">)</span>
<span class="p">{</span>
    <span class="cp">#ifndef USING_LIGHT_MULTI_COMPILE
</span>        <span class="k">return</span> <span class="n">_WorldSpaceLightPos0</span><span class="p">.</span><span class="n">xyz</span> <span class="o">-</span> <span class="n">worldPos</span> <span class="o">*</span> <span class="n">_WorldSpaceLightPos0</span><span class="p">.</span><span class="n">w</span><span class="p">;</span>
    <span class="cp">#else
</span>        <span class="cp">#ifndef USING_DIRECTIONAL_LIGHT
</span>        <span class="k">return</span> <span class="n">_WorldSpaceLightPos0</span><span class="p">.</span><span class="n">xyz</span> <span class="o">-</span> <span class="n">worldPos</span><span class="p">;</span>
        <span class="cp">#else
</span>        <span class="k">return</span> <span class="n">_WorldSpaceLightPos0</span><span class="p">.</span><span class="n">xyz</span><span class="p">;</span>
        <span class="cp">#endif
</span>    <span class="cp">#endif
</span><span class="p">}</span>

<span class="c1">// Computes world space light direction, from object space position</span>
<span class="c1">// *Legacy* Please use UnityWorldSpaceLightDir instead</span>
<span class="kr">inline</span> <span class="n">float3</span> <span class="nf">WorldSpaceLightDir</span><span class="p">(</span> <span class="k">in</span> <span class="n">float4</span> <span class="n">localPos</span> <span class="p">)</span>
<span class="p">{</span>
    <span class="n">float3</span> <span class="n">worldPos</span> <span class="o">=</span> <span class="n">mul</span><span class="p">(</span><span class="n">unity_ObjectToWorld</span><span class="p">,</span> <span class="n">localPos</span><span class="p">).</span><span class="n">xyz</span><span class="p">;</span>
    <span class="k">return</span> <span class="n">UnityWorldSpaceLightDir</span><span class="p">(</span><span class="n">worldPos</span><span class="p">);</span>
<span class="p">}</span>

<span class="c1">// Computes object space light direction</span>
<span class="kr">inline</span> <span class="n">float3</span> <span class="nf">ObjSpaceLightDir</span><span class="p">(</span> <span class="k">in</span> <span class="n">float4</span> <span class="n">v</span> <span class="p">)</span>
<span class="p">{</span>
    <span class="n">float3</span> <span class="n">objSpaceLightPos</span> <span class="o">=</span> <span class="n">mul</span><span class="p">(</span><span class="n">unity_WorldToObject</span><span class="p">,</span> <span class="n">_WorldSpaceLightPos0</span><span class="p">).</span><span class="n">xyz</span><span class="p">;</span>
    <span class="cp">#ifndef USING_LIGHT_MULTI_COMPILE
</span>        <span class="k">return</span> <span class="n">objSpaceLightPos</span><span class="p">.</span><span class="n">xyz</span> <span class="o">-</span> <span class="n">v</span><span class="p">.</span><span class="n">xyz</span> <span class="o">*</span> <span class="n">_WorldSpaceLightPos0</span><span class="p">.</span><span class="n">w</span><span class="p">;</span>
    <span class="cp">#else
</span>        <span class="cp">#ifndef USING_DIRECTIONAL_LIGHT
</span>        <span class="k">return</span> <span class="n">objSpaceLightPos</span><span class="p">.</span><span class="n">xyz</span> <span class="o">-</span> <span class="n">v</span><span class="p">.</span><span class="n">xyz</span><span class="p">;</span>
        <span class="cp">#else
</span>        <span class="k">return</span> <span class="n">objSpaceLightPos</span><span class="p">.</span><span class="n">xyz</span><span class="p">;</span>
        <span class="cp">#endif
</span>    <span class="cp">#endif
</span><span class="p">}</span>
</code></pre></div></div>

<h3 id="world-space-light-dir-世界空间灯光方向">World Space Light Dir: 世界空间灯光方向</h3>

<p>World Space Light Dir节点在世界空间坐标中输出归一化的光方向向量。
对于定向光源，输出结果是光源本身的方向。至于点光源，所得的输出矢量是在光源位置和游戏对象世界空间位置之间形成的矢量。</p>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">float3</span> <span class="n">ase_worldPos</span> <span class="o">=</span> <span class="n">mul</span><span class="p">(</span><span class="n">unity_ObjectToWorld</span><span class="p">,</span> <span class="n">v</span><span class="p">.</span><span class="n">vertex</span><span class="p">).</span><span class="n">xyz</span><span class="p">;</span>
<span class="n">float3</span> <span class="n">worldSpaceLightDir</span> <span class="o">=</span> <span class="n">UnityWorldSpaceLightDir</span><span class="p">(</span><span class="n">ase_worldPos</span><span class="p">);</span>
</code></pre></div></div>

<h3 id="world-space-light-pos-灯光信息位置方向-类型-_worldspacelightpos0">World Space Light Pos: 灯光信息（位置/方向， 类型） _WorldSpaceLightPos0</h3>

<p>根据当前的灯光类型，“ World Space Light Pos”节点可以在世界空间坐标中输出归一化的灯光方向矢量或灯光位置。
对于定向灯，“方向<a href="http://wiki.amplify.pt/index.php?title=Unity_Products:Amplify_Shader_Editor/World_Space_Light_Pos#paramDirPos">/位置”</a>输出将指定世界空间方向，“ <a href="http://wiki.amplify.pt/index.php?title=Unity_Products:Amplify_Shader_Editor/World_Space_Light_Pos#paramType">类型”</a>将设置为<strong>0</strong>。对于其他光源类型，“方向/位置”输出将指定世界空间位置，“类型”将设置为<strong>1</strong>。</p>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">_WorldSpaceLightPos0</span><span class="p">.</span><span class="n">xyzw</span>
</code></pre></div></div>

<h3 id="shade-vertex-lights-阴影顶点灯">Shade Vertex Lights: 阴影顶点灯</h3>

<p>阴影顶点照明根据给定的对象空间位置和法线，根据四个顶点照明和周围环境计算照明。</p>

<p><strong>注意：</strong>此节点仅在将其LightMode设置为Vertex的模板顶点/片段着色器上输出正确的结果。</p>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/image-20200616150709511.png" alt="image-20200616150709511" /></p>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">float3</span> <span class="n">shadeVertexLight739</span> <span class="o">=</span> <span class="n">ShadeVertexLightsFull</span><span class="p">(</span><span class="n">float4</span><span class="p">(</span> <span class="n">pos</span> <span class="p">,</span> <span class="mi">0</span><span class="p">.</span><span class="mi">0</span> <span class="p">),</span><span class="n">normal</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="nb">false</span><span class="p">);</span>
</code></pre></div></div>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="c1">// Used in Vertex pass: Calculates diffuse lighting from lightCount lights. Specifying true to spotLight is more expensive</span>
<span class="c1">// to calculate but lights are treated as spot lights otherwise they are treated as point lights.</span>
<span class="n">float3</span> <span class="nf">ShadeVertexLightsFull</span> <span class="p">(</span><span class="n">float4</span> <span class="n">vertex</span><span class="p">,</span> <span class="n">float3</span> <span class="n">normal</span><span class="p">,</span> <span class="kt">int</span> <span class="n">lightCount</span><span class="p">,</span> <span class="kt">bool</span> <span class="n">spotLight</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">float3</span> <span class="n">viewpos</span> <span class="o">=</span> <span class="n">UnityObjectToViewPos</span> <span class="p">(</span><span class="n">vertex</span><span class="p">);</span>
    <span class="n">float3</span> <span class="n">viewN</span> <span class="o">=</span> <span class="n">normalize</span> <span class="p">(</span><span class="n">mul</span> <span class="p">((</span><span class="n">float3x3</span><span class="p">)</span><span class="n">UNITY_MATRIX_IT_MV</span><span class="p">,</span> <span class="n">normal</span><span class="p">));</span>

    <span class="n">float3</span> <span class="n">lightColor</span> <span class="o">=</span> <span class="n">UNITY_LIGHTMODEL_AMBIENT</span><span class="p">.</span><span class="n">xyz</span><span class="p">;</span>
    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">lightCount</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">float3</span> <span class="n">toLight</span> <span class="o">=</span> <span class="n">unity_LightPosition</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">xyz</span> <span class="o">-</span> <span class="n">viewpos</span><span class="p">.</span><span class="n">xyz</span> <span class="o">*</span> <span class="n">unity_LightPosition</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">w</span><span class="p">;</span>
        <span class="kt">float</span> <span class="n">lengthSq</span> <span class="o">=</span> <span class="n">dot</span><span class="p">(</span><span class="n">toLight</span><span class="p">,</span> <span class="n">toLight</span><span class="p">);</span>

        <span class="c1">// don't produce NaNs if some vertex position overlaps with the light</span>
        <span class="n">lengthSq</span> <span class="o">=</span> <span class="n">max</span><span class="p">(</span><span class="n">lengthSq</span><span class="p">,</span> <span class="mi">0</span><span class="p">.</span><span class="mo">000001</span><span class="p">);</span>

        <span class="n">toLight</span> <span class="o">*=</span> <span class="n">rsqrt</span><span class="p">(</span><span class="n">lengthSq</span><span class="p">);</span>

        <span class="kt">float</span> <span class="n">atten</span> <span class="o">=</span> <span class="mi">1</span><span class="p">.</span><span class="mi">0</span> <span class="o">/</span> <span class="p">(</span><span class="mi">1</span><span class="p">.</span><span class="mi">0</span> <span class="o">+</span> <span class="n">lengthSq</span> <span class="o">*</span> <span class="n">unity_LightAtten</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">z</span><span class="p">);</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">spotLight</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="kt">float</span> <span class="n">rho</span> <span class="o">=</span> <span class="n">max</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">dot</span><span class="p">(</span><span class="n">toLight</span><span class="p">,</span> <span class="n">unity_SpotDirection</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">xyz</span><span class="p">));</span>
            <span class="kt">float</span> <span class="n">spotAtt</span> <span class="o">=</span> <span class="p">(</span><span class="n">rho</span> <span class="o">-</span> <span class="n">unity_LightAtten</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">x</span><span class="p">)</span> <span class="o">*</span> <span class="n">unity_LightAtten</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">y</span><span class="p">;</span>
            <span class="n">atten</span> <span class="o">*=</span> <span class="n">saturate</span><span class="p">(</span><span class="n">spotAtt</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="kt">float</span> <span class="n">diff</span> <span class="o">=</span> <span class="n">max</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">dot</span> <span class="p">(</span><span class="n">viewN</span><span class="p">,</span> <span class="n">toLight</span><span class="p">));</span>
        <span class="n">lightColor</span> <span class="o">+=</span> <span class="n">unity_LightColor</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">rgb</span> <span class="o">*</span> <span class="p">(</span><span class="n">diff</span> <span class="o">*</span> <span class="n">atten</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="n">lightColor</span><span class="p">;</span>
<span class="p">}</span>

<span class="n">float3</span> <span class="nf">ShadeVertexLights</span> <span class="p">(</span><span class="n">float4</span> <span class="n">vertex</span><span class="p">,</span> <span class="n">float3</span> <span class="n">normal</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">return</span> <span class="n">ShadeVertexLightsFull</span> <span class="p">(</span><span class="n">vertex</span><span class="p">,</span> <span class="n">normal</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="nb">false</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="standard-surface-light-标准表面光">Standard Surface Light: 标准表面光</h3>

<p>“标准表面光”节点提供了一种在自定义照明模式下计算“标准表面光”结果的方法。与“标准曲面”着色器一样，“ <a href="http://wiki.amplify.pt/index.php?title=Unity_Products:Amplify_Shader_Editor/Standard_Surface_Light#paramWorkflow">工作流”</a>选项可以选择“金属”或“镜面”工作<a href="http://wiki.amplify.pt/index.php?title=Unity_Products:Amplify_Shader_Editor/Standard_Surface_Light#paramWorkflow">流</a>。它仅在进行某种自定义照明时很有用，因此，如果将“ <em>灯光模型”</em>设置为“ <strong>自</strong>定义照明”，则仅在可用节点菜单中可见该节点，如果该节点恰巧在其外部，则显示警告。</p>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/StandardSurfaceLightNode.jpg" alt="image-20200616150709511" /></p>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">Shader</span> <span class="s">"TestNode"</span>
<span class="p">{</span>
	<span class="n">Properties</span>
	<span class="p">{</span>
		<span class="n">_Color0</span><span class="p">(</span><span class="s">"Color 0"</span><span class="p">,</span> <span class="n">Color</span><span class="p">)</span> <span class="o">=</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
		<span class="n">_Smoothness</span><span class="p">(</span><span class="s">"Smoothness"</span><span class="p">,</span> <span class="n">Range</span><span class="p">(</span> <span class="mi">0</span> <span class="p">,</span> <span class="mi">10</span><span class="p">))</span> <span class="o">=</span> <span class="mi">0</span>
		<span class="p">[</span><span class="n">HideInInspector</span><span class="p">]</span> <span class="n">__dirty</span><span class="p">(</span> <span class="s">""</span><span class="p">,</span> <span class="n">Int</span> <span class="p">)</span> <span class="o">=</span> <span class="mi">1</span>
	<span class="p">}</span>

	<span class="n">SubShader</span>
	<span class="p">{</span>
		<span class="n">Tags</span><span class="p">{</span> <span class="s">"RenderType"</span> <span class="o">=</span> <span class="s">"Opaque"</span>  <span class="s">"Queue"</span> <span class="o">=</span> <span class="s">"Geometry+0"</span> <span class="p">}</span>
		<span class="n">Cull</span> <span class="n">Back</span>
		<span class="n">CGINCLUDE</span>
		<span class="cp">#include "UnityPBSLighting.cginc"
</span>		<span class="cp">#include "Lighting.cginc"
</span>		<span class="cp">#pragma target 3.0
</span>		<span class="k">struct</span> <span class="n">Input</span>
		<span class="p">{</span>
			<span class="n">float3</span> <span class="n">worldNormal</span><span class="p">;</span>
		<span class="p">};</span>

		<span class="k">struct</span> <span class="n">SurfaceOutputCustomLightingCustom</span>
		<span class="p">{</span>
			<span class="n">half3</span> <span class="n">Albedo</span><span class="p">;</span>
			<span class="n">half3</span> <span class="n">Normal</span><span class="p">;</span>
			<span class="n">half3</span> <span class="n">Emission</span><span class="p">;</span>
			<span class="kr">half</span> <span class="n">Metallic</span><span class="p">;</span>
			<span class="kr">half</span> <span class="n">Smoothness</span><span class="p">;</span>
			<span class="kr">half</span> <span class="n">Occlusion</span><span class="p">;</span>
			<span class="kr">half</span> <span class="n">Alpha</span><span class="p">;</span>
			<span class="n">Input</span> <span class="n">SurfInput</span><span class="p">;</span>
			<span class="n">UnityGIInput</span> <span class="n">GIData</span><span class="p">;</span>
		<span class="p">};</span>

		<span class="k">uniform</span> <span class="n">float4</span> <span class="n">_Color0</span><span class="p">;</span>
		<span class="k">uniform</span> <span class="kt">float</span> <span class="n">_Smoothness</span><span class="p">;</span>

		<span class="kr">inline</span> <span class="n">half4</span> <span class="n">LightingStandardCustomLighting</span><span class="p">(</span> <span class="k">inout</span> <span class="n">SurfaceOutputCustomLightingCustom</span> <span class="n">s</span><span class="p">,</span> <span class="n">half3</span> <span class="n">viewDir</span><span class="p">,</span> <span class="n">UnityGI</span> <span class="n">gi</span> <span class="p">)</span>
		<span class="p">{</span>
			<span class="n">UnityGIInput</span> <span class="n">data</span> <span class="o">=</span> <span class="n">s</span><span class="p">.</span><span class="n">GIData</span><span class="p">;</span>
			<span class="n">Input</span> <span class="n">i</span> <span class="o">=</span> <span class="n">s</span><span class="p">.</span><span class="n">SurfInput</span><span class="p">;</span>
			<span class="n">half4</span> <span class="n">c</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
			<span class="n">SurfaceOutputStandard</span> <span class="n">s743</span> <span class="o">=</span> <span class="p">(</span><span class="n">SurfaceOutputStandard</span> <span class="p">)</span> <span class="mi">0</span><span class="p">;</span>
			<span class="n">s743</span><span class="p">.</span><span class="n">Albedo</span> <span class="o">=</span> <span class="n">_Color0</span><span class="p">.</span><span class="n">rgb</span><span class="p">;</span>
			<span class="n">float3</span> <span class="n">ase_worldNormal</span> <span class="o">=</span> <span class="n">i</span><span class="p">.</span><span class="n">worldNormal</span><span class="p">;</span>
			<span class="n">s743</span><span class="p">.</span><span class="n">Normal</span> <span class="o">=</span> <span class="n">ase_worldNormal</span><span class="p">;</span>
			<span class="n">s743</span><span class="p">.</span><span class="n">Emission</span> <span class="o">=</span> <span class="n">float3</span><span class="p">(</span> <span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span> <span class="p">);</span>
			<span class="n">s743</span><span class="p">.</span><span class="n">Metallic</span> <span class="o">=</span> <span class="mi">0</span><span class="p">.</span><span class="mi">0</span><span class="p">;</span>
			<span class="n">s743</span><span class="p">.</span><span class="n">Smoothness</span> <span class="o">=</span> <span class="n">_Smoothness</span><span class="p">;</span>
			<span class="n">s743</span><span class="p">.</span><span class="n">Occlusion</span> <span class="o">=</span> <span class="mi">1</span><span class="p">.</span><span class="mi">0</span><span class="p">;</span>

			<span class="n">data</span><span class="p">.</span><span class="n">light</span> <span class="o">=</span> <span class="n">gi</span><span class="p">.</span><span class="n">light</span><span class="p">;</span>

			<span class="n">UnityGI</span> <span class="n">gi743</span> <span class="o">=</span> <span class="n">gi</span><span class="p">;</span>
			<span class="cp">#ifdef UNITY_PASS_FORWARDBASE
</span>			<span class="n">Unity_GlossyEnvironmentData</span> <span class="n">g743</span> <span class="o">=</span> <span class="n">UnityGlossyEnvironmentSetup</span><span class="p">(</span> <span class="n">s743</span><span class="p">.</span><span class="n">Smoothness</span><span class="p">,</span> <span class="n">data</span><span class="p">.</span><span class="n">worldViewDir</span><span class="p">,</span> <span class="n">s743</span><span class="p">.</span><span class="n">Normal</span><span class="p">,</span> <span class="n">float3</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">));</span>
			<span class="n">gi743</span> <span class="o">=</span> <span class="n">UnityGlobalIllumination</span><span class="p">(</span> <span class="n">data</span><span class="p">,</span> <span class="n">s743</span><span class="p">.</span><span class="n">Occlusion</span><span class="p">,</span> <span class="n">s743</span><span class="p">.</span><span class="n">Normal</span><span class="p">,</span> <span class="n">g743</span> <span class="p">);</span>
			<span class="cp">#endif
</span>
			<span class="n">float3</span> <span class="n">surfResult743</span> <span class="o">=</span> <span class="n">LightingStandard</span> <span class="p">(</span> <span class="n">s743</span><span class="p">,</span> <span class="n">viewDir</span><span class="p">,</span> <span class="n">gi743</span> <span class="p">).</span><span class="n">rgb</span><span class="p">;</span>
			<span class="n">surfResult743</span> <span class="o">+=</span> <span class="n">s743</span><span class="p">.</span><span class="n">Emission</span><span class="p">;</span>

			<span class="cp">#ifdef UNITY_PASS_FORWARDADD//743
</span>			<span class="n">surfResult743</span> <span class="o">-=</span> <span class="n">s743</span><span class="p">.</span><span class="n">Emission</span><span class="p">;</span>
			<span class="cp">#endif//743
</span>			<span class="n">c</span><span class="p">.</span><span class="n">rgb</span> <span class="o">=</span> <span class="n">surfResult743</span><span class="p">;</span>
			<span class="n">c</span><span class="p">.</span><span class="n">a</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
			<span class="k">return</span> <span class="n">c</span><span class="p">;</span>
		<span class="p">}</span>

		<span class="kr">inline</span> <span class="kt">void</span> <span class="n">LightingStandardCustomLighting_GI</span><span class="p">(</span> <span class="k">inout</span> <span class="n">SurfaceOutputCustomLightingCustom</span> <span class="n">s</span><span class="p">,</span> <span class="n">UnityGIInput</span> <span class="n">data</span><span class="p">,</span> <span class="k">inout</span> <span class="n">UnityGI</span> <span class="n">gi</span> <span class="p">)</span>
		<span class="p">{</span>
			<span class="n">s</span><span class="p">.</span><span class="n">GIData</span> <span class="o">=</span> <span class="n">data</span><span class="p">;</span>
		<span class="p">}</span>

		<span class="kt">void</span> <span class="n">surf</span><span class="p">(</span> <span class="n">Input</span> <span class="n">i</span> <span class="p">,</span> <span class="k">inout</span> <span class="n">SurfaceOutputCustomLightingCustom</span> <span class="n">o</span> <span class="p">)</span>
		<span class="p">{</span>
			<span class="n">o</span><span class="p">.</span><span class="n">SurfInput</span> <span class="o">=</span> <span class="n">i</span><span class="p">;</span>
		<span class="p">}</span>

		<span class="n">ENDCG</span>
		<span class="n">CGPROGRAM</span>
		<span class="cp">#pragma surface surf StandardCustomLighting keepalpha fullforwardshadows 
</span>
		<span class="n">ENDCG</span>
		<span class="n">Pass</span>
		<span class="p">{</span>
			<span class="n">Name</span> <span class="s">"ShadowCaster"</span>
			<span class="n">Tags</span><span class="p">{</span> <span class="s">"LightMode"</span> <span class="o">=</span> <span class="s">"ShadowCaster"</span> <span class="p">}</span>
			<span class="n">ZWrite</span> <span class="n">On</span>
			<span class="n">CGPROGRAM</span>
			<span class="cp">#pragma vertex vert
</span>			<span class="cp">#pragma fragment frag
</span>			<span class="cp">#pragma target 3.0
</span>			<span class="cp">#pragma multi_compile_shadowcaster
</span>			<span class="cp">#pragma multi_compile UNITY_PASS_SHADOWCASTER
</span>			<span class="cp">#pragma skip_variants FOG_LINEAR FOG_EXP FOG_EXP2
</span>			<span class="cp">#include "HLSLSupport.cginc"
</span>			<span class="cp">#if ( SHADER_API_D3D11 || SHADER_API_GLCORE || SHADER_API_GLES || SHADER_API_GLES3 || SHADER_API_METAL || SHADER_API_VULKAN )
</span>				<span class="cp">#define CAN_SKIP_VPOS
</span>			<span class="cp">#endif
</span>			<span class="cp">#include "UnityCG.cginc"
</span>			<span class="cp">#include "Lighting.cginc"
</span>			<span class="cp">#include "UnityPBSLighting.cginc"
</span>			<span class="k">struct</span> <span class="n">v2f</span>
			<span class="p">{</span>
				<span class="n">V2F_SHADOW_CASTER</span><span class="p">;</span>
				<span class="n">float3</span> <span class="n">worldPos</span> <span class="o">:</span> <span class="n">TEXCOORD1</span><span class="p">;</span>
				<span class="n">float3</span> <span class="n">worldNormal</span> <span class="o">:</span> <span class="n">TEXCOORD2</span><span class="p">;</span>
				<span class="n">UNITY_VERTEX_INPUT_INSTANCE_ID</span>
				<span class="n">UNITY_VERTEX_OUTPUT_STEREO</span>
			<span class="p">};</span>
			<span class="n">v2f</span> <span class="n">vert</span><span class="p">(</span> <span class="n">appdata_full</span> <span class="n">v</span> <span class="p">)</span>
			<span class="p">{</span>
				<span class="n">v2f</span> <span class="n">o</span><span class="p">;</span>
				<span class="n">UNITY_SETUP_INSTANCE_ID</span><span class="p">(</span> <span class="n">v</span> <span class="p">);</span>
				<span class="n">UNITY_INITIALIZE_OUTPUT</span><span class="p">(</span> <span class="n">v2f</span><span class="p">,</span> <span class="n">o</span> <span class="p">);</span>
				<span class="n">UNITY_INITIALIZE_VERTEX_OUTPUT_STEREO</span><span class="p">(</span> <span class="n">o</span> <span class="p">);</span>
				<span class="n">UNITY_TRANSFER_INSTANCE_ID</span><span class="p">(</span> <span class="n">v</span><span class="p">,</span> <span class="n">o</span> <span class="p">);</span>
				<span class="n">float3</span> <span class="n">worldPos</span> <span class="o">=</span> <span class="n">mul</span><span class="p">(</span> <span class="n">unity_ObjectToWorld</span><span class="p">,</span> <span class="n">v</span><span class="p">.</span><span class="n">vertex</span> <span class="p">).</span><span class="n">xyz</span><span class="p">;</span>
				<span class="n">half3</span> <span class="n">worldNormal</span> <span class="o">=</span> <span class="n">UnityObjectToWorldNormal</span><span class="p">(</span> <span class="n">v</span><span class="p">.</span><span class="n">normal</span> <span class="p">);</span>
				<span class="n">o</span><span class="p">.</span><span class="n">worldNormal</span> <span class="o">=</span> <span class="n">worldNormal</span><span class="p">;</span>
				<span class="n">o</span><span class="p">.</span><span class="n">worldPos</span> <span class="o">=</span> <span class="n">worldPos</span><span class="p">;</span>
				<span class="n">TRANSFER_SHADOW_CASTER_NORMALOFFSET</span><span class="p">(</span> <span class="n">o</span> <span class="p">)</span>
				<span class="k">return</span> <span class="n">o</span><span class="p">;</span>
			<span class="p">}</span>
			<span class="n">half4</span> <span class="n">frag</span><span class="p">(</span> <span class="n">v2f</span> <span class="n">IN</span>
			<span class="cp">#if !defined( CAN_SKIP_VPOS )
</span>			<span class="p">,</span> <span class="n">UNITY_VPOS_TYPE</span> <span class="n">vpos</span> <span class="o">:</span> <span class="n">VPOS</span>
			<span class="cp">#endif
</span>			<span class="p">)</span> <span class="o">:</span> <span class="n">SV_Target</span>
			<span class="p">{</span>
				<span class="n">UNITY_SETUP_INSTANCE_ID</span><span class="p">(</span> <span class="n">IN</span> <span class="p">);</span>
				<span class="n">Input</span> <span class="n">surfIN</span><span class="p">;</span>
				<span class="n">UNITY_INITIALIZE_OUTPUT</span><span class="p">(</span> <span class="n">Input</span><span class="p">,</span> <span class="n">surfIN</span> <span class="p">);</span>
				<span class="n">float3</span> <span class="n">worldPos</span> <span class="o">=</span> <span class="n">IN</span><span class="p">.</span><span class="n">worldPos</span><span class="p">;</span>
				<span class="n">half3</span> <span class="n">worldViewDir</span> <span class="o">=</span> <span class="n">normalize</span><span class="p">(</span> <span class="n">UnityWorldSpaceViewDir</span><span class="p">(</span> <span class="n">worldPos</span> <span class="p">)</span> <span class="p">);</span>
				<span class="n">surfIN</span><span class="p">.</span><span class="n">worldNormal</span> <span class="o">=</span> <span class="n">IN</span><span class="p">.</span><span class="n">worldNormal</span><span class="p">;</span>
				<span class="n">SurfaceOutputCustomLightingCustom</span> <span class="n">o</span><span class="p">;</span>
				<span class="n">UNITY_INITIALIZE_OUTPUT</span><span class="p">(</span> <span class="n">SurfaceOutputCustomLightingCustom</span><span class="p">,</span> <span class="n">o</span> <span class="p">)</span>
				<span class="n">surf</span><span class="p">(</span> <span class="n">surfIN</span><span class="p">,</span> <span class="n">o</span> <span class="p">);</span>
				<span class="cp">#if defined( CAN_SKIP_VPOS )
</span>				<span class="n">float2</span> <span class="n">vpos</span> <span class="o">=</span> <span class="n">IN</span><span class="p">.</span><span class="n">pos</span><span class="p">;</span>
				<span class="cp">#endif
</span>				<span class="n">SHADOW_CASTER_FRAGMENT</span><span class="p">(</span> <span class="n">IN</span> <span class="p">)</span>
			<span class="p">}</span>
			<span class="n">ENDCG</span>
		<span class="p">}</span>
	<span class="p">}</span>
	<span class="n">Fallback</span> <span class="s">"Diffuse"</span>
	<span class="n">CustomEditor</span> <span class="s">"ASEMaterialInspector"</span>
<span class="p">}</span>
</code></pre></div></div>

<h1 id="surface-data-表面数据">Surface Data: 表面数据</h1>

<h3 id="bling-phong-half-vector-世界坐标系-视角和灯光方向之和normalize-worldviewdir--worldspacelightdir--">Bling-Phong Half Vector: 世界坐标系， 视角和灯光方向之和。normalize( worldViewDir + worldSpaceLightDir  )</h3>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">float3</span> <span class="n">ase_worldPos</span> <span class="o">=</span> <span class="n">i</span><span class="p">.</span><span class="n">ase_texcoord</span><span class="p">.</span><span class="n">xyz</span><span class="p">;</span>
<span class="n">float3</span> <span class="n">ase_worldViewDir</span> <span class="o">=</span> <span class="n">UnityWorldSpaceViewDir</span><span class="p">(</span><span class="n">ase_worldPos</span><span class="p">);</span>
<span class="n">ase_worldViewDir</span> <span class="o">=</span> <span class="n">normalize</span><span class="p">(</span><span class="n">ase_worldViewDir</span><span class="p">);</span>
<span class="n">float3</span> <span class="n">worldSpaceLightDir</span> <span class="o">=</span> <span class="n">UnityWorldSpaceLightDir</span><span class="p">(</span><span class="n">ase_worldPos</span><span class="p">);</span>
<span class="n">float3</span> <span class="n">normalizeResult4_g1</span> <span class="o">=</span> <span class="n">normalize</span><span class="p">(</span> <span class="p">(</span> <span class="n">ase_worldViewDir</span> <span class="o">+</span> <span class="n">worldSpaceLightDir</span> <span class="p">)</span> <span class="p">);</span>
</code></pre></div></div>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/image-20200616155223531.png" alt="image-20200616155223531" /></p>

<h3 id="depth-fade-深度淡入淡出">Depth Fade: 深度淡入淡出</h3>

<p>深度淡入淡出节点会输出线性渐变，该线性渐变表示对象的表面与其后的几何图形之间的距离。可以通过调整“ <a href="http://wiki.amplify.pt/index.php?title=Unity_Products:Amplify_Shader_Editor/Depth_Fade#paramDistance">距离”</a>参数来设置渐变范围或渐变距离。
更具体地说，此参数的作用是在对象的表面与其后的几何图形之间的距离在指定的值内时，创建一个[0 1]范围内的值。
<strong>注意：</strong>着色器的“ <strong>渲染队列”</strong>值必须设置为“ <strong>透明”</strong>或更高（pe <strong>混合模式</strong>设置为“ <strong>透明”</strong>或“ <strong>半透明”）</strong>），因此不会将对象写入深度缓冲区。这是必不可少的配置，因为节点在内部通过将<a href="http://wiki.amplify.pt/index.php?title=Unity_Products:Amplify_Shader_Editor/Surface_Depth">表面深度</a>减去在深度缓冲区中获取的值来计算距离值。如果将对象写入深度缓冲区，则此操作将产生意外的结果。</p>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/DepthFadeNode.jpg" alt="image-20200616155223531" /></p>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">Shader</span> <span class="s">"TestNode"</span>
<span class="p">{</span>
	<span class="n">Properties</span>
	<span class="p">{</span>
		<span class="n">_Distance</span><span class="p">(</span><span class="s">"Distance"</span><span class="p">,</span> <span class="n">Range</span><span class="p">(</span> <span class="mi">0</span> <span class="p">,</span> <span class="mi">10</span><span class="p">))</span> <span class="o">=</span> <span class="mi">0</span>
		<span class="p">[</span><span class="n">HideInInspector</span><span class="p">]</span> <span class="n">__dirty</span><span class="p">(</span> <span class="s">""</span><span class="p">,</span> <span class="n">Int</span> <span class="p">)</span> <span class="o">=</span> <span class="mi">1</span>
	<span class="p">}</span>

	<span class="n">SubShader</span>
	<span class="p">{</span>
		<span class="n">Tags</span><span class="p">{</span> <span class="s">"RenderType"</span> <span class="o">=</span> <span class="s">"Opaque"</span>  <span class="s">"Queue"</span> <span class="o">=</span> <span class="s">"Geometry+0"</span> <span class="s">"IsEmissive"</span> <span class="o">=</span> <span class="s">"true"</span>  <span class="p">}</span>
		<span class="n">Cull</span> <span class="n">Back</span>
		<span class="n">CGPROGRAM</span>
		<span class="cp">#include "UnityCG.cginc"
</span>		<span class="cp">#pragma target 3.0
</span>		<span class="cp">#pragma surface surf Unlit keepalpha addshadow fullforwardshadows 
</span>		<span class="k">struct</span> <span class="n">Input</span>
		<span class="p">{</span>
			<span class="n">float4</span> <span class="n">screenPos</span><span class="p">;</span>
		<span class="p">};</span>

		<span class="n">UNITY_DECLARE_DEPTH_TEXTURE</span><span class="p">(</span> <span class="n">_CameraDepthTexture</span> <span class="p">);</span>
		<span class="k">uniform</span> <span class="n">float4</span> <span class="n">_CameraDepthTexture_TexelSize</span><span class="p">;</span>
		<span class="k">uniform</span> <span class="kt">float</span> <span class="n">_Distance</span><span class="p">;</span>

		<span class="kr">inline</span> <span class="n">half4</span> <span class="n">LightingUnlit</span><span class="p">(</span> <span class="n">SurfaceOutput</span> <span class="n">s</span><span class="p">,</span> <span class="n">half3</span> <span class="n">lightDir</span><span class="p">,</span> <span class="kr">half</span> <span class="n">atten</span> <span class="p">)</span>
		<span class="p">{</span>
			<span class="k">return</span> <span class="n">half4</span> <span class="p">(</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">s</span><span class="p">.</span><span class="n">Alpha</span> <span class="p">);</span>
		<span class="p">}</span>

		<span class="kt">void</span> <span class="n">surf</span><span class="p">(</span> <span class="n">Input</span> <span class="n">i</span> <span class="p">,</span> <span class="k">inout</span> <span class="n">SurfaceOutput</span> <span class="n">o</span> <span class="p">)</span>
		<span class="p">{</span>
			<span class="n">float4</span> <span class="n">ase_screenPos</span> <span class="o">=</span> <span class="n">float4</span><span class="p">(</span> <span class="n">i</span><span class="p">.</span><span class="n">screenPos</span><span class="p">.</span><span class="n">xyz</span> <span class="p">,</span> <span class="n">i</span><span class="p">.</span><span class="n">screenPos</span><span class="p">.</span><span class="n">w</span> <span class="o">+</span> <span class="mi">0</span><span class="p">.</span><span class="mo">00000000001</span> <span class="p">);</span>
			<span class="n">float4</span> <span class="n">ase_screenPosNorm</span> <span class="o">=</span> <span class="n">ase_screenPos</span> <span class="o">/</span> <span class="n">ase_screenPos</span><span class="p">.</span><span class="n">w</span><span class="p">;</span>
			<span class="n">ase_screenPosNorm</span><span class="p">.</span><span class="n">z</span> <span class="o">=</span> <span class="p">(</span> <span class="n">UNITY_NEAR_CLIP_VALUE</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="p">)</span> <span class="o">?</span> <span class="n">ase_screenPosNorm</span><span class="p">.</span><span class="n">z</span> <span class="o">:</span> <span class="n">ase_screenPosNorm</span><span class="p">.</span><span class="n">z</span> <span class="o">*</span> <span class="mi">0</span><span class="p">.</span><span class="mi">5</span> <span class="o">+</span> <span class="mi">0</span><span class="p">.</span><span class="mi">5</span><span class="p">;</span>
			<span class="kt">float</span> <span class="n">screenDepth754</span> <span class="o">=</span> <span class="n">LinearEyeDepth</span><span class="p">(</span><span class="n">SAMPLE_DEPTH_TEXTURE</span><span class="p">(</span> <span class="n">_CameraDepthTexture</span><span class="p">,</span> <span class="n">ase_screenPosNorm</span><span class="p">.</span><span class="n">xy</span> <span class="p">));</span>
			<span class="kt">float</span> <span class="n">distanceDepth754</span> <span class="o">=</span> <span class="n">abs</span><span class="p">(</span> <span class="p">(</span> <span class="n">screenDepth754</span> <span class="o">-</span> <span class="n">LinearEyeDepth</span><span class="p">(</span> <span class="n">ase_screenPosNorm</span><span class="p">.</span><span class="n">z</span> <span class="p">)</span> <span class="p">)</span> <span class="o">/</span> <span class="p">(</span> <span class="n">_Distance</span> <span class="p">)</span> <span class="p">);</span>
			<span class="n">float3</span> <span class="n">temp_cast_0</span> <span class="o">=</span> <span class="p">(</span><span class="n">distanceDepth754</span><span class="p">).</span><span class="n">xxx</span><span class="p">;</span>
			<span class="n">o</span><span class="p">.</span><span class="n">Emission</span> <span class="o">=</span> <span class="n">temp_cast_0</span><span class="p">;</span>
			<span class="n">o</span><span class="p">.</span><span class="n">Alpha</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
		<span class="p">}</span>

		<span class="n">ENDCG</span>
	<span class="p">}</span>
	<span class="n">Fallback</span> <span class="s">"Diffuse"</span>
	<span class="n">CustomEditor</span> <span class="s">"ASEMaterialInspector"</span>
<span class="p">}</span>
</code></pre></div></div>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Z buffer to linear 0..1 depth</span>
<span class="kr">inline</span> <span class="kt">float</span> <span class="nf">Linear01Depth</span><span class="p">(</span> <span class="kt">float</span> <span class="n">z</span> <span class="p">)</span>
<span class="p">{</span>
    <span class="k">return</span> <span class="mi">1</span><span class="p">.</span><span class="mi">0</span> <span class="o">/</span> <span class="p">(</span><span class="n">_ZBufferParams</span><span class="p">.</span><span class="n">x</span> <span class="o">*</span> <span class="n">z</span> <span class="o">+</span> <span class="n">_ZBufferParams</span><span class="p">.</span><span class="n">y</span><span class="p">);</span>
<span class="p">}</span>
<span class="c1">// Z buffer to linear depth</span>
<span class="kr">inline</span> <span class="kt">float</span> <span class="nf">LinearEyeDepth</span><span class="p">(</span> <span class="kt">float</span> <span class="n">z</span> <span class="p">)</span>
<span class="p">{</span>
    <span class="k">return</span> <span class="mi">1</span><span class="p">.</span><span class="mi">0</span> <span class="o">/</span> <span class="p">(</span><span class="n">_ZBufferParams</span><span class="p">.</span><span class="n">z</span> <span class="o">*</span> <span class="n">z</span> <span class="o">+</span> <span class="n">_ZBufferParams</span><span class="p">.</span><span class="n">w</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="fresnel-菲涅耳">Fresnel: 菲涅耳</h3>

<p><strong>ReflectionCoefficient = <a href="http://wiki.amplify.pt/index.php?title=Unity_Products:Amplify_Shader_Editor/Fresnel#paramBias">Bias</a> + <a href="http://wiki.amplify.pt/index.php?title=Unity_Products:Amplify_Shader_Editor/Fresnel#paramScale">Scale</a> x ( 1 + <a href="http://wiki.amplify.pt/index.php?title=Unity_Products:Amplify_Shader_Editor/Fresnel#paramNormal">N</a>.I )<a href="http://wiki.amplify.pt/index.php?title=Unity_Products:Amplify_Shader_Editor/Fresnel#paramPower">Power</a></strong></p>

<p>菲涅耳节点输出菲涅耳效果的结果。它定义了光到达具有不同折射率的两种材料之间的界面时的行为，反射和折射的量。
该节点在与该反射部分特定的交易，并计算其由下面的表达式定义的菲涅耳反射系数<strong>ReflectionCoefficient = <a href="http://wiki.amplify.pt/index.php?title=Unity_Products:Amplify_Shader_Editor/Fresnel#paramBias">偏置</a> + <a href="http://wiki.amplify.pt/index.php?title=Unity_Products:Amplify_Shader_Editor/Fresnel#paramScale">量表</a> ×（1 + <a href="http://wiki.amplify.pt/index.php?title=Unity_Products:Amplify_Shader_Editor/Fresnel#paramNormal">Ñ</a> .I）<a href="http://wiki.amplify.pt/index.php?title=Unity_Products:Amplify_Shader_Editor/Fresnel#paramPower">电源</a>。
**方程的每个成员都可以修改，但</strong>I<strong>变量除外，该</strong>I**变量定义了从摄像机到对象的入射向量，并由该节点在内部将其计算为反向的“世界视图方向”向量</p>

<p>。</p>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/FresnelNode.jpg" alt="image-20200616155223531" /></p>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/image-20200616163303625.png" alt="image-20200616163303625" /></p>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">Shader</span> <span class="s">"TestNode"</span>
<span class="p">{</span>
	<span class="n">Properties</span>
	<span class="p">{</span>
		<span class="n">_NormalTexture</span><span class="p">(</span><span class="s">"NormalTexture"</span><span class="p">,</span> <span class="mi">2</span><span class="n">D</span><span class="p">)</span> <span class="o">=</span> <span class="s">"bump"</span> <span class="p">{}</span>
		<span class="n">_Bias</span><span class="p">(</span><span class="s">"Bias"</span><span class="p">,</span> <span class="n">Range</span><span class="p">(</span> <span class="mi">0</span> <span class="p">,</span> <span class="mi">2</span><span class="p">))</span> <span class="o">=</span> <span class="mi">0</span>
		<span class="n">_Scale</span><span class="p">(</span><span class="s">"Scale"</span><span class="p">,</span> <span class="n">Range</span><span class="p">(</span> <span class="mi">0</span> <span class="p">,</span> <span class="mi">10</span><span class="p">))</span> <span class="o">=</span> <span class="mi">0</span>
		<span class="n">_Power</span><span class="p">(</span><span class="s">"Power"</span><span class="p">,</span> <span class="n">Range</span><span class="p">(</span> <span class="mi">0</span> <span class="p">,</span> <span class="mi">10</span><span class="p">))</span> <span class="o">=</span> <span class="mi">0</span>
		<span class="p">[</span><span class="n">HideInInspector</span><span class="p">]</span> <span class="n">_texcoord</span><span class="p">(</span> <span class="s">""</span><span class="p">,</span> <span class="mi">2</span><span class="n">D</span> <span class="p">)</span> <span class="o">=</span> <span class="s">"white"</span> <span class="p">{}</span>

	<span class="p">}</span>
	
	<span class="n">SubShader</span>
	<span class="p">{</span>
		
		
		<span class="n">Tags</span> <span class="p">{</span> <span class="s">"RenderType"</span><span class="o">=</span><span class="s">"Opaque"</span> <span class="p">}</span>
	<span class="n">LOD</span> <span class="mi">100</span>

		<span class="n">CGINCLUDE</span>
		<span class="cp">#pragma target 3.0
</span>		<span class="n">ENDCG</span>
		<span class="n">Blend</span> <span class="n">Off</span>
		<span class="n">Cull</span> <span class="n">Back</span>
		<span class="n">ColorMask</span> <span class="n">RGBA</span>
		<span class="n">ZWrite</span> <span class="n">On</span>
		<span class="n">ZTest</span> <span class="n">LEqual</span>
		<span class="n">Offset</span> <span class="mi">0</span> <span class="p">,</span> <span class="mi">0</span>
		
		
		
		<span class="n">Pass</span>
		<span class="p">{</span>
			<span class="n">Name</span> <span class="s">"Unlit"</span>
			<span class="n">Tags</span> <span class="p">{</span> <span class="s">"LightMode"</span><span class="o">=</span><span class="s">"ForwardBase"</span> <span class="p">}</span>
			<span class="n">CGPROGRAM</span>

			

			<span class="cp">#ifndef UNITY_SETUP_STEREO_EYE_INDEX_POST_VERTEX
</span>			<span class="c1">//only defining to not throw compilation error over Unity 5.5</span>
			<span class="cp">#define UNITY_SETUP_STEREO_EYE_INDEX_POST_VERTEX(input)
</span>			<span class="cp">#endif
</span>			<span class="cp">#pragma vertex vert
</span>			<span class="cp">#pragma fragment frag
</span>			<span class="cp">#pragma multi_compile_instancing
</span>			<span class="cp">#include "UnityCG.cginc"
</span>			

			<span class="k">struct</span> <span class="n">appdata</span>
			<span class="p">{</span>
				<span class="n">float4</span> <span class="n">vertex</span> <span class="o">:</span> <span class="n">POSITION</span><span class="p">;</span>
				<span class="n">float4</span> <span class="n">color</span> <span class="o">:</span> <span class="n">COLOR</span><span class="p">;</span>
				<span class="n">UNITY_VERTEX_INPUT_INSTANCE_ID</span>
				<span class="n">float4</span> <span class="n">ase_texcoord</span> <span class="o">:</span> <span class="n">TEXCOORD0</span><span class="p">;</span>
				<span class="n">float4</span> <span class="n">ase_tangent</span> <span class="o">:</span> <span class="n">TANGENT</span><span class="p">;</span>
				<span class="n">float3</span> <span class="n">ase_normal</span> <span class="o">:</span> <span class="n">NORMAL</span><span class="p">;</span>
			<span class="p">};</span>
			
			<span class="k">struct</span> <span class="n">v2f</span>
			<span class="p">{</span>
				<span class="n">float4</span> <span class="n">vertex</span> <span class="o">:</span> <span class="n">SV_POSITION</span><span class="p">;</span>
				<span class="n">UNITY_VERTEX_INPUT_INSTANCE_ID</span>
				<span class="n">UNITY_VERTEX_OUTPUT_STEREO</span>
				<span class="n">float4</span> <span class="n">ase_texcoord</span> <span class="o">:</span> <span class="n">TEXCOORD0</span><span class="p">;</span>
				<span class="n">float4</span> <span class="n">ase_texcoord1</span> <span class="o">:</span> <span class="n">TEXCOORD1</span><span class="p">;</span>
				<span class="n">float4</span> <span class="n">ase_texcoord2</span> <span class="o">:</span> <span class="n">TEXCOORD2</span><span class="p">;</span>
				<span class="n">float4</span> <span class="n">ase_texcoord3</span> <span class="o">:</span> <span class="n">TEXCOORD3</span><span class="p">;</span>
				<span class="n">float4</span> <span class="n">ase_texcoord4</span> <span class="o">:</span> <span class="n">TEXCOORD4</span><span class="p">;</span>
			<span class="p">};</span>

			<span class="k">uniform</span> <span class="kt">sampler2D</span> <span class="n">_NormalTexture</span><span class="p">;</span>
			<span class="k">uniform</span> <span class="n">float4</span> <span class="n">_NormalTexture_ST</span><span class="p">;</span>
			<span class="k">uniform</span> <span class="kt">float</span> <span class="n">_Bias</span><span class="p">;</span>
			<span class="k">uniform</span> <span class="kt">float</span> <span class="n">_Scale</span><span class="p">;</span>
			<span class="k">uniform</span> <span class="kt">float</span> <span class="n">_Power</span><span class="p">;</span>

			
			<span class="n">v2f</span> <span class="n">vert</span> <span class="p">(</span> <span class="n">appdata</span> <span class="n">v</span> <span class="p">)</span>
			<span class="p">{</span>
				<span class="n">v2f</span> <span class="n">o</span><span class="p">;</span>
				<span class="n">UNITY_SETUP_INSTANCE_ID</span><span class="p">(</span><span class="n">v</span><span class="p">);</span>
				<span class="n">UNITY_INITIALIZE_VERTEX_OUTPUT_STEREO</span><span class="p">(</span><span class="n">o</span><span class="p">);</span>
				<span class="n">UNITY_TRANSFER_INSTANCE_ID</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="n">o</span><span class="p">);</span>

				<span class="n">float3</span> <span class="n">ase_worldPos</span> <span class="o">=</span> <span class="n">mul</span><span class="p">(</span><span class="n">unity_ObjectToWorld</span><span class="p">,</span> <span class="n">v</span><span class="p">.</span><span class="n">vertex</span><span class="p">).</span><span class="n">xyz</span><span class="p">;</span>
				<span class="n">o</span><span class="p">.</span><span class="n">ase_texcoord</span><span class="p">.</span><span class="n">xyz</span> <span class="o">=</span> <span class="n">ase_worldPos</span><span class="p">;</span>
				<span class="n">float3</span> <span class="n">ase_worldTangent</span> <span class="o">=</span> <span class="n">UnityObjectToWorldDir</span><span class="p">(</span><span class="n">v</span><span class="p">.</span><span class="n">ase_tangent</span><span class="p">);</span>
				<span class="n">o</span><span class="p">.</span><span class="n">ase_texcoord2</span><span class="p">.</span><span class="n">xyz</span> <span class="o">=</span> <span class="n">ase_worldTangent</span><span class="p">;</span>
				<span class="n">float3</span> <span class="n">ase_worldNormal</span> <span class="o">=</span> <span class="n">UnityObjectToWorldNormal</span><span class="p">(</span><span class="n">v</span><span class="p">.</span><span class="n">ase_normal</span><span class="p">);</span>
				<span class="n">o</span><span class="p">.</span><span class="n">ase_texcoord3</span><span class="p">.</span><span class="n">xyz</span> <span class="o">=</span> <span class="n">ase_worldNormal</span><span class="p">;</span>
				<span class="kt">float</span> <span class="n">ase_vertexTangentSign</span> <span class="o">=</span> <span class="n">v</span><span class="p">.</span><span class="n">ase_tangent</span><span class="p">.</span><span class="n">w</span> <span class="o">*</span> <span class="n">unity_WorldTransformParams</span><span class="p">.</span><span class="n">w</span><span class="p">;</span>
				<span class="n">float3</span> <span class="n">ase_worldBitangent</span> <span class="o">=</span> <span class="n">cross</span><span class="p">(</span> <span class="n">ase_worldNormal</span><span class="p">,</span> <span class="n">ase_worldTangent</span> <span class="p">)</span> <span class="o">*</span> <span class="n">ase_vertexTangentSign</span><span class="p">;</span>
				<span class="n">o</span><span class="p">.</span><span class="n">ase_texcoord4</span><span class="p">.</span><span class="n">xyz</span> <span class="o">=</span> <span class="n">ase_worldBitangent</span><span class="p">;</span>
				
				<span class="n">o</span><span class="p">.</span><span class="n">ase_texcoord1</span><span class="p">.</span><span class="n">xy</span> <span class="o">=</span> <span class="n">v</span><span class="p">.</span><span class="n">ase_texcoord</span><span class="p">.</span><span class="n">xy</span><span class="p">;</span>
				
				<span class="c1">//setting value to unused interpolator channels and avoid initialization warnings</span>
				<span class="n">o</span><span class="p">.</span><span class="n">ase_texcoord</span><span class="p">.</span><span class="n">w</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
				<span class="n">o</span><span class="p">.</span><span class="n">ase_texcoord1</span><span class="p">.</span><span class="n">zw</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
				<span class="n">o</span><span class="p">.</span><span class="n">ase_texcoord2</span><span class="p">.</span><span class="n">w</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
				<span class="n">o</span><span class="p">.</span><span class="n">ase_texcoord3</span><span class="p">.</span><span class="n">w</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
				<span class="n">o</span><span class="p">.</span><span class="n">ase_texcoord4</span><span class="p">.</span><span class="n">w</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
				<span class="n">float3</span> <span class="n">vertexValue</span> <span class="o">=</span> <span class="n">float3</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
				<span class="cp">#if ASE_ABSOLUTE_VERTEX_POS
</span>				<span class="n">vertexValue</span> <span class="o">=</span> <span class="n">v</span><span class="p">.</span><span class="n">vertex</span><span class="p">.</span><span class="n">xyz</span><span class="p">;</span>
				<span class="cp">#endif
</span>				<span class="n">vertexValue</span> <span class="o">=</span> <span class="n">vertexValue</span><span class="p">;</span>
				<span class="cp">#if ASE_ABSOLUTE_VERTEX_POS
</span>				<span class="n">v</span><span class="p">.</span><span class="n">vertex</span><span class="p">.</span><span class="n">xyz</span> <span class="o">=</span> <span class="n">vertexValue</span><span class="p">;</span>
				<span class="cp">#else
</span>				<span class="n">v</span><span class="p">.</span><span class="n">vertex</span><span class="p">.</span><span class="n">xyz</span> <span class="o">+=</span> <span class="n">vertexValue</span><span class="p">;</span>
				<span class="cp">#endif
</span>				<span class="n">o</span><span class="p">.</span><span class="n">vertex</span> <span class="o">=</span> <span class="n">UnityObjectToClipPos</span><span class="p">(</span><span class="n">v</span><span class="p">.</span><span class="n">vertex</span><span class="p">);</span>
				<span class="k">return</span> <span class="n">o</span><span class="p">;</span>
			<span class="p">}</span>
			
			<span class="n">fixed4</span> <span class="n">frag</span> <span class="p">(</span><span class="n">v2f</span> <span class="n">i</span> <span class="p">)</span> <span class="o">:</span> <span class="n">SV_Target</span>
			<span class="p">{</span>
				<span class="n">UNITY_SETUP_INSTANCE_ID</span><span class="p">(</span><span class="n">i</span><span class="p">);</span>
				<span class="n">UNITY_SETUP_STEREO_EYE_INDEX_POST_VERTEX</span><span class="p">(</span><span class="n">i</span><span class="p">);</span>
				<span class="n">fixed4</span> <span class="n">finalColor</span><span class="p">;</span>
				<span class="n">float3</span> <span class="n">ase_worldPos</span> <span class="o">=</span> <span class="n">i</span><span class="p">.</span><span class="n">ase_texcoord</span><span class="p">.</span><span class="n">xyz</span><span class="p">;</span>
				<span class="n">float3</span> <span class="n">ase_worldViewDir</span> <span class="o">=</span> <span class="n">UnityWorldSpaceViewDir</span><span class="p">(</span><span class="n">ase_worldPos</span><span class="p">);</span>
				<span class="n">ase_worldViewDir</span> <span class="o">=</span> <span class="n">normalize</span><span class="p">(</span><span class="n">ase_worldViewDir</span><span class="p">);</span>
				<span class="n">float2</span> <span class="n">uv_NormalTexture</span> <span class="o">=</span> <span class="n">i</span><span class="p">.</span><span class="n">ase_texcoord1</span><span class="p">.</span><span class="n">xy</span> <span class="o">*</span> <span class="n">_NormalTexture_ST</span><span class="p">.</span><span class="n">xy</span> <span class="o">+</span> <span class="n">_NormalTexture_ST</span><span class="p">.</span><span class="n">zw</span><span class="p">;</span>
				<span class="n">float3</span> <span class="n">ase_worldTangent</span> <span class="o">=</span> <span class="n">i</span><span class="p">.</span><span class="n">ase_texcoord2</span><span class="p">.</span><span class="n">xyz</span><span class="p">;</span>
				<span class="n">float3</span> <span class="n">ase_worldNormal</span> <span class="o">=</span> <span class="n">i</span><span class="p">.</span><span class="n">ase_texcoord3</span><span class="p">.</span><span class="n">xyz</span><span class="p">;</span>
				<span class="n">float3</span> <span class="n">ase_worldBitangent</span> <span class="o">=</span> <span class="n">i</span><span class="p">.</span><span class="n">ase_texcoord4</span><span class="p">.</span><span class="n">xyz</span><span class="p">;</span>
				<span class="n">float3</span> <span class="n">tanToWorld0</span> <span class="o">=</span> <span class="n">float3</span><span class="p">(</span> <span class="n">ase_worldTangent</span><span class="p">.</span><span class="n">x</span><span class="p">,</span> <span class="n">ase_worldBitangent</span><span class="p">.</span><span class="n">x</span><span class="p">,</span> <span class="n">ase_worldNormal</span><span class="p">.</span><span class="n">x</span> <span class="p">);</span>
				<span class="n">float3</span> <span class="n">tanToWorld1</span> <span class="o">=</span> <span class="n">float3</span><span class="p">(</span> <span class="n">ase_worldTangent</span><span class="p">.</span><span class="n">y</span><span class="p">,</span> <span class="n">ase_worldBitangent</span><span class="p">.</span><span class="n">y</span><span class="p">,</span> <span class="n">ase_worldNormal</span><span class="p">.</span><span class="n">y</span> <span class="p">);</span>
				<span class="n">float3</span> <span class="n">tanToWorld2</span> <span class="o">=</span> <span class="n">float3</span><span class="p">(</span> <span class="n">ase_worldTangent</span><span class="p">.</span><span class="n">z</span><span class="p">,</span> <span class="n">ase_worldBitangent</span><span class="p">.</span><span class="n">z</span><span class="p">,</span> <span class="n">ase_worldNormal</span><span class="p">.</span><span class="n">z</span> <span class="p">);</span>
				<span class="n">float3</span> <span class="n">tanNormal770</span> <span class="o">=</span> <span class="n">UnpackNormal</span><span class="p">(</span> <span class="n">tex2D</span><span class="p">(</span> <span class="n">_NormalTexture</span><span class="p">,</span> <span class="n">uv_NormalTexture</span> <span class="p">)</span> <span class="p">);</span>
				<span class="n">float3</span> <span class="n">worldNormal770</span> <span class="o">=</span> <span class="n">float3</span><span class="p">(</span><span class="n">dot</span><span class="p">(</span><span class="n">tanToWorld0</span><span class="p">,</span><span class="n">tanNormal770</span><span class="p">),</span> <span class="n">dot</span><span class="p">(</span><span class="n">tanToWorld1</span><span class="p">,</span><span class="n">tanNormal770</span><span class="p">),</span> <span class="n">dot</span><span class="p">(</span><span class="n">tanToWorld2</span><span class="p">,</span><span class="n">tanNormal770</span><span class="p">));</span>
				<span class="kt">float</span> <span class="n">fresnelNdotV760</span> <span class="o">=</span> <span class="n">dot</span><span class="p">(</span> <span class="n">worldNormal770</span><span class="p">,</span> <span class="n">ase_worldViewDir</span> <span class="p">);</span>
				<span class="kt">float</span> <span class="n">fresnelNode760</span> <span class="o">=</span> <span class="p">(</span> <span class="n">_Bias</span> <span class="o">+</span> <span class="n">_Scale</span> <span class="o">*</span> <span class="n">pow</span><span class="p">(</span> <span class="mi">1</span><span class="p">.</span><span class="mi">0</span> <span class="o">-</span> <span class="n">fresnelNdotV760</span><span class="p">,</span> <span class="n">_Power</span> <span class="p">)</span> <span class="p">);</span>
				<span class="n">float4</span> <span class="n">temp_cast_0</span> <span class="o">=</span> <span class="p">(</span><span class="n">fresnelNode760</span><span class="p">).</span><span class="n">xxxx</span><span class="p">;</span>
				
				
				<span class="n">finalColor</span> <span class="o">=</span> <span class="n">temp_cast_0</span><span class="p">;</span>
				<span class="k">return</span> <span class="n">finalColor</span><span class="p">;</span>
			<span class="p">}</span>
			<span class="n">ENDCG</span>
		<span class="p">}</span>
	<span class="p">}</span>
	<span class="n">CustomEditor</span> <span class="s">"ASEMaterialInspector"</span>
	
	
<span class="p">}</span>
</code></pre></div></div>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">float</span> <span class="n">fresnelNdotV760</span> <span class="o">=</span> <span class="n">dot</span><span class="p">(</span> <span class="n">worldNormal770</span><span class="p">,</span> <span class="n">ase_worldViewDir</span> <span class="p">);</span>
<span class="kt">float</span> <span class="n">fresnelNode760</span> <span class="o">=</span> <span class="p">(</span> <span class="n">_Bias</span> <span class="o">+</span> <span class="n">_Scale</span> <span class="o">*</span> <span class="nf">pow</span><span class="p">(</span> <span class="mi">1</span><span class="p">.</span><span class="mi">0</span> <span class="o">-</span> <span class="n">fresnelNdotV760</span><span class="p">,</span> <span class="n">_Power</span> <span class="p">)</span> <span class="p">);</span>
</code></pre></div></div>

<h3 id="half-lambert-term--世界法线和世界灯光方向dot值--05--05-dotworldnormal-worldspacelightdir--05--05">Half Lambert Term:  世界法线和世界灯光方向dot值 * 0.5 + 0.5。 dot(worldNormal, worldSpaceLightDir) * 0.5 + 0.5</h3>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/image-20200616164212692.png" alt="image-20200616164212692" /></p>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/image-20200616164230475.png" alt="image-20200616164230475" /></p>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">float3</span> <span class="n">worldSpaceLightDir</span> <span class="o">=</span> <span class="n">UnityWorldSpaceLightDir</span><span class="p">(</span><span class="n">ase_worldPos</span><span class="p">);</span>
<span class="kt">float</span> <span class="n">dotResult5_g1</span> <span class="o">=</span> <span class="n">dot</span><span class="p">(</span> <span class="n">worldNormal770</span> <span class="p">,</span> <span class="n">worldSpaceLightDir</span> <span class="p">);</span>
<span class="n">float4</span> <span class="n">temp_cast_0</span> <span class="o">=</span> <span class="p">((</span><span class="n">dotResult5_g1</span><span class="o">*</span><span class="mi">0</span><span class="p">.</span><span class="mi">5</span> <span class="o">+</span> <span class="mi">0</span><span class="p">.</span><span class="mi">5</span><span class="p">)).</span><span class="n">xxxx</span><span class="p">;</span>
</code></pre></div></div>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">Shader</span> <span class="s">"TestNode"</span>
<span class="p">{</span>
	<span class="n">Properties</span>
	<span class="p">{</span>
		<span class="n">_NormalTexture</span><span class="p">(</span><span class="s">"NormalTexture"</span><span class="p">,</span> <span class="mi">2</span><span class="n">D</span><span class="p">)</span> <span class="o">=</span> <span class="s">"bump"</span> <span class="p">{}</span>
		<span class="p">[</span><span class="n">HideInInspector</span><span class="p">]</span> <span class="n">_texcoord</span><span class="p">(</span> <span class="s">""</span><span class="p">,</span> <span class="mi">2</span><span class="n">D</span> <span class="p">)</span> <span class="o">=</span> <span class="s">"white"</span> <span class="p">{}</span>

	<span class="p">}</span>
	
	<span class="n">SubShader</span>
	<span class="p">{</span>
		
		
		<span class="n">Tags</span> <span class="p">{</span> <span class="s">"RenderType"</span><span class="o">=</span><span class="s">"Opaque"</span> <span class="p">}</span>
	<span class="n">LOD</span> <span class="mi">100</span>

		<span class="n">CGINCLUDE</span>
		<span class="cp">#pragma target 3.0
</span>		<span class="n">ENDCG</span>
		<span class="n">Blend</span> <span class="n">Off</span>
		<span class="n">Cull</span> <span class="n">Back</span>
		<span class="n">ColorMask</span> <span class="n">RGBA</span>
		<span class="n">ZWrite</span> <span class="n">On</span>
		<span class="n">ZTest</span> <span class="n">LEqual</span>
		<span class="n">Offset</span> <span class="mi">0</span> <span class="p">,</span> <span class="mi">0</span>
		
		
		
		<span class="n">Pass</span>
		<span class="p">{</span>
			<span class="n">Name</span> <span class="s">"Unlit"</span>
			<span class="n">Tags</span> <span class="p">{</span> <span class="s">"LightMode"</span><span class="o">=</span><span class="s">"ForwardBase"</span> <span class="p">}</span>
			<span class="n">CGPROGRAM</span>

			

			<span class="cp">#ifndef UNITY_SETUP_STEREO_EYE_INDEX_POST_VERTEX
</span>			<span class="c1">//only defining to not throw compilation error over Unity 5.5</span>
			<span class="cp">#define UNITY_SETUP_STEREO_EYE_INDEX_POST_VERTEX(input)
</span>			<span class="cp">#endif
</span>			<span class="cp">#pragma vertex vert
</span>			<span class="cp">#pragma fragment frag
</span>			<span class="cp">#pragma multi_compile_instancing
</span>			<span class="cp">#include "UnityCG.cginc"
</span>			<span class="cp">#include "Lighting.cginc"
</span>			<span class="cp">#include "AutoLight.cginc"
</span>

			<span class="k">struct</span> <span class="n">appdata</span>
			<span class="p">{</span>
				<span class="n">float4</span> <span class="n">vertex</span> <span class="o">:</span> <span class="n">POSITION</span><span class="p">;</span>
				<span class="n">float4</span> <span class="n">color</span> <span class="o">:</span> <span class="n">COLOR</span><span class="p">;</span>
				<span class="n">UNITY_VERTEX_INPUT_INSTANCE_ID</span>
				<span class="n">float4</span> <span class="n">ase_texcoord</span> <span class="o">:</span> <span class="n">TEXCOORD0</span><span class="p">;</span>
				<span class="n">float4</span> <span class="n">ase_tangent</span> <span class="o">:</span> <span class="n">TANGENT</span><span class="p">;</span>
				<span class="n">float3</span> <span class="n">ase_normal</span> <span class="o">:</span> <span class="n">NORMAL</span><span class="p">;</span>
			<span class="p">};</span>
			
			<span class="k">struct</span> <span class="n">v2f</span>
			<span class="p">{</span>
				<span class="n">float4</span> <span class="n">vertex</span> <span class="o">:</span> <span class="n">SV_POSITION</span><span class="p">;</span>
				<span class="n">UNITY_VERTEX_INPUT_INSTANCE_ID</span>
				<span class="n">UNITY_VERTEX_OUTPUT_STEREO</span>
				<span class="n">float4</span> <span class="n">ase_texcoord</span> <span class="o">:</span> <span class="n">TEXCOORD0</span><span class="p">;</span>
				<span class="n">float4</span> <span class="n">ase_texcoord1</span> <span class="o">:</span> <span class="n">TEXCOORD1</span><span class="p">;</span>
				<span class="n">float4</span> <span class="n">ase_texcoord2</span> <span class="o">:</span> <span class="n">TEXCOORD2</span><span class="p">;</span>
				<span class="n">float4</span> <span class="n">ase_texcoord3</span> <span class="o">:</span> <span class="n">TEXCOORD3</span><span class="p">;</span>
				<span class="n">float4</span> <span class="n">ase_texcoord4</span> <span class="o">:</span> <span class="n">TEXCOORD4</span><span class="p">;</span>
			<span class="p">};</span>

			<span class="c1">//This is a late directive</span>
			
			<span class="k">uniform</span> <span class="kt">sampler2D</span> <span class="n">_NormalTexture</span><span class="p">;</span>
			<span class="k">uniform</span> <span class="n">float4</span> <span class="n">_NormalTexture_ST</span><span class="p">;</span>

			
			<span class="n">v2f</span> <span class="n">vert</span> <span class="p">(</span> <span class="n">appdata</span> <span class="n">v</span> <span class="p">)</span>
			<span class="p">{</span>
				<span class="n">v2f</span> <span class="n">o</span><span class="p">;</span>
				<span class="n">UNITY_SETUP_INSTANCE_ID</span><span class="p">(</span><span class="n">v</span><span class="p">);</span>
				<span class="n">UNITY_INITIALIZE_VERTEX_OUTPUT_STEREO</span><span class="p">(</span><span class="n">o</span><span class="p">);</span>
				<span class="n">UNITY_TRANSFER_INSTANCE_ID</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="n">o</span><span class="p">);</span>

				<span class="n">float3</span> <span class="n">ase_worldTangent</span> <span class="o">=</span> <span class="n">UnityObjectToWorldDir</span><span class="p">(</span><span class="n">v</span><span class="p">.</span><span class="n">ase_tangent</span><span class="p">);</span>
				<span class="n">o</span><span class="p">.</span><span class="n">ase_texcoord1</span><span class="p">.</span><span class="n">xyz</span> <span class="o">=</span> <span class="n">ase_worldTangent</span><span class="p">;</span>
				<span class="n">float3</span> <span class="n">ase_worldNormal</span> <span class="o">=</span> <span class="n">UnityObjectToWorldNormal</span><span class="p">(</span><span class="n">v</span><span class="p">.</span><span class="n">ase_normal</span><span class="p">);</span>
				<span class="n">o</span><span class="p">.</span><span class="n">ase_texcoord2</span><span class="p">.</span><span class="n">xyz</span> <span class="o">=</span> <span class="n">ase_worldNormal</span><span class="p">;</span>
				<span class="kt">float</span> <span class="n">ase_vertexTangentSign</span> <span class="o">=</span> <span class="n">v</span><span class="p">.</span><span class="n">ase_tangent</span><span class="p">.</span><span class="n">w</span> <span class="o">*</span> <span class="n">unity_WorldTransformParams</span><span class="p">.</span><span class="n">w</span><span class="p">;</span>
				<span class="n">float3</span> <span class="n">ase_worldBitangent</span> <span class="o">=</span> <span class="n">cross</span><span class="p">(</span> <span class="n">ase_worldNormal</span><span class="p">,</span> <span class="n">ase_worldTangent</span> <span class="p">)</span> <span class="o">*</span> <span class="n">ase_vertexTangentSign</span><span class="p">;</span>
				<span class="n">o</span><span class="p">.</span><span class="n">ase_texcoord3</span><span class="p">.</span><span class="n">xyz</span> <span class="o">=</span> <span class="n">ase_worldBitangent</span><span class="p">;</span>
				<span class="n">float3</span> <span class="n">ase_worldPos</span> <span class="o">=</span> <span class="n">mul</span><span class="p">(</span><span class="n">unity_ObjectToWorld</span><span class="p">,</span> <span class="n">v</span><span class="p">.</span><span class="n">vertex</span><span class="p">).</span><span class="n">xyz</span><span class="p">;</span>
				<span class="n">o</span><span class="p">.</span><span class="n">ase_texcoord4</span><span class="p">.</span><span class="n">xyz</span> <span class="o">=</span> <span class="n">ase_worldPos</span><span class="p">;</span>
				
				<span class="n">o</span><span class="p">.</span><span class="n">ase_texcoord</span><span class="p">.</span><span class="n">xy</span> <span class="o">=</span> <span class="n">v</span><span class="p">.</span><span class="n">ase_texcoord</span><span class="p">.</span><span class="n">xy</span><span class="p">;</span>
				
				<span class="c1">//setting value to unused interpolator channels and avoid initialization warnings</span>
				<span class="n">o</span><span class="p">.</span><span class="n">ase_texcoord</span><span class="p">.</span><span class="n">zw</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
				<span class="n">o</span><span class="p">.</span><span class="n">ase_texcoord1</span><span class="p">.</span><span class="n">w</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
				<span class="n">o</span><span class="p">.</span><span class="n">ase_texcoord2</span><span class="p">.</span><span class="n">w</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
				<span class="n">o</span><span class="p">.</span><span class="n">ase_texcoord3</span><span class="p">.</span><span class="n">w</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
				<span class="n">o</span><span class="p">.</span><span class="n">ase_texcoord4</span><span class="p">.</span><span class="n">w</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
				<span class="n">float3</span> <span class="n">vertexValue</span> <span class="o">=</span> <span class="n">float3</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
				<span class="cp">#if ASE_ABSOLUTE_VERTEX_POS
</span>				<span class="n">vertexValue</span> <span class="o">=</span> <span class="n">v</span><span class="p">.</span><span class="n">vertex</span><span class="p">.</span><span class="n">xyz</span><span class="p">;</span>
				<span class="cp">#endif
</span>				<span class="n">vertexValue</span> <span class="o">=</span> <span class="n">vertexValue</span><span class="p">;</span>
				<span class="cp">#if ASE_ABSOLUTE_VERTEX_POS
</span>				<span class="n">v</span><span class="p">.</span><span class="n">vertex</span><span class="p">.</span><span class="n">xyz</span> <span class="o">=</span> <span class="n">vertexValue</span><span class="p">;</span>
				<span class="cp">#else
</span>				<span class="n">v</span><span class="p">.</span><span class="n">vertex</span><span class="p">.</span><span class="n">xyz</span> <span class="o">+=</span> <span class="n">vertexValue</span><span class="p">;</span>
				<span class="cp">#endif
</span>				<span class="n">o</span><span class="p">.</span><span class="n">vertex</span> <span class="o">=</span> <span class="n">UnityObjectToClipPos</span><span class="p">(</span><span class="n">v</span><span class="p">.</span><span class="n">vertex</span><span class="p">);</span>
				<span class="k">return</span> <span class="n">o</span><span class="p">;</span>
			<span class="p">}</span>
			
			<span class="n">fixed4</span> <span class="n">frag</span> <span class="p">(</span><span class="n">v2f</span> <span class="n">i</span> <span class="p">)</span> <span class="o">:</span> <span class="n">SV_Target</span>
			<span class="p">{</span>
				<span class="n">UNITY_SETUP_INSTANCE_ID</span><span class="p">(</span><span class="n">i</span><span class="p">);</span>
				<span class="n">UNITY_SETUP_STEREO_EYE_INDEX_POST_VERTEX</span><span class="p">(</span><span class="n">i</span><span class="p">);</span>
				<span class="n">fixed4</span> <span class="n">finalColor</span><span class="p">;</span>
				<span class="n">float2</span> <span class="n">uv_NormalTexture</span> <span class="o">=</span> <span class="n">i</span><span class="p">.</span><span class="n">ase_texcoord</span><span class="p">.</span><span class="n">xy</span> <span class="o">*</span> <span class="n">_NormalTexture_ST</span><span class="p">.</span><span class="n">xy</span> <span class="o">+</span> <span class="n">_NormalTexture_ST</span><span class="p">.</span><span class="n">zw</span><span class="p">;</span>
				<span class="n">float3</span> <span class="n">ase_worldTangent</span> <span class="o">=</span> <span class="n">i</span><span class="p">.</span><span class="n">ase_texcoord1</span><span class="p">.</span><span class="n">xyz</span><span class="p">;</span>
				<span class="n">float3</span> <span class="n">ase_worldNormal</span> <span class="o">=</span> <span class="n">i</span><span class="p">.</span><span class="n">ase_texcoord2</span><span class="p">.</span><span class="n">xyz</span><span class="p">;</span>
				<span class="n">float3</span> <span class="n">ase_worldBitangent</span> <span class="o">=</span> <span class="n">i</span><span class="p">.</span><span class="n">ase_texcoord3</span><span class="p">.</span><span class="n">xyz</span><span class="p">;</span>
				<span class="n">float3</span> <span class="n">tanToWorld0</span> <span class="o">=</span> <span class="n">float3</span><span class="p">(</span> <span class="n">ase_worldTangent</span><span class="p">.</span><span class="n">x</span><span class="p">,</span> <span class="n">ase_worldBitangent</span><span class="p">.</span><span class="n">x</span><span class="p">,</span> <span class="n">ase_worldNormal</span><span class="p">.</span><span class="n">x</span> <span class="p">);</span>
				<span class="n">float3</span> <span class="n">tanToWorld1</span> <span class="o">=</span> <span class="n">float3</span><span class="p">(</span> <span class="n">ase_worldTangent</span><span class="p">.</span><span class="n">y</span><span class="p">,</span> <span class="n">ase_worldBitangent</span><span class="p">.</span><span class="n">y</span><span class="p">,</span> <span class="n">ase_worldNormal</span><span class="p">.</span><span class="n">y</span> <span class="p">);</span>
				<span class="n">float3</span> <span class="n">tanToWorld2</span> <span class="o">=</span> <span class="n">float3</span><span class="p">(</span> <span class="n">ase_worldTangent</span><span class="p">.</span><span class="n">z</span><span class="p">,</span> <span class="n">ase_worldBitangent</span><span class="p">.</span><span class="n">z</span><span class="p">,</span> <span class="n">ase_worldNormal</span><span class="p">.</span><span class="n">z</span> <span class="p">);</span>
				<span class="n">float3</span> <span class="n">tanNormal770</span> <span class="o">=</span> <span class="n">UnpackNormal</span><span class="p">(</span> <span class="n">tex2D</span><span class="p">(</span> <span class="n">_NormalTexture</span><span class="p">,</span> <span class="n">uv_NormalTexture</span> <span class="p">)</span> <span class="p">);</span>
				<span class="n">float3</span> <span class="n">worldNormal770</span> <span class="o">=</span> <span class="n">float3</span><span class="p">(</span><span class="n">dot</span><span class="p">(</span><span class="n">tanToWorld0</span><span class="p">,</span><span class="n">tanNormal770</span><span class="p">),</span> <span class="n">dot</span><span class="p">(</span><span class="n">tanToWorld1</span><span class="p">,</span><span class="n">tanNormal770</span><span class="p">),</span> <span class="n">dot</span><span class="p">(</span><span class="n">tanToWorld2</span><span class="p">,</span><span class="n">tanNormal770</span><span class="p">));</span>
				<span class="n">float3</span> <span class="n">ase_worldPos</span> <span class="o">=</span> <span class="n">i</span><span class="p">.</span><span class="n">ase_texcoord4</span><span class="p">.</span><span class="n">xyz</span><span class="p">;</span>
				<span class="n">float3</span> <span class="n">worldSpaceLightDir</span> <span class="o">=</span> <span class="n">UnityWorldSpaceLightDir</span><span class="p">(</span><span class="n">ase_worldPos</span><span class="p">);</span>
				<span class="kt">float</span> <span class="n">dotResult5_g1</span> <span class="o">=</span> <span class="n">dot</span><span class="p">(</span> <span class="n">worldNormal770</span> <span class="p">,</span> <span class="n">worldSpaceLightDir</span> <span class="p">);</span>
				<span class="n">float4</span> <span class="n">temp_cast_0</span> <span class="o">=</span> <span class="p">((</span><span class="n">dotResult5_g1</span><span class="o">*</span><span class="mi">0</span><span class="p">.</span><span class="mi">5</span> <span class="o">+</span> <span class="mi">0</span><span class="p">.</span><span class="mi">5</span><span class="p">)).</span><span class="n">xxxx</span><span class="p">;</span>
				
				
				<span class="n">finalColor</span> <span class="o">=</span> <span class="n">temp_cast_0</span><span class="p">;</span>
				<span class="k">return</span> <span class="n">finalColor</span><span class="p">;</span>
			<span class="p">}</span>
			<span class="n">ENDCG</span>
		<span class="p">}</span>
	<span class="p">}</span>
	<span class="n">CustomEditor</span> <span class="s">"ASEMaterialInspector"</span>
	
	
<span class="p">}</span>
</code></pre></div></div>

<h3 id="surface-depth-表面深度-eyedepth---unityobjecttoviewpos-vvertexxyz-z">Surface Depth: 表面深度。 eyeDepth = -UnityObjectToViewPos( v.vertex.xyz ).z</h3>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">float</span> <span class="n">eyeDepth</span> <span class="o">=</span> <span class="o">-</span><span class="n">UnityObjectToViewPos</span><span class="p">(</span> <span class="n">v</span><span class="p">.</span><span class="n">vertex</span><span class="p">.</span><span class="n">xyz</span> <span class="p">).</span><span class="n">z</span>
</code></pre></div></div>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">float</span> <span class="n">clampDepth</span> <span class="o">=</span> <span class="o">-</span><span class="n">UnityObjectToViewPos</span><span class="p">(</span> <span class="n">v</span><span class="p">.</span><span class="n">vertex</span><span class="p">.</span><span class="n">xyz</span> <span class="p">).</span><span class="n">z</span> <span class="o">*</span> <span class="n">_ProjectionParams</span><span class="p">.</span><span class="n">w</span><span class="p">;</span>
</code></pre></div></div>

<h3 id="template-fragment-data-模板片段数据">Template Fragment Data: 模板片段数据</h3>

<p>模板片段数据节点允许通过<a href="http://wiki.amplify.pt/index.php?title=Unity_Products:Amplify_Shader_Editor/Template_Fragment_Data#paramData">数据</a>下拉选项访问在当前使用的模板着色器上声明的内插片段数据。节点的“输出”类型和数量将根据当前选择的数据类型而变化。
<strong>注意：</strong>此节点仅在连接到与分片功能相关的端口时才输出有效结果。</p>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/image-20200616170138916.png" alt="image-20200616170138916" /></p>

<h3 id="template-local-var-data-模板本地变量数据">Template Local Var Data: 模板本地变量数据</h3>

<p>模板本地变量数据节点允许通过“ <a href="http://wiki.amplify.pt/index.php?title=Unity_Products:Amplify_Shader_Editor/Template_Local_Var_Data#paramData">数据”</a>下拉选项访问当前使用的模板着色器上通过<strong>/ * ase_local_var * /</strong>标记注册的本地变量。节点的“输出”类型和数量将根据当前选择的数据类型而变化。 <strong>注意：</strong>此标记可以在顶点和片段数据以及所有可用遍上注册局部变量，这取决于用户是否知道该变量代表什么以及应将其使用到哪个输出节点。 节点标头颜色根据本地变量的注册位置而变化。红色表示顶点局部变量，黄色表示片段变量。 以下是有关如何在模板上注册局部变量的快速摘要：</p>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/image-20200616170153736.png" alt="image-20200616170153736" /></p>

<h3 id="world-bitangent-世界法线和切线垂直面方向">World Bitangent: 世界法线和切线垂直面方向</h3>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="n">float3</span> <span class="n">ase_worldNormal</span> <span class="o">=</span> <span class="n">UnityObjectToWorldNormal</span><span class="p">(</span><span class="n">v</span><span class="p">.</span><span class="n">ase_normal</span><span class="p">);</span>
<span class="n">float3</span> <span class="n">ase_worldTangent</span> <span class="o">=</span> <span class="n">UnityObjectToWorldDir</span><span class="p">(</span><span class="n">v</span><span class="p">.</span><span class="n">ase_tangent</span><span class="p">);</span>
<span class="kt">float</span> <span class="n">ase_vertexTangentSign</span> <span class="o">=</span> <span class="n">v</span><span class="p">.</span><span class="n">ase_tangent</span><span class="p">.</span><span class="n">w</span> <span class="o">*</span> <span class="n">unity_WorldTransformParams</span><span class="p">.</span><span class="n">w</span><span class="p">;</span>
<span class="n">float3</span> <span class="n">ase_worldBitangent</span> <span class="o">=</span> <span class="n">cross</span><span class="p">(</span> <span class="n">ase_worldNormal</span><span class="p">,</span> <span class="n">ase_worldTangent</span> <span class="p">)</span> <span class="o">*</span> <span class="n">ase_vertexTangentSign</span><span class="p">;</span>
</code></pre></div></div>

<h3 id="world-normal-世界法线">World Normal: 世界法线</h3>

<p>向量的每像素计算，该向量代表世界空间中的表面法线。法线向量是垂直于表面的单位向量，指向表面所面对的位置。该数据对于照明计算非常有用且通用。该节点还允许在切线空间中接收法线矢量，以使法线四处移动。最常见的用例是在切线空间中使用法线贴图纹理来扰动对象的表面法线。</p>

<p><strong>注意：</strong>不要与“ <a href="http://wiki.amplify.pt/index.php?title=Unity_Products:Amplify_Shader_Editor/Vertex_Normal">顶点法线”</a>节点混淆。</p>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/WorldNormalNode.gif" alt="image-20200616170153736" /></p>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/image-20200616170453008.png" alt="image-20200616170453008" /></p>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">Shader</span> <span class="s">"TestNode"</span>
<span class="p">{</span>
	<span class="n">Properties</span>
	<span class="p">{</span>
		<span class="n">_TextureSample0</span><span class="p">(</span><span class="s">"Texture Sample 0"</span><span class="p">,</span> <span class="mi">2</span><span class="n">D</span><span class="p">)</span> <span class="o">=</span> <span class="s">"bump"</span> <span class="p">{}</span>
		<span class="p">[</span><span class="n">HideInInspector</span><span class="p">]</span> <span class="n">_texcoord</span><span class="p">(</span> <span class="s">""</span><span class="p">,</span> <span class="mi">2</span><span class="n">D</span> <span class="p">)</span> <span class="o">=</span> <span class="s">"white"</span> <span class="p">{}</span>

	<span class="p">}</span>
	
	<span class="n">SubShader</span>
	<span class="p">{</span>
		
		
		<span class="n">Tags</span> <span class="p">{</span> <span class="s">"RenderType"</span><span class="o">=</span><span class="s">"Opaque"</span> <span class="p">}</span>
	<span class="n">LOD</span> <span class="mi">100</span>

		<span class="n">CGINCLUDE</span>
		<span class="cp">#pragma target 3.0
</span>		<span class="n">ENDCG</span>
		<span class="n">Blend</span> <span class="n">Off</span>
		<span class="n">Cull</span> <span class="n">Back</span>
		<span class="n">ColorMask</span> <span class="n">RGBA</span>
		<span class="n">ZWrite</span> <span class="n">On</span>
		<span class="n">ZTest</span> <span class="n">LEqual</span>
		<span class="n">Offset</span> <span class="mi">0</span> <span class="p">,</span> <span class="mi">0</span>
		
		
		
		<span class="n">Pass</span>
		<span class="p">{</span>
			<span class="n">Name</span> <span class="s">"Unlit"</span>
			<span class="n">Tags</span> <span class="p">{</span> <span class="s">"LightMode"</span><span class="o">=</span><span class="s">"ForwardBase"</span> <span class="p">}</span>
			<span class="n">CGPROGRAM</span>

			

			<span class="cp">#ifndef UNITY_SETUP_STEREO_EYE_INDEX_POST_VERTEX
</span>			<span class="c1">//only defining to not throw compilation error over Unity 5.5</span>
			<span class="cp">#define UNITY_SETUP_STEREO_EYE_INDEX_POST_VERTEX(input)
</span>			<span class="cp">#endif
</span>			<span class="cp">#pragma vertex vert
</span>			<span class="cp">#pragma fragment frag
</span>			<span class="cp">#pragma multi_compile_instancing
</span>			<span class="cp">#include "UnityCG.cginc"
</span>			

			<span class="k">struct</span> <span class="n">appdata</span>
			<span class="p">{</span>
				<span class="n">float4</span> <span class="n">vertex</span> <span class="o">:</span> <span class="n">POSITION</span><span class="p">;</span>
				<span class="n">float4</span> <span class="n">color</span> <span class="o">:</span> <span class="n">COLOR</span><span class="p">;</span>
				<span class="n">UNITY_VERTEX_INPUT_INSTANCE_ID</span>
				<span class="n">float4</span> <span class="n">ase_texcoord</span> <span class="o">:</span> <span class="n">TEXCOORD0</span><span class="p">;</span>
				<span class="n">float4</span> <span class="n">ase_tangent</span> <span class="o">:</span> <span class="n">TANGENT</span><span class="p">;</span>
				<span class="n">float3</span> <span class="n">ase_normal</span> <span class="o">:</span> <span class="n">NORMAL</span><span class="p">;</span>
			<span class="p">};</span>
			
			<span class="k">struct</span> <span class="n">v2f</span>
			<span class="p">{</span>
				<span class="n">float4</span> <span class="n">vertex</span> <span class="o">:</span> <span class="n">SV_POSITION</span><span class="p">;</span>
				<span class="n">UNITY_VERTEX_INPUT_INSTANCE_ID</span>
				<span class="n">UNITY_VERTEX_OUTPUT_STEREO</span>
				<span class="n">float4</span> <span class="n">ase_texcoord</span> <span class="o">:</span> <span class="n">TEXCOORD0</span><span class="p">;</span>
				<span class="n">float4</span> <span class="n">ase_texcoord1</span> <span class="o">:</span> <span class="n">TEXCOORD1</span><span class="p">;</span>
				<span class="n">float4</span> <span class="n">ase_texcoord2</span> <span class="o">:</span> <span class="n">TEXCOORD2</span><span class="p">;</span>
				<span class="n">float4</span> <span class="n">ase_texcoord3</span> <span class="o">:</span> <span class="n">TEXCOORD3</span><span class="p">;</span>
			<span class="p">};</span>

			<span class="k">uniform</span> <span class="kt">sampler2D</span> <span class="n">_TextureSample0</span><span class="p">;</span>
			<span class="k">uniform</span> <span class="n">float4</span> <span class="n">_TextureSample0_ST</span><span class="p">;</span>

			
			<span class="n">v2f</span> <span class="n">vert</span> <span class="p">(</span> <span class="n">appdata</span> <span class="n">v</span> <span class="p">)</span>
			<span class="p">{</span>
				<span class="n">v2f</span> <span class="n">o</span><span class="p">;</span>
				<span class="n">UNITY_SETUP_INSTANCE_ID</span><span class="p">(</span><span class="n">v</span><span class="p">);</span>
				<span class="n">UNITY_INITIALIZE_VERTEX_OUTPUT_STEREO</span><span class="p">(</span><span class="n">o</span><span class="p">);</span>
				<span class="n">UNITY_TRANSFER_INSTANCE_ID</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="n">o</span><span class="p">);</span>

				<span class="n">float3</span> <span class="n">ase_worldTangent</span> <span class="o">=</span> <span class="n">UnityObjectToWorldDir</span><span class="p">(</span><span class="n">v</span><span class="p">.</span><span class="n">ase_tangent</span><span class="p">);</span>
				<span class="n">o</span><span class="p">.</span><span class="n">ase_texcoord1</span><span class="p">.</span><span class="n">xyz</span> <span class="o">=</span> <span class="n">ase_worldTangent</span><span class="p">;</span>
				<span class="n">float3</span> <span class="n">ase_worldNormal</span> <span class="o">=</span> <span class="n">UnityObjectToWorldNormal</span><span class="p">(</span><span class="n">v</span><span class="p">.</span><span class="n">ase_normal</span><span class="p">);</span>
				<span class="n">o</span><span class="p">.</span><span class="n">ase_texcoord2</span><span class="p">.</span><span class="n">xyz</span> <span class="o">=</span> <span class="n">ase_worldNormal</span><span class="p">;</span>
				<span class="kt">float</span> <span class="n">ase_vertexTangentSign</span> <span class="o">=</span> <span class="n">v</span><span class="p">.</span><span class="n">ase_tangent</span><span class="p">.</span><span class="n">w</span> <span class="o">*</span> <span class="n">unity_WorldTransformParams</span><span class="p">.</span><span class="n">w</span><span class="p">;</span>
				<span class="n">float3</span> <span class="n">ase_worldBitangent</span> <span class="o">=</span> <span class="n">cross</span><span class="p">(</span> <span class="n">ase_worldNormal</span><span class="p">,</span> <span class="n">ase_worldTangent</span> <span class="p">)</span> <span class="o">*</span> <span class="n">ase_vertexTangentSign</span><span class="p">;</span>
				<span class="n">o</span><span class="p">.</span><span class="n">ase_texcoord3</span><span class="p">.</span><span class="n">xyz</span> <span class="o">=</span> <span class="n">ase_worldBitangent</span><span class="p">;</span>
				
				<span class="n">o</span><span class="p">.</span><span class="n">ase_texcoord</span><span class="p">.</span><span class="n">xy</span> <span class="o">=</span> <span class="n">v</span><span class="p">.</span><span class="n">ase_texcoord</span><span class="p">.</span><span class="n">xy</span><span class="p">;</span>
				
				<span class="c1">//setting value to unused interpolator channels and avoid initialization warnings</span>
				<span class="n">o</span><span class="p">.</span><span class="n">ase_texcoord</span><span class="p">.</span><span class="n">zw</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
				<span class="n">o</span><span class="p">.</span><span class="n">ase_texcoord1</span><span class="p">.</span><span class="n">w</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
				<span class="n">o</span><span class="p">.</span><span class="n">ase_texcoord2</span><span class="p">.</span><span class="n">w</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
				<span class="n">o</span><span class="p">.</span><span class="n">ase_texcoord3</span><span class="p">.</span><span class="n">w</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
				<span class="n">float3</span> <span class="n">vertexValue</span> <span class="o">=</span> <span class="n">float3</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
				<span class="cp">#if ASE_ABSOLUTE_VERTEX_POS
</span>				<span class="n">vertexValue</span> <span class="o">=</span> <span class="n">v</span><span class="p">.</span><span class="n">vertex</span><span class="p">.</span><span class="n">xyz</span><span class="p">;</span>
				<span class="cp">#endif
</span>				<span class="n">vertexValue</span> <span class="o">=</span> <span class="n">vertexValue</span><span class="p">;</span>
				<span class="cp">#if ASE_ABSOLUTE_VERTEX_POS
</span>				<span class="n">v</span><span class="p">.</span><span class="n">vertex</span><span class="p">.</span><span class="n">xyz</span> <span class="o">=</span> <span class="n">vertexValue</span><span class="p">;</span>
				<span class="cp">#else
</span>				<span class="n">v</span><span class="p">.</span><span class="n">vertex</span><span class="p">.</span><span class="n">xyz</span> <span class="o">+=</span> <span class="n">vertexValue</span><span class="p">;</span>
				<span class="cp">#endif
</span>				<span class="n">o</span><span class="p">.</span><span class="n">vertex</span> <span class="o">=</span> <span class="n">UnityObjectToClipPos</span><span class="p">(</span><span class="n">v</span><span class="p">.</span><span class="n">vertex</span><span class="p">);</span>
				<span class="k">return</span> <span class="n">o</span><span class="p">;</span>
			<span class="p">}</span>
			
			<span class="n">fixed4</span> <span class="n">frag</span> <span class="p">(</span><span class="n">v2f</span> <span class="n">i</span> <span class="p">)</span> <span class="o">:</span> <span class="n">SV_Target</span>
			<span class="p">{</span>
				<span class="n">UNITY_SETUP_INSTANCE_ID</span><span class="p">(</span><span class="n">i</span><span class="p">);</span>
				<span class="n">UNITY_SETUP_STEREO_EYE_INDEX_POST_VERTEX</span><span class="p">(</span><span class="n">i</span><span class="p">);</span>
				<span class="n">fixed4</span> <span class="n">finalColor</span><span class="p">;</span>
				<span class="n">float2</span> <span class="n">uv_TextureSample0</span> <span class="o">=</span> <span class="n">i</span><span class="p">.</span><span class="n">ase_texcoord</span><span class="p">.</span><span class="n">xy</span> <span class="o">*</span> <span class="n">_TextureSample0_ST</span><span class="p">.</span><span class="n">xy</span> <span class="o">+</span> <span class="n">_TextureSample0_ST</span><span class="p">.</span><span class="n">zw</span><span class="p">;</span>
				<span class="n">float3</span> <span class="n">ase_worldTangent</span> <span class="o">=</span> <span class="n">i</span><span class="p">.</span><span class="n">ase_texcoord1</span><span class="p">.</span><span class="n">xyz</span><span class="p">;</span>
				<span class="n">float3</span> <span class="n">ase_worldNormal</span> <span class="o">=</span> <span class="n">i</span><span class="p">.</span><span class="n">ase_texcoord2</span><span class="p">.</span><span class="n">xyz</span><span class="p">;</span>
				<span class="n">float3</span> <span class="n">ase_worldBitangent</span> <span class="o">=</span> <span class="n">i</span><span class="p">.</span><span class="n">ase_texcoord3</span><span class="p">.</span><span class="n">xyz</span><span class="p">;</span>
				<span class="n">float3</span> <span class="n">tanToWorld0</span> <span class="o">=</span> <span class="n">float3</span><span class="p">(</span> <span class="n">ase_worldTangent</span><span class="p">.</span><span class="n">x</span><span class="p">,</span> <span class="n">ase_worldBitangent</span><span class="p">.</span><span class="n">x</span><span class="p">,</span> <span class="n">ase_worldNormal</span><span class="p">.</span><span class="n">x</span> <span class="p">);</span>
				<span class="n">float3</span> <span class="n">tanToWorld1</span> <span class="o">=</span> <span class="n">float3</span><span class="p">(</span> <span class="n">ase_worldTangent</span><span class="p">.</span><span class="n">y</span><span class="p">,</span> <span class="n">ase_worldBitangent</span><span class="p">.</span><span class="n">y</span><span class="p">,</span> <span class="n">ase_worldNormal</span><span class="p">.</span><span class="n">y</span> <span class="p">);</span>
				<span class="n">float3</span> <span class="n">tanToWorld2</span> <span class="o">=</span> <span class="n">float3</span><span class="p">(</span> <span class="n">ase_worldTangent</span><span class="p">.</span><span class="n">z</span><span class="p">,</span> <span class="n">ase_worldBitangent</span><span class="p">.</span><span class="n">z</span><span class="p">,</span> <span class="n">ase_worldNormal</span><span class="p">.</span><span class="n">z</span> <span class="p">);</span>
				<span class="n">float3</span> <span class="n">tanNormal790</span> <span class="o">=</span> <span class="n">UnpackNormal</span><span class="p">(</span> <span class="n">tex2D</span><span class="p">(</span> <span class="n">_TextureSample0</span><span class="p">,</span> <span class="n">uv_TextureSample0</span> <span class="p">)</span> <span class="p">);</span>
				<span class="n">float3</span> <span class="n">worldNormal790</span> <span class="o">=</span> <span class="n">float3</span><span class="p">(</span><span class="n">dot</span><span class="p">(</span><span class="n">tanToWorld0</span><span class="p">,</span><span class="n">tanNormal790</span><span class="p">),</span> <span class="n">dot</span><span class="p">(</span><span class="n">tanToWorld1</span><span class="p">,</span><span class="n">tanNormal790</span><span class="p">),</span> <span class="n">dot</span><span class="p">(</span><span class="n">tanToWorld2</span><span class="p">,</span><span class="n">tanNormal790</span><span class="p">));</span>
				
				
				<span class="n">finalColor</span> <span class="o">=</span> <span class="n">float4</span><span class="p">(</span> <span class="n">worldNormal790</span> <span class="p">,</span> <span class="mi">0</span><span class="p">.</span><span class="mi">0</span> <span class="p">);</span>
				<span class="k">return</span> <span class="n">finalColor</span><span class="p">;</span>
			<span class="p">}</span>
			<span class="n">ENDCG</span>
		<span class="p">}</span>
	<span class="p">}</span>
	<span class="n">CustomEditor</span> <span class="s">"ASEMaterialInspector"</span>
	
	
<span class="p">}</span>
</code></pre></div></div>

<h3 id="world-position世界位置-float3-ase_worldpos--mulunity_objecttoworld-vvertexxyz">World Position:世界位置 float3 ase_worldPos = mul(unity_ObjectToWorld, v.vertex).xyz;</h3>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">float3</span> <span class="n">ase_worldPos</span> <span class="o">=</span> <span class="n">mul</span><span class="p">(</span><span class="n">unity_ObjectToWorld</span><span class="p">,</span> <span class="n">v</span><span class="p">.</span><span class="n">vertex</span><span class="p">).</span><span class="n">xyz</span><span class="p">;</span>
</code></pre></div></div>

<h3 id="world-reflection-世界反射">World Reflection: 世界反射</h3>

<p><strong>R = V - 2 x (V . N) x N</strong></p>

<p>“世界反射”节点通过表面法线（<strong>N</strong>）在摄像机视点矢量（<strong>V</strong>）的世界坐标中输出反射结果（<strong>R</strong>），并通过以下表达式<strong>R = V-2 x（V. N）x N进行计算</strong>。</p>

<p>也可以通过将每个像素法线贴图连接到<a href="http://wiki.amplify.pt/index.php?title=Unity_Products:Amplify_Shader_Editor/World_Reflection#paramNormal">法线</a>输入端口来计算反射。</p>

<p>该节点通常与立方体贴图一起使用以创建环境贴图效果。</p>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/WorldReflectionVectorNode.jpg" alt="image-20200616171049376" /></p>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/image-20200616171049376.png" alt="image-20200616171049376" /></p>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">float3</span> <span class="n">ase_worldReflection</span> <span class="o">=</span> <span class="n">reflect</span><span class="p">(</span><span class="o">-</span><span class="n">ase_worldViewDir</span><span class="p">,</span> <span class="n">ase_worldNormal</span><span class="p">);</span>
</code></pre></div></div>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">Shader</span> <span class="s">"TestNode"</span>
<span class="p">{</span>
	<span class="n">Properties</span>
	<span class="p">{</span>
		
	<span class="p">}</span>
	
	<span class="n">SubShader</span>
	<span class="p">{</span>
		
		
		<span class="n">Tags</span> <span class="p">{</span> <span class="s">"RenderType"</span><span class="o">=</span><span class="s">"Opaque"</span> <span class="p">}</span>
	<span class="n">LOD</span> <span class="mi">100</span>

		<span class="n">CGINCLUDE</span>
		<span class="cp">#pragma target 3.0
</span>		<span class="n">ENDCG</span>
		<span class="n">Blend</span> <span class="n">Off</span>
		<span class="n">Cull</span> <span class="n">Back</span>
		<span class="n">ColorMask</span> <span class="n">RGBA</span>
		<span class="n">ZWrite</span> <span class="n">On</span>
		<span class="n">ZTest</span> <span class="n">LEqual</span>
		<span class="n">Offset</span> <span class="mi">0</span> <span class="p">,</span> <span class="mi">0</span>
		
		
		
		<span class="n">Pass</span>
		<span class="p">{</span>
			<span class="n">Name</span> <span class="s">"Unlit"</span>
			<span class="n">Tags</span> <span class="p">{</span> <span class="s">"LightMode"</span><span class="o">=</span><span class="s">"ForwardBase"</span> <span class="p">}</span>
			<span class="n">CGPROGRAM</span>

			

			<span class="cp">#ifndef UNITY_SETUP_STEREO_EYE_INDEX_POST_VERTEX
</span>			<span class="c1">//only defining to not throw compilation error over Unity 5.5</span>
			<span class="cp">#define UNITY_SETUP_STEREO_EYE_INDEX_POST_VERTEX(input)
</span>			<span class="cp">#endif
</span>			<span class="cp">#pragma vertex vert
</span>			<span class="cp">#pragma fragment frag
</span>			<span class="cp">#pragma multi_compile_instancing
</span>			<span class="cp">#include "UnityCG.cginc"
</span>			

			<span class="k">struct</span> <span class="n">appdata</span>
			<span class="p">{</span>
				<span class="n">float4</span> <span class="n">vertex</span> <span class="o">:</span> <span class="n">POSITION</span><span class="p">;</span>
				<span class="n">float4</span> <span class="n">color</span> <span class="o">:</span> <span class="n">COLOR</span><span class="p">;</span>
				<span class="n">UNITY_VERTEX_INPUT_INSTANCE_ID</span>
				<span class="n">float3</span> <span class="n">ase_normal</span> <span class="o">:</span> <span class="n">NORMAL</span><span class="p">;</span>
			<span class="p">};</span>
			
			<span class="k">struct</span> <span class="n">v2f</span>
			<span class="p">{</span>
				<span class="n">float4</span> <span class="n">vertex</span> <span class="o">:</span> <span class="n">SV_POSITION</span><span class="p">;</span>
				<span class="n">UNITY_VERTEX_INPUT_INSTANCE_ID</span>
				<span class="n">UNITY_VERTEX_OUTPUT_STEREO</span>
				<span class="n">float4</span> <span class="n">ase_texcoord</span> <span class="o">:</span> <span class="n">TEXCOORD0</span><span class="p">;</span>
				<span class="n">float4</span> <span class="n">ase_texcoord1</span> <span class="o">:</span> <span class="n">TEXCOORD1</span><span class="p">;</span>
			<span class="p">};</span>

			
			
			<span class="n">v2f</span> <span class="n">vert</span> <span class="p">(</span> <span class="n">appdata</span> <span class="n">v</span> <span class="p">)</span>
			<span class="p">{</span>
				<span class="n">v2f</span> <span class="n">o</span><span class="p">;</span>
				<span class="n">UNITY_SETUP_INSTANCE_ID</span><span class="p">(</span><span class="n">v</span><span class="p">);</span>
				<span class="n">UNITY_INITIALIZE_VERTEX_OUTPUT_STEREO</span><span class="p">(</span><span class="n">o</span><span class="p">);</span>
				<span class="n">UNITY_TRANSFER_INSTANCE_ID</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="n">o</span><span class="p">);</span>

				<span class="n">float3</span> <span class="n">ase_worldNormal</span> <span class="o">=</span> <span class="n">UnityObjectToWorldNormal</span><span class="p">(</span><span class="n">v</span><span class="p">.</span><span class="n">ase_normal</span><span class="p">);</span>
				<span class="n">o</span><span class="p">.</span><span class="n">ase_texcoord</span><span class="p">.</span><span class="n">xyz</span> <span class="o">=</span> <span class="n">ase_worldNormal</span><span class="p">;</span>
				<span class="n">float3</span> <span class="n">ase_worldPos</span> <span class="o">=</span> <span class="n">mul</span><span class="p">(</span><span class="n">unity_ObjectToWorld</span><span class="p">,</span> <span class="n">v</span><span class="p">.</span><span class="n">vertex</span><span class="p">).</span><span class="n">xyz</span><span class="p">;</span>
				<span class="n">o</span><span class="p">.</span><span class="n">ase_texcoord1</span><span class="p">.</span><span class="n">xyz</span> <span class="o">=</span> <span class="n">ase_worldPos</span><span class="p">;</span>
				
				
				<span class="c1">//setting value to unused interpolator channels and avoid initialization warnings</span>
				<span class="n">o</span><span class="p">.</span><span class="n">ase_texcoord</span><span class="p">.</span><span class="n">w</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
				<span class="n">o</span><span class="p">.</span><span class="n">ase_texcoord1</span><span class="p">.</span><span class="n">w</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
				<span class="n">float3</span> <span class="n">vertexValue</span> <span class="o">=</span> <span class="n">float3</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
				<span class="cp">#if ASE_ABSOLUTE_VERTEX_POS
</span>				<span class="n">vertexValue</span> <span class="o">=</span> <span class="n">v</span><span class="p">.</span><span class="n">vertex</span><span class="p">.</span><span class="n">xyz</span><span class="p">;</span>
				<span class="cp">#endif
</span>				<span class="n">vertexValue</span> <span class="o">=</span> <span class="n">vertexValue</span><span class="p">;</span>
				<span class="cp">#if ASE_ABSOLUTE_VERTEX_POS
</span>				<span class="n">v</span><span class="p">.</span><span class="n">vertex</span><span class="p">.</span><span class="n">xyz</span> <span class="o">=</span> <span class="n">vertexValue</span><span class="p">;</span>
				<span class="cp">#else
</span>				<span class="n">v</span><span class="p">.</span><span class="n">vertex</span><span class="p">.</span><span class="n">xyz</span> <span class="o">+=</span> <span class="n">vertexValue</span><span class="p">;</span>
				<span class="cp">#endif
</span>				<span class="n">o</span><span class="p">.</span><span class="n">vertex</span> <span class="o">=</span> <span class="n">UnityObjectToClipPos</span><span class="p">(</span><span class="n">v</span><span class="p">.</span><span class="n">vertex</span><span class="p">);</span>
				<span class="k">return</span> <span class="n">o</span><span class="p">;</span>
			<span class="p">}</span>
			
			<span class="n">fixed4</span> <span class="n">frag</span> <span class="p">(</span><span class="n">v2f</span> <span class="n">i</span> <span class="p">)</span> <span class="o">:</span> <span class="n">SV_Target</span>
			<span class="p">{</span>
				<span class="n">UNITY_SETUP_INSTANCE_ID</span><span class="p">(</span><span class="n">i</span><span class="p">);</span>
				<span class="n">UNITY_SETUP_STEREO_EYE_INDEX_POST_VERTEX</span><span class="p">(</span><span class="n">i</span><span class="p">);</span>
				<span class="n">fixed4</span> <span class="n">finalColor</span><span class="p">;</span>
				<span class="n">float3</span> <span class="n">ase_worldNormal</span> <span class="o">=</span> <span class="n">i</span><span class="p">.</span><span class="n">ase_texcoord</span><span class="p">.</span><span class="n">xyz</span><span class="p">;</span>
				<span class="n">float3</span> <span class="n">ase_worldPos</span> <span class="o">=</span> <span class="n">i</span><span class="p">.</span><span class="n">ase_texcoord1</span><span class="p">.</span><span class="n">xyz</span><span class="p">;</span>
				<span class="n">float3</span> <span class="n">ase_worldViewDir</span> <span class="o">=</span> <span class="n">UnityWorldSpaceViewDir</span><span class="p">(</span><span class="n">ase_worldPos</span><span class="p">);</span>
				<span class="n">ase_worldViewDir</span> <span class="o">=</span> <span class="n">normalize</span><span class="p">(</span><span class="n">ase_worldViewDir</span><span class="p">);</span>
				<span class="n">float3</span> <span class="n">ase_worldReflection</span> <span class="o">=</span> <span class="n">reflect</span><span class="p">(</span><span class="o">-</span><span class="n">ase_worldViewDir</span><span class="p">,</span> <span class="n">ase_worldNormal</span><span class="p">);</span>
				
				
				<span class="n">finalColor</span> <span class="o">=</span> <span class="n">float4</span><span class="p">(</span> <span class="n">ase_worldReflection</span> <span class="p">,</span> <span class="mi">0</span><span class="p">.</span><span class="mi">0</span> <span class="p">);</span>
				<span class="k">return</span> <span class="n">finalColor</span><span class="p">;</span>
			<span class="p">}</span>
			<span class="n">ENDCG</span>
		<span class="p">}</span>
	<span class="p">}</span>
	<span class="n">CustomEditor</span> <span class="s">"ASEMaterialInspector"</span>
	
	
<span class="p">}</span>
</code></pre></div></div>

<h3 id="world-tangent-世界切线-float3-ase_worldtangent--unityobjecttoworlddirvase_tangent">World Tangent: 世界切线, float3 ase_worldTangent = UnityObjectToWorldDir(v.ase_tangent);</h3>

<p>代表世界空间中的曲面切线的向量的每像素计算。切向量是在给定点与表面相切的单位向量。</p>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/image-20200616171326321.png" alt="image-20200616171326321" /></p>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">float3</span> <span class="n">ase_worldTangent</span> <span class="o">=</span> <span class="n">UnityObjectToWorldDir</span><span class="p">(</span><span class="n">v</span><span class="p">.</span><span class="n">ase_tangent</span><span class="p">);</span>
</code></pre></div></div>

<h1 id="image-effects--图片效果"><a href="http://wiki.amplify.pt/index.php?title=Category:Image_Effects">Image Effects</a> : 图片效果</h1>

<h3 id="blend-operations-混合操作">Blend Operations: 混合操作</h3>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/BlendOpsNode.jpg" alt="image-20200616171326321" /></p>

<h5 id="color-burn">Color Burn</h5>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/image-20200616180332670.png" alt="image-20200616180332670" /></p>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">Shader</span> <span class="s">"TestNode"</span>
<span class="p">{</span>
	<span class="n">Properties</span>
	<span class="p">{</span>
		<span class="n">_Alpha</span><span class="p">(</span><span class="s">"Alpha"</span><span class="p">,</span> <span class="n">Range</span><span class="p">(</span> <span class="o">-</span><span class="mi">2</span> <span class="p">,</span> <span class="mi">2</span><span class="p">))</span> <span class="o">=</span> <span class="mi">0</span>
		<span class="n">_SourceTexture</span><span class="p">(</span><span class="s">"SourceTexture"</span><span class="p">,</span> <span class="mi">2</span><span class="n">D</span><span class="p">)</span> <span class="o">=</span> <span class="s">"white"</span> <span class="p">{}</span>
		<span class="n">_DestinyTexture</span><span class="p">(</span><span class="s">"DestinyTexture"</span><span class="p">,</span> <span class="mi">2</span><span class="n">D</span><span class="p">)</span> <span class="o">=</span> <span class="s">"white"</span> <span class="p">{}</span>
		<span class="p">[</span><span class="n">HideInInspector</span><span class="p">]</span> <span class="n">_texcoord</span><span class="p">(</span> <span class="s">""</span><span class="p">,</span> <span class="mi">2</span><span class="n">D</span> <span class="p">)</span> <span class="o">=</span> <span class="s">"white"</span> <span class="p">{}</span>

	<span class="p">}</span>
	
	<span class="n">SubShader</span>
	<span class="p">{</span>
		
		
		<span class="n">Tags</span> <span class="p">{</span> <span class="s">"RenderType"</span><span class="o">=</span><span class="s">"Opaque"</span> <span class="p">}</span>
	<span class="n">LOD</span> <span class="mi">100</span>

		<span class="n">CGINCLUDE</span>
		<span class="cp">#pragma target 3.0
</span>		<span class="n">ENDCG</span>
		<span class="n">Blend</span> <span class="n">Off</span>
		<span class="n">Cull</span> <span class="n">Back</span>
		<span class="n">ColorMask</span> <span class="n">RGBA</span>
		<span class="n">ZWrite</span> <span class="n">On</span>
		<span class="n">ZTest</span> <span class="n">LEqual</span>
		<span class="n">Offset</span> <span class="mi">0</span> <span class="p">,</span> <span class="mi">0</span>
		
		
		
		<span class="n">Pass</span>
		<span class="p">{</span>
			<span class="n">Name</span> <span class="s">"Unlit"</span>
			<span class="n">Tags</span> <span class="p">{</span> <span class="s">"LightMode"</span><span class="o">=</span><span class="s">"ForwardBase"</span> <span class="p">}</span>
			<span class="n">CGPROGRAM</span>

			

			<span class="cp">#ifndef UNITY_SETUP_STEREO_EYE_INDEX_POST_VERTEX
</span>			<span class="c1">//only defining to not throw compilation error over Unity 5.5</span>
			<span class="cp">#define UNITY_SETUP_STEREO_EYE_INDEX_POST_VERTEX(input)
</span>			<span class="cp">#endif
</span>			<span class="cp">#pragma vertex vert
</span>			<span class="cp">#pragma fragment frag
</span>			<span class="cp">#pragma multi_compile_instancing
</span>			<span class="cp">#include "UnityCG.cginc"
</span>			

			<span class="k">struct</span> <span class="n">appdata</span>
			<span class="p">{</span>
				<span class="n">float4</span> <span class="n">vertex</span> <span class="o">:</span> <span class="n">POSITION</span><span class="p">;</span>
				<span class="n">float4</span> <span class="n">color</span> <span class="o">:</span> <span class="n">COLOR</span><span class="p">;</span>
				<span class="n">UNITY_VERTEX_INPUT_INSTANCE_ID</span>
				<span class="n">float4</span> <span class="n">ase_texcoord</span> <span class="o">:</span> <span class="n">TEXCOORD0</span><span class="p">;</span>
			<span class="p">};</span>
			
			<span class="k">struct</span> <span class="n">v2f</span>
			<span class="p">{</span>
				<span class="n">float4</span> <span class="n">vertex</span> <span class="o">:</span> <span class="n">SV_POSITION</span><span class="p">;</span>
				<span class="n">UNITY_VERTEX_INPUT_INSTANCE_ID</span>
				<span class="n">UNITY_VERTEX_OUTPUT_STEREO</span>
				<span class="n">float4</span> <span class="n">ase_texcoord</span> <span class="o">:</span> <span class="n">TEXCOORD0</span><span class="p">;</span>
			<span class="p">};</span>

			<span class="k">uniform</span> <span class="kt">sampler2D</span> <span class="n">_SourceTexture</span><span class="p">;</span>
			<span class="k">uniform</span> <span class="n">float4</span> <span class="n">_SourceTexture_ST</span><span class="p">;</span>
			<span class="k">uniform</span> <span class="kt">sampler2D</span> <span class="n">_DestinyTexture</span><span class="p">;</span>
			<span class="k">uniform</span> <span class="n">float4</span> <span class="n">_DestinyTexture_ST</span><span class="p">;</span>
			<span class="k">uniform</span> <span class="kt">float</span> <span class="n">_Alpha</span><span class="p">;</span>

			
			<span class="n">v2f</span> <span class="n">vert</span> <span class="p">(</span> <span class="n">appdata</span> <span class="n">v</span> <span class="p">)</span>
			<span class="p">{</span>
				<span class="n">v2f</span> <span class="n">o</span><span class="p">;</span>
				<span class="n">UNITY_SETUP_INSTANCE_ID</span><span class="p">(</span><span class="n">v</span><span class="p">);</span>
				<span class="n">UNITY_INITIALIZE_VERTEX_OUTPUT_STEREO</span><span class="p">(</span><span class="n">o</span><span class="p">);</span>
				<span class="n">UNITY_TRANSFER_INSTANCE_ID</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="n">o</span><span class="p">);</span>

				<span class="n">o</span><span class="p">.</span><span class="n">ase_texcoord</span><span class="p">.</span><span class="n">xy</span> <span class="o">=</span> <span class="n">v</span><span class="p">.</span><span class="n">ase_texcoord</span><span class="p">.</span><span class="n">xy</span><span class="p">;</span>
				
				<span class="c1">//setting value to unused interpolator channels and avoid initialization warnings</span>
				<span class="n">o</span><span class="p">.</span><span class="n">ase_texcoord</span><span class="p">.</span><span class="n">zw</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
				<span class="n">float3</span> <span class="n">vertexValue</span> <span class="o">=</span> <span class="n">float3</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
				<span class="cp">#if ASE_ABSOLUTE_VERTEX_POS
</span>				<span class="n">vertexValue</span> <span class="o">=</span> <span class="n">v</span><span class="p">.</span><span class="n">vertex</span><span class="p">.</span><span class="n">xyz</span><span class="p">;</span>
				<span class="cp">#endif
</span>				<span class="n">vertexValue</span> <span class="o">=</span> <span class="n">vertexValue</span><span class="p">;</span>
				<span class="cp">#if ASE_ABSOLUTE_VERTEX_POS
</span>				<span class="n">v</span><span class="p">.</span><span class="n">vertex</span><span class="p">.</span><span class="n">xyz</span> <span class="o">=</span> <span class="n">vertexValue</span><span class="p">;</span>
				<span class="cp">#else
</span>				<span class="n">v</span><span class="p">.</span><span class="n">vertex</span><span class="p">.</span><span class="n">xyz</span> <span class="o">+=</span> <span class="n">vertexValue</span><span class="p">;</span>
				<span class="cp">#endif
</span>				<span class="n">o</span><span class="p">.</span><span class="n">vertex</span> <span class="o">=</span> <span class="n">UnityObjectToClipPos</span><span class="p">(</span><span class="n">v</span><span class="p">.</span><span class="n">vertex</span><span class="p">);</span>
				<span class="k">return</span> <span class="n">o</span><span class="p">;</span>
			<span class="p">}</span>
			
			<span class="n">fixed4</span> <span class="n">frag</span> <span class="p">(</span><span class="n">v2f</span> <span class="n">i</span> <span class="p">)</span> <span class="o">:</span> <span class="n">SV_Target</span>
			<span class="p">{</span>
				<span class="n">UNITY_SETUP_INSTANCE_ID</span><span class="p">(</span><span class="n">i</span><span class="p">);</span>
				<span class="n">UNITY_SETUP_STEREO_EYE_INDEX_POST_VERTEX</span><span class="p">(</span><span class="n">i</span><span class="p">);</span>
				<span class="n">fixed4</span> <span class="n">finalColor</span><span class="p">;</span>
				<span class="n">float2</span> <span class="n">uv_SourceTexture</span> <span class="o">=</span> <span class="n">i</span><span class="p">.</span><span class="n">ase_texcoord</span><span class="p">.</span><span class="n">xy</span> <span class="o">*</span> <span class="n">_SourceTexture_ST</span><span class="p">.</span><span class="n">xy</span> <span class="o">+</span> <span class="n">_SourceTexture_ST</span><span class="p">.</span><span class="n">zw</span><span class="p">;</span>
				<span class="n">float2</span> <span class="n">uv_DestinyTexture</span> <span class="o">=</span> <span class="n">i</span><span class="p">.</span><span class="n">ase_texcoord</span><span class="p">.</span><span class="n">xy</span> <span class="o">*</span> <span class="n">_DestinyTexture_ST</span><span class="p">.</span><span class="n">xy</span> <span class="o">+</span> <span class="n">_DestinyTexture_ST</span><span class="p">.</span><span class="n">zw</span><span class="p">;</span>
				<span class="n">float4</span> <span class="n">blendOpSrc795</span> <span class="o">=</span> <span class="n">tex2D</span><span class="p">(</span> <span class="n">_SourceTexture</span><span class="p">,</span> <span class="n">uv_SourceTexture</span> <span class="p">);</span>
				<span class="n">float4</span> <span class="n">blendOpDest795</span> <span class="o">=</span> <span class="n">tex2D</span><span class="p">(</span> <span class="n">_DestinyTexture</span><span class="p">,</span> <span class="n">uv_DestinyTexture</span> <span class="p">);</span>
				<span class="n">float4</span> <span class="n">lerpBlendMode795</span> <span class="o">=</span> <span class="n">lerp</span><span class="p">(</span><span class="n">blendOpDest795</span><span class="p">,(</span> <span class="mi">1</span><span class="p">.</span><span class="mi">0</span> <span class="o">-</span> <span class="p">(</span> <span class="p">(</span> <span class="mi">1</span><span class="p">.</span><span class="mi">0</span> <span class="o">-</span> <span class="n">blendOpDest795</span><span class="p">)</span> <span class="o">/</span> <span class="n">max</span><span class="p">(</span> <span class="n">blendOpSrc795</span><span class="p">,</span> <span class="mi">0</span><span class="p">.</span><span class="mo">00001</span><span class="p">)</span> <span class="p">)</span> <span class="p">),</span><span class="n">_Alpha</span><span class="p">);</span>
				
				
				<span class="n">finalColor</span> <span class="o">=</span> <span class="p">(</span> <span class="n">saturate</span><span class="p">(</span> <span class="n">lerpBlendMode795</span> <span class="p">));</span>
				<span class="k">return</span> <span class="n">finalColor</span><span class="p">;</span>
			<span class="p">}</span>
			<span class="n">ENDCG</span>
		<span class="p">}</span>
	<span class="p">}</span>
	<span class="n">CustomEditor</span> <span class="s">"ASEMaterialInspector"</span>
	
	
<span class="p">}</span>
</code></pre></div></div>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">float4</span> <span class="n">lerpBlendMode</span> <span class="o">=</span> <span class="n">lerp</span><span class="p">(</span><span class="n">dest</span><span class="p">,</span>  <span class="p">(</span> <span class="mi">1</span><span class="p">.</span><span class="mi">0</span> <span class="o">-</span> <span class="p">(</span> <span class="p">(</span> <span class="mi">1</span><span class="p">.</span><span class="mi">0</span> <span class="o">-</span> <span class="n">dest</span><span class="p">)</span> <span class="o">/</span> <span class="n">max</span><span class="p">(</span> <span class="n">src</span><span class="p">,</span> <span class="mi">0</span><span class="p">.</span><span class="mo">00001</span><span class="p">)</span> <span class="p">)</span> <span class="p">),</span><span class="n">_Alpha</span><span class="p">);</span>
</code></pre></div></div>

<h5 id="color-dodge">Color Dodge</h5>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">float4</span> <span class="n">lerpBlendMode</span> <span class="o">=</span> <span class="n">lerp</span><span class="p">(</span><span class="n">dest</span><span class="p">,(</span><span class="n">dest</span> <span class="o">/</span> <span class="n">max</span><span class="p">(</span> <span class="mi">1</span><span class="p">.</span><span class="mi">0</span> <span class="o">-</span> <span class="n">src</span><span class="p">,</span> <span class="mi">0</span><span class="p">.</span><span class="mo">00001</span> <span class="p">)</span> <span class="p">),</span><span class="n">_Alpha</span><span class="p">);</span>
</code></pre></div></div>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/image-20200616180714061.png" alt="image-20200616180714061" /></p>

<h5 id="darken">Darken</h5>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">float4</span> <span class="n">lerpBlendMode</span> <span class="o">=</span> <span class="n">lerp</span><span class="p">(</span><span class="n">dest</span><span class="p">,</span><span class="n">min</span><span class="p">(</span> <span class="n">src</span> <span class="p">,</span> <span class="n">dest</span><span class="p">),</span><span class="n">_Alpha</span><span class="p">);</span>
</code></pre></div></div>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/image-20200616180934816.png" alt="image-20200616180934816" /></p>

<h5 id="divide">Divide</h5>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">float4</span> <span class="n">lerpBlendMode</span> <span class="o">=</span> <span class="n">lerp</span><span class="p">(</span><span class="n">dest</span><span class="p">,(</span><span class="n">dest</span> <span class="o">/</span> <span class="n">max</span><span class="p">(</span><span class="n">src</span><span class="p">,</span><span class="mi">0</span><span class="p">.</span><span class="mo">00001</span><span class="p">)</span> <span class="p">),</span><span class="n">_Alpha</span><span class="p">);</span>
</code></pre></div></div>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/image-20200616181331076.png" alt="image-20200616181331076" /></p>

<h5 id="difference">Difference</h5>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">float4</span> <span class="n">lerpBlendMode</span> <span class="o">=</span> <span class="n">lerp</span><span class="p">(</span><span class="n">dest</span><span class="p">,</span><span class="n">abs</span><span class="p">(</span> <span class="n">src</span> <span class="o">-</span> <span class="n">dest</span> <span class="p">),</span><span class="n">_Alpha</span><span class="p">);</span>
</code></pre></div></div>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/image-20200616181455275.png" alt="image-20200616181455275" /></p>

<h5 id="exclusion">Exclusion</h5>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">float4</span> <span class="n">lerpBlendMode</span> <span class="o">=</span> <span class="n">lerp</span><span class="p">(</span><span class="n">dest</span><span class="p">,(</span> <span class="mi">0</span><span class="p">.</span><span class="mi">5</span> <span class="o">-</span> <span class="mi">2</span><span class="p">.</span><span class="mi">0</span> <span class="o">*</span> <span class="p">(</span> <span class="n">src</span> <span class="o">-</span> <span class="mi">0</span><span class="p">.</span><span class="mi">5</span> <span class="p">)</span> <span class="o">*</span> <span class="p">(</span> <span class="n">dest</span> <span class="o">-</span> <span class="mi">0</span><span class="p">.</span><span class="mi">5</span> <span class="p">)</span> <span class="p">),</span><span class="n">_Alpha</span><span class="p">);</span>
</code></pre></div></div>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/image-20200616181728412.png" alt="image-20200616181728412" /></p>

<h5 id="soft-light">Soft Light</h5>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">float4</span> <span class="n">lerpBlendMode</span> <span class="o">=</span> <span class="n">lerp</span><span class="p">(</span><span class="n">dest</span><span class="p">,</span><span class="mi">2</span><span class="p">.</span><span class="mi">0</span><span class="n">f</span><span class="o">*</span><span class="n">dest</span><span class="o">*</span><span class="n">src</span> <span class="o">+</span> <span class="n">dest</span> <span class="o">*</span> <span class="n">dest</span><span class="o">*</span><span class="p">(</span><span class="mi">1</span><span class="p">.</span><span class="mi">0</span><span class="n">f</span> <span class="o">-</span> <span class="mi">2</span><span class="p">.</span><span class="mi">0</span><span class="n">f</span><span class="o">*</span><span class="n">src</span><span class="p">),</span><span class="n">_Alpha</span><span class="p">);</span>
</code></pre></div></div>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/image-20200616181835457.png" alt="image-20200616181835457" /></p>

<h5 id="hard-light">Hard Light</h5>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">float4</span> <span class="n">lerpBlendMode</span> <span class="o">=</span> <span class="n">lerp</span><span class="p">(</span><span class="n">dest</span><span class="p">,</span> <span class="p">((</span> <span class="n">src</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">.</span><span class="mi">5</span> <span class="p">)</span> <span class="o">?</span> <span class="p">(</span> <span class="mi">1</span><span class="p">.</span><span class="mi">0</span> <span class="o">-</span> <span class="p">(</span> <span class="mi">1</span><span class="p">.</span><span class="mi">0</span> <span class="o">-</span> <span class="mi">2</span><span class="p">.</span><span class="mi">0</span> <span class="o">*</span> <span class="p">(</span> <span class="n">src</span> <span class="o">-</span> <span class="mi">0</span><span class="p">.</span><span class="mi">5</span> <span class="p">)</span> <span class="p">)</span> <span class="o">*</span> <span class="p">(</span> <span class="mi">1</span><span class="p">.</span><span class="mi">0</span> <span class="o">-</span> <span class="n">dest</span> <span class="p">)</span> <span class="p">)</span> <span class="o">:</span> <span class="p">(</span> <span class="mi">2</span><span class="p">.</span><span class="mi">0</span> <span class="o">*</span> <span class="n">src</span> <span class="o">*</span> <span class="n">dest</span> <span class="p">)</span> <span class="p">),</span><span class="n">_Alpha</span><span class="p">);</span>
</code></pre></div></div>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/image-20200616182019697.png" alt="image-20200616182019697" /></p>

<h5 id="hard-mix">Hard Mix</h5>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">float4</span> <span class="n">lerpBlendMode</span> <span class="o">=</span> <span class="n">lerp</span><span class="p">(</span><span class="n">dest</span><span class="p">,</span> <span class="n">round</span><span class="p">(</span> <span class="mi">0</span><span class="p">.</span><span class="mi">5</span> <span class="o">*</span> <span class="p">(</span> <span class="n">src</span> <span class="o">+</span> <span class="n">dest</span> <span class="p">)</span> <span class="p">),</span><span class="n">_Alpha</span><span class="p">);</span>
</code></pre></div></div>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/image-20200616182234082.png" alt="image-20200616182234082" /></p>

<h5 id="lighten">Lighten</h5>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">float4</span> <span class="n">lerpBlendMode</span> <span class="o">=</span> <span class="n">lerp</span><span class="p">(</span><span class="n">dest</span><span class="p">,</span><span class="n">max</span><span class="p">(</span> <span class="n">src</span><span class="p">,</span> <span class="n">dest</span> <span class="p">),</span><span class="n">_Alpha</span><span class="p">);</span>
</code></pre></div></div>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/image-20200616182345468.png" alt="image-20200616182345468" /></p>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/image-20200616182615156.png" alt="image-20200616182615156" /></p>

<h5 id="linear-burn">Linear Burn</h5>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">float4</span> <span class="n">lerpBlendMode</span> <span class="o">=</span> <span class="n">lerp</span><span class="p">(</span><span class="n">dest</span><span class="p">,(</span> <span class="n">src</span> <span class="o">+</span> <span class="n">dest</span> <span class="o">-</span> <span class="mi">1</span><span class="p">.</span><span class="mi">0</span> <span class="p">),</span><span class="n">_Alpha</span><span class="p">);</span>
</code></pre></div></div>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/image-20200616182905500.png" alt="image-20200616182905500" /></p>

<h5 id="linear-dodge">Linear Dodge</h5>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">float4</span> <span class="n">lerpBlendMode</span> <span class="o">=</span> <span class="n">lerp</span><span class="p">(</span><span class="n">dest</span><span class="p">,(</span> <span class="n">src</span> <span class="o">+</span> <span class="n">dest</span> <span class="p">),</span><span class="n">_Alpha</span><span class="p">);</span>
</code></pre></div></div>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/image-20200616183054488.png" alt="image-20200616183054488" /></p>

<h5 id="linear-light">Linear Light</h5>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">float4</span> <span class="n">lerpBlendMode</span> <span class="o">=</span> <span class="n">lerp</span><span class="p">(</span><span class="n">dest</span><span class="p">,((</span> <span class="n">src</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">.</span><span class="mi">5</span> <span class="p">)</span><span class="o">?</span> <span class="p">(</span> <span class="n">dest</span> <span class="o">+</span> <span class="mi">2</span><span class="p">.</span><span class="mi">0</span> <span class="o">*</span> <span class="n">src</span> <span class="o">-</span> <span class="mi">1</span><span class="p">.</span><span class="mi">0</span> <span class="p">)</span> <span class="o">:</span> <span class="p">(</span> <span class="n">dest</span> <span class="o">+</span> <span class="mi">2</span><span class="p">.</span><span class="mi">0</span> <span class="o">*</span> <span class="p">(</span> <span class="n">src</span> <span class="o">-</span> <span class="mi">0</span><span class="p">.</span><span class="mi">5</span> <span class="p">)</span> <span class="p">)</span> <span class="p">),</span><span class="n">_Alpha</span><span class="p">);</span>
</code></pre></div></div>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/image-20200616183324920.png" alt="image-20200616183324920" /></p>

<h5 id="multiply">Multiply</h5>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">float4</span> <span class="n">lerpBlendMode</span> <span class="o">=</span> <span class="n">lerp</span><span class="p">(</span><span class="n">dest</span><span class="p">,(</span> <span class="n">src</span> <span class="o">*</span> <span class="n">dest</span> <span class="p">),</span><span class="n">_Alpha</span><span class="p">);</span>
</code></pre></div></div>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/image-20200616183442693.png" alt="image-20200616183442693" /></p>

<h5 id="overlay">Overlay</h5>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">float4</span> <span class="n">lerpBlendMode</span> <span class="o">=</span> <span class="n">lerp</span><span class="p">(</span><span class="n">dest</span><span class="p">,((</span> <span class="n">dest</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">.</span><span class="mi">5</span> <span class="p">)</span> <span class="o">?</span> <span class="p">(</span> <span class="mi">1</span><span class="p">.</span><span class="mi">0</span> <span class="o">-</span> <span class="mi">2</span><span class="p">.</span><span class="mi">0</span> <span class="o">*</span> <span class="p">(</span> <span class="mi">1</span><span class="p">.</span><span class="mi">0</span> <span class="o">-</span> <span class="n">dest</span> <span class="p">)</span> <span class="o">*</span> <span class="p">(</span> <span class="mi">1</span><span class="p">.</span><span class="mi">0</span> <span class="o">-</span> <span class="n">src</span> <span class="p">)</span> <span class="p">)</span> <span class="o">:</span> <span class="p">(</span> <span class="mi">2</span><span class="p">.</span><span class="mi">0</span> <span class="o">*</span> <span class="n">dest</span> <span class="o">*</span> <span class="n">src</span> <span class="p">)</span> <span class="p">),</span><span class="n">_Alpha</span><span class="p">);</span>
</code></pre></div></div>

<h5 id="pin-light">Pin Light</h5>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">float4</span> <span class="n">lerpBlendMode</span> <span class="o">=</span> <span class="n">lerp</span><span class="p">(</span><span class="n">dest</span><span class="p">,((</span> <span class="n">src</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">.</span><span class="mi">5</span> <span class="p">)</span> <span class="o">?</span> <span class="n">max</span><span class="p">(</span> <span class="n">dest</span><span class="p">,</span> <span class="mi">2</span><span class="p">.</span><span class="mi">0</span> <span class="o">*</span> <span class="p">(</span> <span class="n">src</span> <span class="o">-</span> <span class="mi">0</span><span class="p">.</span><span class="mi">5</span> <span class="p">)</span> <span class="p">)</span> <span class="o">:</span> <span class="n">min</span><span class="p">(</span> <span class="n">dest</span><span class="p">,</span> <span class="mi">2</span><span class="p">.</span><span class="mi">0</span> <span class="o">*</span> <span class="n">src</span> <span class="p">)</span> <span class="p">),</span><span class="n">_Alpha</span><span class="p">);</span>
</code></pre></div></div>

<h5 id="subtract">Subtract</h5>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">float4</span> <span class="n">lerpBlendMode</span> <span class="o">=</span> <span class="n">lerp</span><span class="p">(</span><span class="n">dest</span><span class="p">,(</span> <span class="n">dest</span> <span class="o">-</span> <span class="n">src</span> <span class="p">),</span><span class="n">_Alpha</span><span class="p">);</span>
</code></pre></div></div>

<h5 id="screen">Screen</h5>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">float4</span> <span class="n">lerpBlendMode</span> <span class="o">=</span> <span class="n">lerp</span><span class="p">(</span><span class="n">dest</span><span class="p">,(</span> <span class="mi">1</span><span class="p">.</span><span class="mi">0</span> <span class="o">-</span> <span class="p">(</span> <span class="mi">1</span><span class="p">.</span><span class="mi">0</span> <span class="o">-</span> <span class="n">src</span> <span class="p">)</span> <span class="o">*</span> <span class="p">(</span> <span class="mi">1</span><span class="p">.</span><span class="mi">0</span> <span class="o">-</span> <span class="n">dest</span> <span class="p">)</span> <span class="p">),</span><span class="n">_Alpha</span><span class="p">);</span>
</code></pre></div></div>

<h5 id="vivid-light">Vivid Light</h5>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">float4</span> <span class="n">lerpBlendMode</span> <span class="o">=</span> <span class="n">lerp</span><span class="p">(</span><span class="n">dest</span><span class="p">,((</span> <span class="n">src</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">.</span><span class="mi">5</span> <span class="p">)</span> <span class="o">?</span> <span class="p">(</span> <span class="n">dest</span> <span class="o">/</span> <span class="n">max</span><span class="p">(</span> <span class="p">(</span> <span class="mi">1</span><span class="p">.</span><span class="mi">0</span> <span class="o">-</span> <span class="n">src</span> <span class="p">)</span> <span class="o">*</span> <span class="mi">2</span><span class="p">.</span><span class="mi">0</span> <span class="p">,</span><span class="mi">0</span><span class="p">.</span><span class="mo">00001</span><span class="p">)</span> <span class="p">)</span> <span class="o">:</span> <span class="p">(</span> <span class="mi">1</span><span class="p">.</span><span class="mi">0</span> <span class="o">-</span> <span class="p">(</span> <span class="p">(</span> <span class="p">(</span> <span class="mi">1</span><span class="p">.</span><span class="mi">0</span> <span class="o">-</span> <span class="n">dest</span> <span class="p">)</span> <span class="o">*</span> <span class="mi">0</span><span class="p">.</span><span class="mi">5</span> <span class="p">)</span> <span class="o">/</span> <span class="n">max</span><span class="p">(</span> <span class="n">src</span><span class="p">,</span><span class="mi">0</span><span class="p">.</span><span class="mo">00001</span><span class="p">)</span> <span class="p">)</span> <span class="p">)</span> <span class="p">),</span><span class="n">_Alpha</span><span class="p">);</span>
</code></pre></div></div>

<h3 id="desaturate-去饱和度">Desaturate: 去饱和度</h3>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/image-20200617100031188.png" alt="image-20200617100031188" /></p>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">float3</span> <span class="n">color</span> <span class="o">=</span> <span class="n">tex2D</span><span class="p">(</span> <span class="n">_MainTexture</span><span class="p">,</span> <span class="n">uv_MainTexture</span> <span class="p">).</span><span class="n">rgb</span><span class="p">;</span>
<span class="kt">float</span> <span class="n">desaturateDot</span> <span class="o">=</span> <span class="n">dot</span><span class="p">(</span> <span class="n">color</span><span class="p">,</span> <span class="n">float3</span><span class="p">(</span> <span class="mi">0</span><span class="p">.</span><span class="mi">299</span><span class="p">,</span> <span class="mi">0</span><span class="p">.</span><span class="mi">587</span><span class="p">,</span> <span class="mi">0</span><span class="p">.</span><span class="mi">114</span> <span class="p">));</span>
<span class="n">float3</span> <span class="n">desaturateVar</span> <span class="o">=</span> <span class="n">lerp</span><span class="p">(</span> <span class="n">color</span><span class="p">,</span> <span class="n">desaturateDot</span><span class="p">.</span><span class="n">xxx</span><span class="p">,</span> <span class="n">_Fraction</span> <span class="p">);</span>
</code></pre></div></div>

<h3 id="grayscale-去色-灰色图">Grayscale: 去色, 灰色图</h3>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/image-20200617100821252.png" alt="image-20200617100821252" /></p>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">float</span> <span class="n">grayscale</span> <span class="o">=</span> <span class="n">Luminance</span><span class="p">(</span><span class="n">tex2D</span><span class="p">(</span> <span class="n">_MainTexture</span><span class="p">,</span> <span class="n">uv_MainTexture</span> <span class="p">).</span><span class="n">rgb</span><span class="p">);</span>
</code></pre></div></div>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">float</span> <span class="n">grayscale</span> <span class="o">=</span> <span class="n">dot</span><span class="p">(</span><span class="n">tex2D</span><span class="p">(</span> <span class="n">_MainTexture</span><span class="p">,</span> <span class="n">uv_MainTexture</span> <span class="p">).</span><span class="n">rgb</span><span class="p">,</span> <span class="n">float3</span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">299</span><span class="p">,</span><span class="mi">0</span><span class="p">.</span><span class="mi">587</span><span class="p">,</span><span class="mi">0</span><span class="p">.</span><span class="mi">114</span><span class="p">));</span>
</code></pre></div></div>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">float</span> <span class="n">grayscale</span> <span class="o">=</span> <span class="p">(</span><span class="n">tex2D</span><span class="p">(</span> <span class="n">_MainTexture</span><span class="p">,</span> <span class="n">uv_MainTexture</span> <span class="p">).</span><span class="n">rgb</span><span class="p">.</span><span class="n">r</span> <span class="o">+</span> <span class="n">tex2D</span><span class="p">(</span> <span class="n">_MainTexture</span><span class="p">,</span> <span class="n">uv_MainTexture</span> <span class="p">).</span><span class="n">rgb</span><span class="p">.</span><span class="n">g</span> <span class="o">+</span> <span class="n">tex2D</span><span class="p">(</span> <span class="n">_MainTexture</span><span class="p">,</span> <span class="n">uv_MainTexture</span> <span class="p">).</span><span class="n">rgb</span><span class="p">.</span><span class="n">b</span><span class="p">)</span> <span class="o">/</span> <span class="mi">3</span><span class="p">;</span>
</code></pre></div></div>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Converts color to luminance (grayscale)</span>
<span class="kt">float</span> <span class="nf">Luminance</span><span class="p">(</span> <span class="kt">vec3</span> <span class="n">c</span> <span class="p">)</span>
<span class="p">{</span>
    <span class="k">return</span> <span class="n">dot</span><span class="p">(</span> <span class="n">c</span><span class="p">,</span> <span class="kt">vec3</span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">22</span><span class="p">,</span> <span class="mi">0</span><span class="p">.</span><span class="mi">707</span><span class="p">,</span> <span class="mi">0</span><span class="p">.</span><span class="mo">071</span><span class="p">)</span> <span class="p">);</span>
<span class="p">}</span>

</code></pre></div></div>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#ifdef UNITY_COLORSPACE_GAMMA
</span>    <span class="cp">#define unity_ColorSpaceGrey fixed4(0.5, 0.5, 0.5, 0.5)
</span>    <span class="cp">#define unity_ColorSpaceDouble fixed4(2.0, 2.0, 2.0, 2.0)
</span>    <span class="cp">#define unity_ColorSpaceDielectricSpec half4(0.220916301, 0.220916301, 0.220916301, 1.0 - 0.220916301)
</span>    <span class="cp">#define unity_ColorSpaceLuminance half4(0.22, 0.707, 0.071, 0.0) // Legacy: alpha is set to 0.0 to specify gamma mode
#else // Linear values
</span>    <span class="cp">#define unity_ColorSpaceGrey fixed4(0.214041144, 0.214041144, 0.214041144, 0.5)
</span>    <span class="cp">#define unity_ColorSpaceDouble fixed4(4.59479380, 4.59479380, 4.59479380, 2.0)
</span>    <span class="cp">#define unity_ColorSpaceDielectricSpec half4(0.04, 0.04, 0.04, 1.0 - 0.04) // standard dielectric reflectivity coef at incident angle (= 4%)
</span>    <span class="cp">#define unity_ColorSpaceLuminance half4(0.0396819152, 0.458021790, 0.00609653955, 1.0) // Legacy: alpha is set to 1.0 to specify linear mode
#endif
</span>        
<span class="c1">// Converts color to luminance (grayscale)</span>
<span class="kr">inline</span> <span class="kr">half</span> <span class="nf">Luminance</span><span class="p">(</span><span class="n">half3</span> <span class="n">rgb</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">return</span> <span class="n">dot</span><span class="p">(</span><span class="n">rgb</span><span class="p">,</span> <span class="n">unity_ColorSpaceLuminance</span><span class="p">.</span><span class="n">rgb</span><span class="p">);</span>
<span class="p">}</span>

<span class="c1">// Convert rgb to luminance</span>
<span class="c1">// with rgb in linear space with sRGB primaries and D65 white point</span>
<span class="kr">half</span> <span class="nf">LinearRgbToLuminance</span><span class="p">(</span><span class="n">half3</span> <span class="n">linearRgb</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">return</span> <span class="n">dot</span><span class="p">(</span><span class="n">linearRgb</span><span class="p">,</span> <span class="n">half3</span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">2126729</span><span class="n">f</span><span class="p">,</span>  <span class="mi">0</span><span class="p">.</span><span class="mi">7151522</span><span class="n">f</span><span class="p">,</span> <span class="mi">0</span><span class="p">.</span><span class="mo">0721750</span><span class="n">f</span><span class="p">));</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="luminance-去色-亮度图">Luminance: 去色, 亮度图</h3>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">float</span> <span class="n">luminance</span> <span class="o">=</span> <span class="n">Luminance</span><span class="p">(</span><span class="n">tex2D</span><span class="p">(</span> <span class="n">_MainTexture</span><span class="p">,</span> <span class="n">uv_MainTexture</span> <span class="p">).</span><span class="n">rgb</span><span class="p">);</span>
</code></pre></div></div>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/image-20200617104946228.png" alt="image-20200617104946228" /></p>

<h3 id="gamma-to-linear-伽马">Gamma To Linear: 伽马</h3>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/image-20200617100209061.png" alt="image-20200617100209061" /></p>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">float3</span> <span class="n">gammaToLinear</span> <span class="o">=</span> <span class="n">GammaToLinearSpace</span><span class="p">(</span> <span class="n">tex2D</span><span class="p">(</span> <span class="n">_MainTexture</span><span class="p">,</span> <span class="n">uv_MainTexture</span> <span class="p">).</span><span class="n">rgb</span> <span class="p">);</span>
</code></pre></div></div>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kr">inline</span> <span class="kt">float</span> <span class="nf">GammaToLinearSpaceExact</span> <span class="p">(</span><span class="kt">float</span> <span class="n">value</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">value</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">.</span><span class="mo">04045</span><span class="n">F</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">value</span> <span class="o">/</span> <span class="mi">12</span><span class="p">.</span><span class="mi">92</span><span class="n">F</span><span class="p">;</span>
    <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">value</span> <span class="o">&lt;</span> <span class="mi">1</span><span class="p">.</span><span class="mi">0</span><span class="n">F</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">pow</span><span class="p">((</span><span class="n">value</span> <span class="o">+</span> <span class="mi">0</span><span class="p">.</span><span class="mo">055</span><span class="n">F</span><span class="p">)</span><span class="o">/</span><span class="mi">1</span><span class="p">.</span><span class="mo">055</span><span class="n">F</span><span class="p">,</span> <span class="mi">2</span><span class="p">.</span><span class="mi">4</span><span class="n">F</span><span class="p">);</span>
    <span class="k">else</span>
        <span class="k">return</span> <span class="n">pow</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="mi">2</span><span class="p">.</span><span class="mi">2</span><span class="n">F</span><span class="p">);</span>
<span class="p">}</span>

<span class="kr">inline</span> <span class="n">half3</span> <span class="nf">GammaToLinearSpace</span> <span class="p">(</span><span class="n">half3</span> <span class="n">sRGB</span><span class="p">)</span>
<span class="p">{</span>
    <span class="c1">// Approximate version from http://chilliant.blogspot.com.au/2012/08/srgb-approximations-for-hlsl.html?m=1</span>
    <span class="k">return</span> <span class="n">sRGB</span> <span class="o">*</span> <span class="p">(</span><span class="n">sRGB</span> <span class="o">*</span> <span class="p">(</span><span class="n">sRGB</span> <span class="o">*</span> <span class="mi">0</span><span class="p">.</span><span class="mi">305306011</span><span class="n">h</span> <span class="o">+</span> <span class="mi">0</span><span class="p">.</span><span class="mi">682171111</span><span class="n">h</span><span class="p">)</span> <span class="o">+</span> <span class="mi">0</span><span class="p">.</span><span class="mo">012522</span><span class="mi">878</span><span class="n">h</span><span class="p">);</span>

    <span class="c1">// Precise version, useful for debugging.</span>
    <span class="c1">//return half3(GammaToLinearSpaceExact(sRGB.r), GammaToLinearSpaceExact(sRGB.g), GammaToLinearSpaceExact(sRGB.b));</span>
<span class="p">}</span>

<span class="kr">inline</span> <span class="kt">float</span> <span class="nf">LinearToGammaSpaceExact</span> <span class="p">(</span><span class="kt">float</span> <span class="n">value</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">value</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">.</span><span class="mi">0</span><span class="n">F</span><span class="p">)</span>
        <span class="k">return</span> <span class="mi">0</span><span class="p">.</span><span class="mi">0</span><span class="n">F</span><span class="p">;</span>
    <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">value</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">.</span><span class="mo">003130</span><span class="mi">8</span><span class="n">F</span><span class="p">)</span>
        <span class="k">return</span> <span class="mi">12</span><span class="p">.</span><span class="mi">92</span><span class="n">F</span> <span class="o">*</span> <span class="n">value</span><span class="p">;</span>
    <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">value</span> <span class="o">&lt;</span> <span class="mi">1</span><span class="p">.</span><span class="mi">0</span><span class="n">F</span><span class="p">)</span>
        <span class="k">return</span> <span class="mi">1</span><span class="p">.</span><span class="mo">055</span><span class="n">F</span> <span class="o">*</span> <span class="n">pow</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="mi">0</span><span class="p">.</span><span class="mi">4166667</span><span class="n">F</span><span class="p">)</span> <span class="o">-</span> <span class="mi">0</span><span class="p">.</span><span class="mo">055</span><span class="n">F</span><span class="p">;</span>
    <span class="k">else</span>
        <span class="k">return</span> <span class="n">pow</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="mi">0</span><span class="p">.</span><span class="mi">45454545</span><span class="n">F</span><span class="p">);</span>
<span class="p">}</span>

<span class="kr">inline</span> <span class="n">half3</span> <span class="nf">LinearToGammaSpace</span> <span class="p">(</span><span class="n">half3</span> <span class="n">linRGB</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">linRGB</span> <span class="o">=</span> <span class="n">max</span><span class="p">(</span><span class="n">linRGB</span><span class="p">,</span> <span class="n">half3</span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="n">h</span><span class="p">,</span> <span class="mi">0</span><span class="p">.</span><span class="n">h</span><span class="p">,</span> <span class="mi">0</span><span class="p">.</span><span class="n">h</span><span class="p">));</span>
    <span class="c1">// An almost-perfect approximation from http://chilliant.blogspot.com.au/2012/08/srgb-approximations-for-hlsl.html?m=1</span>
    <span class="k">return</span> <span class="n">max</span><span class="p">(</span><span class="mi">1</span><span class="p">.</span><span class="mo">055</span><span class="n">h</span> <span class="o">*</span> <span class="n">pow</span><span class="p">(</span><span class="n">linRGB</span><span class="p">,</span> <span class="mi">0</span><span class="p">.</span><span class="mi">416666667</span><span class="n">h</span><span class="p">)</span> <span class="o">-</span> <span class="mi">0</span><span class="p">.</span><span class="mo">055</span><span class="n">h</span><span class="p">,</span> <span class="mi">0</span><span class="p">.</span><span class="n">h</span><span class="p">);</span>

    <span class="c1">// Exact version, useful for debugging.</span>
    <span class="c1">//return half3(LinearToGammaSpaceExact(linRGB.r), LinearToGammaSpaceExact(linRGB.g), LinearToGammaSpaceExact(linRGB.b));</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="linear-to-gamma-伽马">Linear To Gamma: 伽马</h3>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/image-20200617103829460.png" alt="image-20200617103829460" /></p>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">float3</span> <span class="n">linearToGamma</span> <span class="o">=</span> <span class="n">LinearToGammaSpace</span><span class="p">(</span> <span class="n">color</span> <span class="p">);</span>
</code></pre></div></div>

<h3 id="rgb-to-hsv--rgb-转-hsv">RGB To HSV:  RGB 转 HSV</h3>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/image-20200617104131728.png" alt="image-20200617104131728" /></p>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">float3</span> <span class="n">hsvTorgb</span> <span class="o">=</span> <span class="n">RGBToHSV</span><span class="p">(</span> <span class="n">tex2D</span><span class="p">(</span> <span class="n">_MainTexture</span><span class="p">,</span> <span class="n">uv_MainTexture</span> <span class="p">).</span><span class="n">rgb</span> <span class="p">);</span>
</code></pre></div></div>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">float3</span> <span class="nf">RGBToHSV</span><span class="p">(</span><span class="n">float3</span> <span class="n">c</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">float4</span> <span class="n">K</span> <span class="o">=</span> <span class="n">float4</span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">.</span><span class="mi">0</span> <span class="o">/</span> <span class="mi">3</span><span class="p">.</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">.</span><span class="mi">0</span> <span class="o">/</span> <span class="mi">3</span><span class="p">.</span><span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">.</span><span class="mi">0</span><span class="p">);</span>
    <span class="n">float4</span> <span class="n">p</span> <span class="o">=</span> <span class="n">lerp</span><span class="p">(</span> <span class="n">float4</span><span class="p">(</span> <span class="n">c</span><span class="p">.</span><span class="n">bg</span><span class="p">,</span> <span class="n">K</span><span class="p">.</span><span class="n">wz</span> <span class="p">),</span> <span class="n">float4</span><span class="p">(</span> <span class="n">c</span><span class="p">.</span><span class="n">gb</span><span class="p">,</span> <span class="n">K</span><span class="p">.</span><span class="n">xy</span> <span class="p">),</span> <span class="n">step</span><span class="p">(</span> <span class="n">c</span><span class="p">.</span><span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">.</span><span class="n">g</span> <span class="p">)</span> <span class="p">);</span>
    <span class="n">float4</span> <span class="n">q</span> <span class="o">=</span> <span class="n">lerp</span><span class="p">(</span> <span class="n">float4</span><span class="p">(</span> <span class="n">p</span><span class="p">.</span><span class="n">xyw</span><span class="p">,</span> <span class="n">c</span><span class="p">.</span><span class="n">r</span> <span class="p">),</span> <span class="n">float4</span><span class="p">(</span> <span class="n">c</span><span class="p">.</span><span class="n">r</span><span class="p">,</span> <span class="n">p</span><span class="p">.</span><span class="n">yzx</span> <span class="p">),</span> <span class="n">step</span><span class="p">(</span> <span class="n">p</span><span class="p">.</span><span class="n">x</span><span class="p">,</span> <span class="n">c</span><span class="p">.</span><span class="n">r</span> <span class="p">)</span> <span class="p">);</span>
    <span class="kt">float</span> <span class="n">d</span> <span class="o">=</span> <span class="n">q</span><span class="p">.</span><span class="n">x</span> <span class="o">-</span> <span class="n">min</span><span class="p">(</span> <span class="n">q</span><span class="p">.</span><span class="n">w</span><span class="p">,</span> <span class="n">q</span><span class="p">.</span><span class="n">y</span> <span class="p">);</span>
    <span class="kt">float</span> <span class="n">e</span> <span class="o">=</span> <span class="mf">1.0e-10</span><span class="p">;</span>
    <span class="k">return</span> <span class="n">float3</span><span class="p">(</span> <span class="n">abs</span><span class="p">(</span><span class="n">q</span><span class="p">.</span><span class="n">z</span> <span class="o">+</span> <span class="p">(</span><span class="n">q</span><span class="p">.</span><span class="n">w</span> <span class="o">-</span> <span class="n">q</span><span class="p">.</span><span class="n">y</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="mi">6</span><span class="p">.</span><span class="mi">0</span> <span class="o">*</span> <span class="n">d</span> <span class="o">+</span> <span class="n">e</span><span class="p">)),</span> <span class="n">d</span> <span class="o">/</span> <span class="p">(</span><span class="n">q</span><span class="p">.</span><span class="n">x</span> <span class="o">+</span> <span class="n">e</span><span class="p">),</span> <span class="n">q</span><span class="p">.</span><span class="n">x</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="hvs-to-rgb">HVS To RGB</h3>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/image-20200617104623348.png" alt="image-20200617104623348" /></p>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">float3</span> <span class="n">hsvTorgb807</span> <span class="o">=</span> <span class="n">RGBToHSV</span><span class="p">(</span> <span class="n">tex2D</span><span class="p">(</span> <span class="n">_MainTexture</span><span class="p">,</span> <span class="n">uv_MainTexture</span> <span class="p">).</span><span class="n">rgb</span> <span class="p">);</span>
<span class="n">float3</span> <span class="n">hsvTorgb808</span> <span class="o">=</span> <span class="n">HSVToRGB</span><span class="p">(</span> <span class="n">float3</span><span class="p">(</span><span class="n">hsvTorgb807</span><span class="p">.</span><span class="n">x</span><span class="p">,</span><span class="n">hsvTorgb807</span><span class="p">.</span><span class="n">y</span><span class="p">,</span><span class="n">hsvTorgb807</span><span class="p">.</span><span class="n">z</span><span class="p">)</span> <span class="p">);</span>
</code></pre></div></div>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">float3</span> <span class="nf">HSVToRGB</span><span class="p">(</span> <span class="n">float3</span> <span class="n">c</span> <span class="p">)</span>
<span class="p">{</span>
    <span class="n">float4</span> <span class="n">K</span> <span class="o">=</span> <span class="n">float4</span><span class="p">(</span> <span class="mi">1</span><span class="p">.</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">.</span><span class="mi">0</span> <span class="o">/</span> <span class="mi">3</span><span class="p">.</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">.</span><span class="mi">0</span> <span class="o">/</span> <span class="mi">3</span><span class="p">.</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">.</span><span class="mi">0</span> <span class="p">);</span>
    <span class="n">float3</span> <span class="n">p</span> <span class="o">=</span> <span class="n">abs</span><span class="p">(</span> <span class="n">frac</span><span class="p">(</span> <span class="n">c</span><span class="p">.</span><span class="n">xxx</span> <span class="o">+</span> <span class="n">K</span><span class="p">.</span><span class="n">xyz</span> <span class="p">)</span> <span class="o">*</span> <span class="mi">6</span><span class="p">.</span><span class="mi">0</span> <span class="o">-</span> <span class="n">K</span><span class="p">.</span><span class="n">www</span> <span class="p">);</span>
    <span class="k">return</span> <span class="n">c</span><span class="p">.</span><span class="n">z</span> <span class="o">*</span> <span class="n">lerp</span><span class="p">(</span> <span class="n">K</span><span class="p">.</span><span class="n">xxx</span><span class="p">,</span> <span class="n">saturate</span><span class="p">(</span> <span class="n">p</span> <span class="o">-</span> <span class="n">K</span><span class="p">.</span><span class="n">xxx</span> <span class="p">),</span> <span class="n">c</span><span class="p">.</span><span class="n">y</span> <span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="posterize-色彩分离">Posterize: 色彩分离</h3>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">float</span> <span class="n">divP</span><span class="o">=</span><span class="mi">256</span><span class="p">.</span><span class="mi">0</span><span class="o">/</span><span class="kt">float</span><span class="p">((</span><span class="kt">int</span><span class="p">)</span><span class="n">_Power</span><span class="p">);</span>
<span class="n">float4</span> <span class="n">posterize</span> <span class="o">=</span> <span class="p">(</span> <span class="n">floor</span><span class="p">(</span> <span class="n">tex2D</span><span class="p">(</span> <span class="n">_MainTexture</span><span class="p">,</span> <span class="n">uv_MainTexture</span> <span class="p">)</span> <span class="o">*</span> <span class="n">divP</span> <span class="p">)</span> <span class="o">/</span> <span class="n">divP</span> <span class="p">);</span>
</code></pre></div></div>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/image-20200617105559773.png" alt="image-20200617105559773" /></p>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/image-20200617105632998.png" alt="image-20200617105632998" /></p>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/image-20200617110000591.png" alt="image-20200617110000591" /></p>

<h3 id="simple-contrast-简单对比度">Simple Contrast: 简单对比度</h3>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/image-20200617110339968.png" alt="image-20200617110339968" /></p>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">float4</span> <span class="nf">CalculateContrast</span><span class="p">(</span> <span class="kt">float</span> <span class="n">contrastValue</span><span class="p">,</span> <span class="n">float4</span> <span class="n">colorTarget</span> <span class="p">)</span>
<span class="p">{</span>
    <span class="kt">float</span> <span class="n">t</span> <span class="o">=</span> <span class="mi">0</span><span class="p">.</span><span class="mi">5</span> <span class="o">*</span> <span class="p">(</span> <span class="mi">1</span><span class="p">.</span><span class="mi">0</span> <span class="o">-</span> <span class="n">contrastValue</span> <span class="p">);</span>
    <span class="k">return</span> <span class="n">mul</span><span class="p">(</span> <span class="n">float4x4</span><span class="p">(</span> <span class="n">contrastValue</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="n">t</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="n">contrastValue</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="n">t</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="n">contrastValue</span><span class="p">,</span><span class="n">t</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span> <span class="p">),</span> <span class="n">colorTarget</span> <span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">finalColor</span> <span class="o">=</span> <span class="n">CalculateContrast</span><span class="p">(</span><span class="n">_Value</span><span class="p">,</span><span class="n">tex2D</span><span class="p">(</span> <span class="n">_MainTexture</span><span class="p">,</span> <span class="n">uv_MainTexture</span> <span class="p">));</span>
</code></pre></div></div>

<h1 id="miscellaneous-其他">Miscellaneous: 其他</h1>

<h3 id="billboard-广告牌">Billboard: 广告牌</h3>

<p>Billboard节点将旋转顶点数据（position +法线）以将对象的轴与当前摄影机对齐。
该节点与所有其他节点略有不同，因为它将必要的代码注入到顶点主体中并直接在顶点位置和法线上写入。它输出的值为0，因此可以直接连接到顶点端口（仅当该端口是相对顶点偏移量时），或者可以在“ <a href="http://wiki.amplify.pt/index.php?title=Unity_Products:Amplify_Shader_Editor/Add">添加”</a>节点中使用它，以便可以放置进一步的顶点操作。
可以通过其“ <a href="http://wiki.amplify.pt/index.php?title=Unity_Products:Amplify_Shader_Editor/Billboard#paramType">类型”</a>将广告牌设置为“ <strong>圆柱形”</strong>，其中只有对象<strong>X</strong>和<strong>Z</strong>轴与摄影机对齐（在渲染树时有用），也可以设置为“ <strong>球形”</strong>，其中所有轴都对齐。
同样，通过<a href="http://wiki.amplify.pt/index.php?title=Unity_Products:Amplify_Shader_Editor/Billboard#paraIgnoreRotation">忽略旋转</a>参数，可以完全忽略和覆盖对象的初始旋转，也可以将其用作广告牌最终计算的增量旋转。</p>

<p><strong>注意：</strong>广告牌节点仅应连接到顶点端口。</p>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/BillboardNode.jpg" alt="image-20200617110339968" /></p>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">//// Calculate new billboard vertex position and normal;</span>
<span class="c1">//// 计算广告牌顶点</span>

<span class="c1">// 摄像机Up轴 Y</span>
<span class="n">float3</span> <span class="n">upCamVec</span> <span class="o">=</span> <span class="n">float3</span><span class="p">(</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">);</span> 
<span class="c1">// 摄像机前抽方向 Z</span>
<span class="n">float3</span> <span class="n">forwardCamVec</span> <span class="o">=</span> <span class="o">-</span><span class="n">normalize</span> <span class="p">(</span> <span class="n">UNITY_MATRIX_V</span><span class="p">.</span><span class="n">_m20_m21_m22</span> <span class="p">);</span>
<span class="c1">// 摄像机右轴方向 X</span>
<span class="n">float3</span> <span class="n">rightCamVec</span> <span class="o">=</span> <span class="n">normalize</span><span class="p">(</span> <span class="n">UNITY_MATRIX_V</span><span class="p">.</span><span class="n">_m00_m01_m02</span> <span class="p">);</span>
<span class="c1">// 摄像机空间矩阵</span>
<span class="n">float4x4</span> <span class="n">rotationCamMatrix</span> <span class="o">=</span> <span class="n">float4x4</span><span class="p">(</span> <span class="n">rightCamVec</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">upCamVec</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">forwardCamVec</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span> <span class="p">);</span>
<span class="c1">// 法线, 摄像机空间</span>
<span class="n">v</span><span class="p">.</span><span class="n">ase_normal</span> <span class="o">=</span> <span class="n">normalize</span><span class="p">(</span> <span class="n">mul</span><span class="p">(</span> <span class="n">float4</span><span class="p">(</span> <span class="n">v</span><span class="p">.</span><span class="n">ase_normal</span> <span class="p">,</span> <span class="mi">0</span> <span class="p">),</span> <span class="n">rotationCamMatrix</span> <span class="p">)).</span><span class="n">xyz</span><span class="p">;</span>


<span class="c1">////This unfortunately must be made to take non-uniform scaling into account;</span>
<span class="c1">////Transform to world coords, apply rotation and transform back to local;</span>
<span class="c1">////不幸的是，这必须考虑到非均匀缩放；</span>
<span class="c1">////转换为世界坐标，应用旋转并转换回本地；</span>

<span class="c1">// 位置, 世界空间</span>
<span class="n">v</span><span class="p">.</span><span class="n">vertex</span> <span class="o">=</span> <span class="n">mul</span><span class="p">(</span> <span class="n">v</span><span class="p">.</span><span class="n">vertex</span> <span class="p">,</span> <span class="n">unity_ObjectToWorld</span> <span class="p">);</span>
<span class="c1">// 位置, 摄像机空间</span>
<span class="n">v</span><span class="p">.</span><span class="n">vertex</span> <span class="o">=</span> <span class="n">mul</span><span class="p">(</span> <span class="n">v</span><span class="p">.</span><span class="n">vertex</span> <span class="p">,</span> <span class="n">rotationCamMatrix</span> <span class="p">);</span>
<span class="c1">// 位置， 模型空间，原点相对摄像机</span>
<span class="n">v</span><span class="p">.</span><span class="n">vertex</span> <span class="o">=</span> <span class="n">mul</span><span class="p">(</span> <span class="n">v</span><span class="p">.</span><span class="n">vertex</span> <span class="p">,</span> <span class="n">unity_WorldToObject</span> <span class="p">);</span>
</code></pre></div></div>

<h3 id="checkerboard-棋盘格纹理">Checkerboard: 棋盘格纹理</h3>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/image-20200617141635694.png" alt="image-20200617141635694" /></p>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="n">fixed4</span> <span class="n">finalColor</span><span class="p">;</span>
<span class="n">float2</span> <span class="n">uv_frequency</span> <span class="o">=</span> <span class="p">(</span><span class="n">_Frequency</span><span class="p">).</span><span class="n">xx</span><span class="p">;</span>
<span class="n">float2</span> <span class="n">uv_scale_center_frequency</span> <span class="o">=</span> <span class="p">(</span> <span class="n">uv_frequency</span> <span class="o">*</span> <span class="p">(</span> <span class="mi">0</span><span class="p">.</span><span class="mi">5</span> <span class="o">+</span> <span class="n">i</span><span class="p">.</span><span class="n">ase_texcoord</span><span class="p">.</span><span class="n">xy</span> <span class="p">)</span> <span class="p">);</span>
<span class="n">float2</span> <span class="n">uv_0_d_5</span> <span class="o">=</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">5</span><span class="p">).</span><span class="n">xx</span><span class="p">;</span>
<span class="n">float2</span> <span class="n">uv_1_d_0</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">.</span><span class="mi">0</span><span class="p">).</span><span class="n">xx</span><span class="p">;</span>
<span class="n">float4</span> <span class="n">appendResult16_g2</span> <span class="o">=</span> <span class="p">(</span><span class="n">float4</span><span class="p">(</span><span class="n">ddx</span><span class="p">(</span> <span class="n">uv_scale_center_frequency</span> <span class="p">)</span> <span class="p">,</span> <span class="n">ddy</span><span class="p">(</span> <span class="n">uv_scale_center_frequency</span> <span class="p">)));</span>
<span class="n">float4</span> <span class="n">UVDerivatives17_g2</span> <span class="o">=</span> <span class="n">appendResult16_g2</span><span class="p">;</span>
<span class="n">float4</span> <span class="n">break28_g2</span> <span class="o">=</span> <span class="n">UVDerivatives17_g2</span><span class="p">;</span>
<span class="n">float2</span> <span class="n">appendResult19_g2</span> <span class="o">=</span> <span class="p">(</span><span class="n">float2</span><span class="p">(</span><span class="n">break28_g2</span><span class="p">.</span><span class="n">x</span> <span class="p">,</span> <span class="n">break28_g2</span><span class="p">.</span><span class="n">z</span><span class="p">));</span>
<span class="n">float2</span> <span class="n">appendResult20_g2</span> <span class="o">=</span> <span class="p">(</span><span class="n">float2</span><span class="p">(</span><span class="n">break28_g2</span><span class="p">.</span><span class="n">x</span> <span class="p">,</span> <span class="n">break28_g2</span><span class="p">.</span><span class="n">z</span><span class="p">));</span>
<span class="kt">float</span> <span class="n">dotResult24_g2</span> <span class="o">=</span> <span class="n">dot</span><span class="p">(</span> <span class="n">appendResult19_g2</span> <span class="p">,</span> <span class="n">appendResult20_g2</span> <span class="p">);</span>
<span class="n">float2</span> <span class="n">appendResult21_g2</span> <span class="o">=</span> <span class="p">(</span><span class="n">float2</span><span class="p">(</span><span class="n">break28_g2</span><span class="p">.</span><span class="n">y</span> <span class="p">,</span> <span class="n">break28_g2</span><span class="p">.</span><span class="n">w</span><span class="p">));</span>
<span class="n">float2</span> <span class="n">appendResult22_g2</span> <span class="o">=</span> <span class="p">(</span><span class="n">float2</span><span class="p">(</span><span class="n">break28_g2</span><span class="p">.</span><span class="n">y</span> <span class="p">,</span> <span class="n">break28_g2</span><span class="p">.</span><span class="n">w</span><span class="p">));</span>
<span class="kt">float</span> <span class="n">dotResult23_g2</span> <span class="o">=</span> <span class="n">dot</span><span class="p">(</span> <span class="n">appendResult21_g2</span> <span class="p">,</span> <span class="n">appendResult22_g2</span> <span class="p">);</span>
<span class="n">float2</span> <span class="n">appendResult25_g2</span> <span class="o">=</span> <span class="p">(</span><span class="n">float2</span><span class="p">(</span><span class="n">dotResult24_g2</span> <span class="p">,</span> <span class="n">dotResult23_g2</span><span class="p">));</span>
<span class="n">float2</span> <span class="n">derivativesLength29_g2</span> <span class="o">=</span> <span class="n">sqrt</span><span class="p">(</span> <span class="n">appendResult25_g2</span> <span class="p">);</span>
<span class="n">float2</span> <span class="n">temp_cast_3</span> <span class="o">=</span> <span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">.</span><span class="mi">0</span><span class="p">).</span><span class="n">xx</span><span class="p">;</span>
<span class="n">float2</span> <span class="n">temp_cast_4</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">.</span><span class="mi">0</span><span class="p">).</span><span class="n">xx</span><span class="p">;</span>
<span class="n">float2</span> <span class="n">clampResult57_g2</span> <span class="o">=</span> <span class="n">clamp</span><span class="p">(</span> <span class="p">(</span> <span class="p">(</span> <span class="p">(</span> <span class="n">abs</span><span class="p">(</span> <span class="p">(</span> <span class="n">frac</span><span class="p">(</span> <span class="p">(</span> <span class="n">uv_scale_center_frequency</span> <span class="o">+</span> <span class="mi">0</span><span class="p">.</span><span class="mi">25</span> <span class="p">)</span> <span class="p">)</span> <span class="o">-</span> <span class="n">uv_0_d_5</span> <span class="p">)</span> <span class="p">)</span> <span class="o">*</span> <span class="mi">4</span><span class="p">.</span><span class="mi">0</span> <span class="p">)</span> <span class="o">-</span> <span class="n">uv_1_d_0</span> <span class="p">)</span> <span class="o">*</span> <span class="p">(</span> <span class="mi">0</span><span class="p">.</span><span class="mi">35</span> <span class="o">/</span> <span class="n">derivativesLength29_g2</span> <span class="p">)</span> <span class="p">)</span> <span class="p">,</span> <span class="n">temp_cast_3</span> <span class="p">,</span> <span class="n">temp_cast_4</span> <span class="p">);</span>
<span class="n">float2</span> <span class="n">break71_g2</span> <span class="o">=</span> <span class="n">clampResult57_g2</span><span class="p">;</span>
<span class="n">float2</span> <span class="n">break55_g2</span> <span class="o">=</span> <span class="n">derivativesLength29_g2</span><span class="p">;</span>
<span class="n">float4</span> <span class="n">lerpResult73_g2</span> <span class="o">=</span> <span class="n">lerp</span><span class="p">(</span> <span class="n">_ColorA</span> <span class="p">,</span> <span class="n">_ColorB</span> <span class="p">,</span> <span class="n">saturate</span><span class="p">(</span> <span class="p">(</span> <span class="mi">0</span><span class="p">.</span><span class="mi">5</span> <span class="o">+</span> <span class="p">(</span> <span class="mi">0</span><span class="p">.</span><span class="mi">5</span> <span class="o">*</span> <span class="n">break71_g2</span><span class="p">.</span><span class="n">x</span> <span class="o">*</span> <span class="n">break71_g2</span><span class="p">.</span><span class="n">y</span> <span class="o">*</span> <span class="nf">sqrt</span><span class="p">(</span> <span class="n">saturate</span><span class="p">(</span> <span class="p">(</span> <span class="mi">1</span><span class="p">.</span><span class="mi">1</span> <span class="o">-</span> <span class="n">max</span><span class="p">(</span> <span class="n">break55_g2</span><span class="p">.</span><span class="n">x</span> <span class="p">,</span> <span class="n">break55_g2</span><span class="p">.</span><span class="n">y</span> <span class="p">)</span> <span class="p">)</span> <span class="p">)</span> <span class="p">)</span> <span class="p">)</span> <span class="p">)</span> <span class="p">));</span>


<span class="n">finalColor</span> <span class="o">=</span> <span class="n">lerpResult73_g2</span><span class="p">;</span>
</code></pre></div></div>

<h3 id="clip-丢弃像素">Clip: 丢弃像素</h3>

<p>Clip节点在输出之前有条件地丢弃像素。当<a href="http://wiki.amplify.pt/index.php?title=Unity_Products:Amplify_Shader_Editor/Clip#paramAlpha">Alpha</a>值小于<a href="http://wiki.amplify.pt/index.php?title=Unity_Products:Amplify_Shader_Editor/Clip#paramThreshold">阈值</a> <strong>（Alpha-Threshold &lt;0）</strong>时，会发生这种情况。
<strong>注意：</strong>此节点只能连接到附加到“输出”节点的片段输入端口的图形。</p>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/ClipNode.gif" alt="image-20200617141635694" /></p>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code>			<span class="n">fixed4</span> <span class="nf">frag</span> <span class="p">(</span><span class="n">v2f</span> <span class="n">i</span> <span class="p">)</span> <span class="o">:</span> <span class="n">SV_Target</span>
			<span class="p">{</span>
				<span class="n">UNITY_SETUP_INSTANCE_ID</span><span class="p">(</span><span class="n">i</span><span class="p">);</span>
				<span class="n">UNITY_SETUP_STEREO_EYE_INDEX_POST_VERTEX</span><span class="p">(</span><span class="n">i</span><span class="p">);</span>
				<span class="n">fixed4</span> <span class="n">finalColor</span><span class="p">;</span>
				<span class="n">float2</span> <span class="n">uv_MainTexture</span> <span class="o">=</span> <span class="n">i</span><span class="p">.</span><span class="n">ase_texcoord</span><span class="p">.</span><span class="n">xy</span> <span class="o">*</span> <span class="n">_MainTexture_ST</span><span class="p">.</span><span class="n">xy</span> <span class="o">+</span> <span class="n">_MainTexture_ST</span><span class="p">.</span><span class="n">zw</span><span class="p">;</span>
				<span class="n">float2</span> <span class="n">uv_AlphaTexture</span> <span class="o">=</span> <span class="n">i</span><span class="p">.</span><span class="n">ase_texcoord</span><span class="p">.</span><span class="n">xy</span> <span class="o">*</span> <span class="n">_AlphaTexture_ST</span><span class="p">.</span><span class="n">xy</span> <span class="o">+</span> <span class="n">_AlphaTexture_ST</span><span class="p">.</span><span class="n">zw</span><span class="p">;</span>
				<span class="n">float4</span> <span class="n">temp_cast_0</span> <span class="o">=</span> <span class="p">(</span><span class="n">_Threshold</span><span class="p">).</span><span class="n">xxxx</span><span class="p">;</span>
				<span class="n">clip</span><span class="p">(</span> <span class="n">tex2D</span><span class="p">(</span> <span class="n">_AlphaTexture</span><span class="p">,</span> <span class="n">uv_AlphaTexture</span> <span class="p">)</span> <span class="o">-</span> <span class="n">temp_cast_0</span><span class="p">);</span>
				
				
				<span class="n">finalColor</span> <span class="o">=</span> <span class="n">tex2D</span><span class="p">(</span> <span class="n">_MainTexture</span><span class="p">,</span> <span class="n">uv_MainTexture</span> <span class="p">);</span>
				<span class="k">return</span> <span class="n">finalColor</span><span class="p">;</span>
			<span class="err">}</span>
</code></pre></div></div>

<h3 id="color-space-double-双色空间-unity_colorspacedouble">Color Space Double: 双色空间, unity_ColorSpaceDouble</h3>

<p>“双色空间”节点输出一个值，该值可用于乘以纹理提取，因此它始终可以输出正确的结果，而与在线性空间或gamma空间中的工作无关。</p>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">unity_ColorSpaceDouble</span>
</code></pre></div></div>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#ifdef UNITY_COLORSPACE_GAMMA
</span>	<span class="cp">#define unity_ColorSpaceDouble fixed4(2.0, 2.0, 2.0, 2.0)
#else // Linear values
</span>	<span class="cp">#define unity_ColorSpaceDouble fixed4(4.59479380, 4.59479380, 4.59479380, 2.0)
#endif
</span></code></pre></div></div>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/image-20200617152724661.png" alt="image-20200617152724661" /></p>

<h3 id="decode-depth-normal-解码深度法线">Decode Depth Normal: 解码深度法线</h3>

<p>解码深度法线节点从先前编码的Float4解码深度和法线值</p>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/DecodeDepthNormalNode.jpg" alt="image-20200617152724661" /></p>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="kr">inline</span> <span class="kt">void</span> <span class="nf">DecodeDepthNormal</span><span class="p">(</span> <span class="n">float4</span> <span class="n">enc</span><span class="p">,</span> <span class="k">out</span> <span class="kt">float</span> <span class="n">depth</span><span class="p">,</span> <span class="k">out</span> <span class="n">float3</span> <span class="n">normal</span> <span class="p">)</span>
<span class="p">{</span>
    <span class="n">depth</span> <span class="o">=</span> <span class="n">DecodeFloatRG</span> <span class="p">(</span><span class="n">enc</span><span class="p">.</span><span class="n">zw</span><span class="p">);</span>
    <span class="n">normal</span> <span class="o">=</span> <span class="n">DecodeViewNormalStereo</span> <span class="p">(</span><span class="n">enc</span><span class="p">);</span>
<span class="p">}</span>


<span class="c1">// Encoding/decoding [0..1) floats into 8 bit/channel RGBA. Note that 1.0 will not be encoded properly.</span>
<span class="kr">inline</span> <span class="n">float4</span> <span class="nf">EncodeFloatRGBA</span><span class="p">(</span> <span class="kt">float</span> <span class="n">v</span> <span class="p">)</span>
<span class="p">{</span>
    <span class="n">float4</span> <span class="n">kEncodeMul</span> <span class="o">=</span> <span class="n">float4</span><span class="p">(</span><span class="mi">1</span><span class="p">.</span><span class="mi">0</span><span class="p">,</span> <span class="mi">255</span><span class="p">.</span><span class="mi">0</span><span class="p">,</span> <span class="mi">65025</span><span class="p">.</span><span class="mi">0</span><span class="p">,</span> <span class="mi">16581375</span><span class="p">.</span><span class="mi">0</span><span class="p">);</span>
    <span class="kt">float</span> <span class="n">kEncodeBit</span> <span class="o">=</span> <span class="mi">1</span><span class="p">.</span><span class="mi">0</span><span class="o">/</span><span class="mi">255</span><span class="p">.</span><span class="mi">0</span><span class="p">;</span>
    <span class="n">float4</span> <span class="n">enc</span> <span class="o">=</span> <span class="n">kEncodeMul</span> <span class="o">*</span> <span class="n">v</span><span class="p">;</span>
    <span class="n">enc</span> <span class="o">=</span> <span class="n">frac</span> <span class="p">(</span><span class="n">enc</span><span class="p">);</span>
    <span class="n">enc</span> <span class="o">-=</span> <span class="n">enc</span><span class="p">.</span><span class="n">yzww</span> <span class="o">*</span> <span class="n">kEncodeBit</span><span class="p">;</span>
    <span class="k">return</span> <span class="n">enc</span><span class="p">;</span>
<span class="p">}</span>
<span class="kr">inline</span> <span class="kt">float</span> <span class="nf">DecodeFloatRGBA</span><span class="p">(</span> <span class="n">float4</span> <span class="n">enc</span> <span class="p">)</span>
<span class="p">{</span>
    <span class="n">float4</span> <span class="n">kDecodeDot</span> <span class="o">=</span> <span class="n">float4</span><span class="p">(</span><span class="mi">1</span><span class="p">.</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="o">/</span><span class="mi">255</span><span class="p">.</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="o">/</span><span class="mi">65025</span><span class="p">.</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="o">/</span><span class="mi">16581375</span><span class="p">.</span><span class="mi">0</span><span class="p">);</span>
    <span class="k">return</span> <span class="n">dot</span><span class="p">(</span> <span class="n">enc</span><span class="p">,</span> <span class="n">kDecodeDot</span> <span class="p">);</span>
<span class="p">}</span>

<span class="c1">// Encoding/decoding [0..1) floats into 8 bit/channel RG. Note that 1.0 will not be encoded properly.</span>
<span class="kr">inline</span> <span class="n">float2</span> <span class="nf">EncodeFloatRG</span><span class="p">(</span> <span class="kt">float</span> <span class="n">v</span> <span class="p">)</span>
<span class="p">{</span>
    <span class="n">float2</span> <span class="n">kEncodeMul</span> <span class="o">=</span> <span class="n">float2</span><span class="p">(</span><span class="mi">1</span><span class="p">.</span><span class="mi">0</span><span class="p">,</span> <span class="mi">255</span><span class="p">.</span><span class="mi">0</span><span class="p">);</span>
    <span class="kt">float</span> <span class="n">kEncodeBit</span> <span class="o">=</span> <span class="mi">1</span><span class="p">.</span><span class="mi">0</span><span class="o">/</span><span class="mi">255</span><span class="p">.</span><span class="mi">0</span><span class="p">;</span>
    <span class="n">float2</span> <span class="n">enc</span> <span class="o">=</span> <span class="n">kEncodeMul</span> <span class="o">*</span> <span class="n">v</span><span class="p">;</span>
    <span class="n">enc</span> <span class="o">=</span> <span class="n">frac</span> <span class="p">(</span><span class="n">enc</span><span class="p">);</span>
    <span class="n">enc</span><span class="p">.</span><span class="n">x</span> <span class="o">-=</span> <span class="n">enc</span><span class="p">.</span><span class="n">y</span> <span class="o">*</span> <span class="n">kEncodeBit</span><span class="p">;</span>
    <span class="k">return</span> <span class="n">enc</span><span class="p">;</span>
<span class="p">}</span>
<span class="kr">inline</span> <span class="kt">float</span> <span class="nf">DecodeFloatRG</span><span class="p">(</span> <span class="n">float2</span> <span class="n">enc</span> <span class="p">)</span>
<span class="p">{</span>
    <span class="n">float2</span> <span class="n">kDecodeDot</span> <span class="o">=</span> <span class="n">float2</span><span class="p">(</span><span class="mi">1</span><span class="p">.</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="o">/</span><span class="mi">255</span><span class="p">.</span><span class="mi">0</span><span class="p">);</span>
    <span class="k">return</span> <span class="n">dot</span><span class="p">(</span> <span class="n">enc</span><span class="p">,</span> <span class="n">kDecodeDot</span> <span class="p">);</span>
<span class="p">}</span>


<span class="c1">// Encoding/decoding view space normals into 2D 0..1 vector</span>
<span class="kr">inline</span> <span class="n">float2</span> <span class="nf">EncodeViewNormalStereo</span><span class="p">(</span> <span class="n">float3</span> <span class="n">n</span> <span class="p">)</span>
<span class="p">{</span>
    <span class="kt">float</span> <span class="n">kScale</span> <span class="o">=</span> <span class="mi">1</span><span class="p">.</span><span class="mi">7777</span><span class="p">;</span>
    <span class="n">float2</span> <span class="n">enc</span><span class="p">;</span>
    <span class="n">enc</span> <span class="o">=</span> <span class="n">n</span><span class="p">.</span><span class="n">xy</span> <span class="o">/</span> <span class="p">(</span><span class="n">n</span><span class="p">.</span><span class="n">z</span><span class="o">+</span><span class="mi">1</span><span class="p">);</span>
    <span class="n">enc</span> <span class="o">/=</span> <span class="n">kScale</span><span class="p">;</span>
    <span class="n">enc</span> <span class="o">=</span> <span class="n">enc</span><span class="o">*</span><span class="mi">0</span><span class="p">.</span><span class="mi">5</span><span class="o">+</span><span class="mi">0</span><span class="p">.</span><span class="mi">5</span><span class="p">;</span>
    <span class="k">return</span> <span class="n">enc</span><span class="p">;</span>
<span class="p">}</span>
<span class="kr">inline</span> <span class="n">float3</span> <span class="nf">DecodeViewNormalStereo</span><span class="p">(</span> <span class="n">float4</span> <span class="n">enc4</span> <span class="p">)</span>
<span class="p">{</span>
    <span class="kt">float</span> <span class="n">kScale</span> <span class="o">=</span> <span class="mi">1</span><span class="p">.</span><span class="mi">7777</span><span class="p">;</span>
    <span class="n">float3</span> <span class="n">nn</span> <span class="o">=</span> <span class="n">enc4</span><span class="p">.</span><span class="n">xyz</span><span class="o">*</span><span class="n">float3</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">kScale</span><span class="p">,</span><span class="mi">2</span><span class="o">*</span><span class="n">kScale</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span> <span class="o">+</span> <span class="n">float3</span><span class="p">(</span><span class="o">-</span><span class="n">kScale</span><span class="p">,</span><span class="o">-</span><span class="n">kScale</span><span class="p">,</span><span class="mi">1</span><span class="p">);</span>
    <span class="kt">float</span> <span class="n">g</span> <span class="o">=</span> <span class="mi">2</span><span class="p">.</span><span class="mi">0</span> <span class="o">/</span> <span class="n">dot</span><span class="p">(</span><span class="n">nn</span><span class="p">.</span><span class="n">xyz</span><span class="p">,</span><span class="n">nn</span><span class="p">.</span><span class="n">xyz</span><span class="p">);</span>
    <span class="n">float3</span> <span class="n">n</span><span class="p">;</span>
    <span class="n">n</span><span class="p">.</span><span class="n">xy</span> <span class="o">=</span> <span class="n">g</span><span class="o">*</span><span class="n">nn</span><span class="p">.</span><span class="n">xy</span><span class="p">;</span>
    <span class="n">n</span><span class="p">.</span><span class="n">z</span> <span class="o">=</span> <span class="n">g</span><span class="o">-</span><span class="mi">1</span><span class="p">;</span>
    <span class="k">return</span> <span class="n">n</span><span class="p">;</span>
<span class="p">}</span>

<span class="kr">inline</span> <span class="n">float4</span> <span class="nf">EncodeDepthNormal</span><span class="p">(</span> <span class="kt">float</span> <span class="n">depth</span><span class="p">,</span> <span class="n">float3</span> <span class="n">normal</span> <span class="p">)</span>
<span class="p">{</span>
    <span class="n">float4</span> <span class="n">enc</span><span class="p">;</span>
    <span class="n">enc</span><span class="p">.</span><span class="n">xy</span> <span class="o">=</span> <span class="n">EncodeViewNormalStereo</span> <span class="p">(</span><span class="n">normal</span><span class="p">);</span>
    <span class="n">enc</span><span class="p">.</span><span class="n">zw</span> <span class="o">=</span> <span class="n">EncodeFloatRG</span> <span class="p">(</span><span class="n">depth</span><span class="p">);</span>
    <span class="k">return</span> <span class="n">enc</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="decode-lightmap-解码光照贴图">Decode Lightmap: 解码光照贴图</h3>

<p>“解码光照贴图”节点根据其“光照” 参数<a href="http://wiki.amplify.pt/index.php?title=Unity_Products:Amplify_Shader_Editor/Decode_Lightmap#paramValue"><em>值</em></a>设置的Unity光照贴图（RGBM或dLDR，取决于平台）对颜色进行解码。
<strong>注意：</strong> “ <a href="http://wiki.amplify.pt/index.php?title=Unity_Products:Amplify_Shader_Editor/Decode_Lightmap#paramInstructions"><em>指令”</em></a>输入端口仅在可脚本化渲染管线化（Universal / Lightweight / HD）上可见，并且表示Unity自己的DecodeLightmap辅助函数所需的附加指令值。
此值用于解码过程，并根据当前编码而变化。如果未与该端口建立连接，则ASE将为其设置Unity的默认值。</p>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="c1">// Convert rgb to luminance</span>
<span class="c1">// with rgb in linear space with sRGB primaries and D65 white point</span>
<span class="kr">half</span> <span class="nf">LinearRgbToLuminance</span><span class="p">(</span><span class="n">half3</span> <span class="n">linearRgb</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">return</span> <span class="n">dot</span><span class="p">(</span><span class="n">linearRgb</span><span class="p">,</span> <span class="n">half3</span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">2126729</span><span class="n">f</span><span class="p">,</span>  <span class="mi">0</span><span class="p">.</span><span class="mi">7151522</span><span class="n">f</span><span class="p">,</span> <span class="mi">0</span><span class="p">.</span><span class="mo">0721750</span><span class="n">f</span><span class="p">));</span>
<span class="p">}</span>

<span class="n">half4</span> <span class="nf">UnityEncodeRGBM</span> <span class="p">(</span><span class="n">half3</span> <span class="n">color</span><span class="p">,</span> <span class="kt">float</span> <span class="n">maxRGBM</span><span class="p">)</span>
<span class="p">{</span>
    <span class="kt">float</span> <span class="n">kOneOverRGBMMaxRange</span> <span class="o">=</span> <span class="mi">1</span><span class="p">.</span><span class="mi">0</span> <span class="o">/</span> <span class="n">maxRGBM</span><span class="p">;</span>
    <span class="k">const</span> <span class="kt">float</span> <span class="n">kMinMultiplier</span> <span class="o">=</span> <span class="mi">2</span><span class="p">.</span><span class="mi">0</span> <span class="o">*</span> <span class="mf">1e-2</span><span class="p">;</span>

    <span class="n">float3</span> <span class="n">rgb</span> <span class="o">=</span> <span class="n">color</span> <span class="o">*</span> <span class="n">kOneOverRGBMMaxRange</span><span class="p">;</span>
    <span class="kt">float</span> <span class="n">alpha</span> <span class="o">=</span> <span class="n">max</span><span class="p">(</span><span class="n">max</span><span class="p">(</span><span class="n">rgb</span><span class="p">.</span><span class="n">r</span><span class="p">,</span> <span class="n">rgb</span><span class="p">.</span><span class="n">g</span><span class="p">),</span> <span class="n">max</span><span class="p">(</span><span class="n">rgb</span><span class="p">.</span><span class="n">b</span><span class="p">,</span> <span class="n">kMinMultiplier</span><span class="p">));</span>
    <span class="n">alpha</span> <span class="o">=</span> <span class="n">ceil</span><span class="p">(</span><span class="n">alpha</span> <span class="o">*</span> <span class="mi">255</span><span class="p">.</span><span class="mi">0</span><span class="p">)</span> <span class="o">/</span> <span class="mi">255</span><span class="p">.</span><span class="mi">0</span><span class="p">;</span>

    <span class="c1">// Division-by-zero warning from d3d9, so make compiler happy.</span>
    <span class="n">alpha</span> <span class="o">=</span> <span class="n">max</span><span class="p">(</span><span class="n">alpha</span><span class="p">,</span> <span class="n">kMinMultiplier</span><span class="p">);</span>

    <span class="k">return</span> <span class="n">half4</span><span class="p">(</span><span class="n">rgb</span> <span class="o">/</span> <span class="n">alpha</span><span class="p">,</span> <span class="n">alpha</span><span class="p">);</span>
<span class="p">}</span>

<span class="c1">// Decodes HDR textures</span>
<span class="c1">// handles dLDR, RGBM formats</span>
<span class="kr">inline</span> <span class="n">half3</span> <span class="nf">DecodeHDR</span> <span class="p">(</span><span class="n">half4</span> <span class="n">data</span><span class="p">,</span> <span class="n">half4</span> <span class="n">decodeInstructions</span><span class="p">)</span>
<span class="p">{</span>
    <span class="c1">// Take into account texture alpha if decodeInstructions.w is true(the alpha value affects the RGB channels)</span>
    <span class="kr">half</span> <span class="n">alpha</span> <span class="o">=</span> <span class="n">decodeInstructions</span><span class="p">.</span><span class="n">w</span> <span class="o">*</span> <span class="p">(</span><span class="n">data</span><span class="p">.</span><span class="n">a</span> <span class="o">-</span> <span class="mi">1</span><span class="p">.</span><span class="mi">0</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">.</span><span class="mi">0</span><span class="p">;</span>

    <span class="c1">// If Linear mode is not supported we can skip exponent part</span>
    <span class="cp">#if defined(UNITY_COLORSPACE_GAMMA)
</span>        <span class="k">return</span> <span class="p">(</span><span class="n">decodeInstructions</span><span class="p">.</span><span class="n">x</span> <span class="o">*</span> <span class="n">alpha</span><span class="p">)</span> <span class="o">*</span> <span class="n">data</span><span class="p">.</span><span class="n">rgb</span><span class="p">;</span>
    <span class="cp">#else
</span>    <span class="cp">#   if defined(UNITY_USE_NATIVE_HDR)
</span>            <span class="k">return</span> <span class="n">decodeInstructions</span><span class="p">.</span><span class="n">x</span> <span class="o">*</span> <span class="n">data</span><span class="p">.</span><span class="n">rgb</span><span class="p">;</span> <span class="c1">// Multiplier for future HDRI relative to absolute conversion.</span>
    <span class="cp">#   else
</span>            <span class="k">return</span> <span class="p">(</span><span class="n">decodeInstructions</span><span class="p">.</span><span class="n">x</span> <span class="o">*</span> <span class="n">pow</span><span class="p">(</span><span class="n">alpha</span><span class="p">,</span> <span class="n">decodeInstructions</span><span class="p">.</span><span class="n">y</span><span class="p">))</span> <span class="o">*</span> <span class="n">data</span><span class="p">.</span><span class="n">rgb</span><span class="p">;</span>
    <span class="cp">#   endif
</span>    <span class="cp">#endif
</span><span class="p">}</span>

<span class="c1">// Decodes HDR textures</span>
<span class="c1">// handles dLDR, RGBM formats</span>
<span class="c1">// Called by DecodeLightmap when UNITY_NO_RGBM is not defined.</span>
<span class="kr">inline</span> <span class="n">half3</span> <span class="nf">DecodeLightmapRGBM</span> <span class="p">(</span><span class="n">half4</span> <span class="n">data</span><span class="p">,</span> <span class="n">half4</span> <span class="n">decodeInstructions</span><span class="p">)</span>
<span class="p">{</span>
    <span class="c1">// If Linear mode is not supported we can skip exponent part</span>
    <span class="cp">#if defined(UNITY_COLORSPACE_GAMMA)
</span>    <span class="cp"># if defined(UNITY_FORCE_LINEAR_READ_FOR_RGBM)
</span>        <span class="k">return</span> <span class="p">(</span><span class="n">decodeInstructions</span><span class="p">.</span><span class="n">x</span> <span class="o">*</span> <span class="n">data</span><span class="p">.</span><span class="n">a</span><span class="p">)</span> <span class="o">*</span> <span class="n">sqrt</span><span class="p">(</span><span class="n">data</span><span class="p">.</span><span class="n">rgb</span><span class="p">);</span>
    <span class="cp"># else
</span>        <span class="k">return</span> <span class="p">(</span><span class="n">decodeInstructions</span><span class="p">.</span><span class="n">x</span> <span class="o">*</span> <span class="n">data</span><span class="p">.</span><span class="n">a</span><span class="p">)</span> <span class="o">*</span> <span class="n">data</span><span class="p">.</span><span class="n">rgb</span><span class="p">;</span>
    <span class="cp"># endif
</span>    <span class="cp">#else
</span>        <span class="k">return</span> <span class="p">(</span><span class="n">decodeInstructions</span><span class="p">.</span><span class="n">x</span> <span class="o">*</span> <span class="n">pow</span><span class="p">(</span><span class="n">data</span><span class="p">.</span><span class="n">a</span><span class="p">,</span> <span class="n">decodeInstructions</span><span class="p">.</span><span class="n">y</span><span class="p">))</span> <span class="o">*</span> <span class="n">data</span><span class="p">.</span><span class="n">rgb</span><span class="p">;</span>
    <span class="cp">#endif
</span><span class="p">}</span>

<span class="c1">// Decodes doubleLDR encoded lightmaps.</span>
<span class="kr">inline</span> <span class="n">half3</span> <span class="nf">DecodeLightmapDoubleLDR</span><span class="p">(</span> <span class="n">fixed4</span> <span class="n">color</span><span class="p">,</span> <span class="n">half4</span> <span class="n">decodeInstructions</span><span class="p">)</span>
<span class="p">{</span>
    <span class="c1">// decodeInstructions.x contains 2.0 when gamma color space is used or pow(2.0, 2.2) = 4.59 when linear color space is used on mobile platforms</span>
    <span class="k">return</span> <span class="n">decodeInstructions</span><span class="p">.</span><span class="n">x</span> <span class="o">*</span> <span class="n">color</span><span class="p">.</span><span class="n">rgb</span><span class="p">;</span>
<span class="p">}</span>

<span class="kr">inline</span> <span class="n">half3</span> <span class="nf">DecodeLightmap</span><span class="p">(</span> <span class="n">fixed4</span> <span class="n">color</span><span class="p">,</span> <span class="n">half4</span> <span class="n">decodeInstructions</span><span class="p">)</span>
<span class="p">{</span>
<span class="cp">#if defined(UNITY_LIGHTMAP_DLDR_ENCODING)
</span>    <span class="k">return</span> <span class="n">DecodeLightmapDoubleLDR</span><span class="p">(</span><span class="n">color</span><span class="p">,</span> <span class="n">decodeInstructions</span><span class="p">);</span>
<span class="cp">#elif defined(UNITY_LIGHTMAP_RGBM_ENCODING)
</span>    <span class="k">return</span> <span class="n">DecodeLightmapRGBM</span><span class="p">(</span><span class="n">color</span><span class="p">,</span> <span class="n">decodeInstructions</span><span class="p">);</span>
<span class="cp">#else //defined(UNITY_LIGHTMAP_FULL_HDR)
</span>    <span class="k">return</span> <span class="n">color</span><span class="p">.</span><span class="n">rgb</span><span class="p">;</span>
<span class="cp">#endif
</span><span class="p">}</span>

<span class="n">half4</span> <span class="n">unity_Lightmap_HDR</span><span class="p">;</span>

<span class="kr">inline</span> <span class="n">half3</span> <span class="nf">DecodeLightmap</span><span class="p">(</span> <span class="n">fixed4</span> <span class="n">color</span> <span class="p">)</span>
<span class="p">{</span>
    <span class="k">return</span> <span class="n">DecodeLightmap</span><span class="p">(</span> <span class="n">color</span><span class="p">,</span> <span class="n">unity_Lightmap_HDR</span> <span class="p">);</span>
<span class="p">}</span>

<span class="n">half4</span> <span class="n">unity_DynamicLightmap_HDR</span><span class="p">;</span>

<span class="c1">// Decodes Enlighten RGBM encoded lightmaps</span>
<span class="c1">// NOTE: Enlighten dynamic texture RGBM format is _different_ from standard Unity HDR textures</span>
<span class="c1">// (such as Baked Lightmaps, Reflection Probes and IBL images)</span>
<span class="c1">// Instead Enlighten provides RGBM texture in _Linear_ color space with _different_ exponent.</span>
<span class="c1">// WARNING: 3 pow operations, might be very expensive for mobiles!</span>
<span class="kr">inline</span> <span class="n">half3</span> <span class="nf">DecodeRealtimeLightmap</span><span class="p">(</span> <span class="n">fixed4</span> <span class="n">color</span> <span class="p">)</span>
<span class="p">{</span>
    <span class="c1">//@TODO: Temporary until Geomerics gives us an API to convert lightmaps to RGBM in gamma space on the enlighten thread before we upload the textures.</span>
<span class="cp">#if defined(UNITY_FORCE_LINEAR_READ_FOR_RGBM)
</span>    <span class="k">return</span> <span class="n">pow</span> <span class="p">((</span><span class="n">unity_DynamicLightmap_HDR</span><span class="p">.</span><span class="n">x</span> <span class="o">*</span> <span class="n">color</span><span class="p">.</span><span class="n">a</span><span class="p">)</span> <span class="o">*</span> <span class="n">sqrt</span><span class="p">(</span><span class="n">color</span><span class="p">.</span><span class="n">rgb</span><span class="p">),</span> <span class="n">unity_DynamicLightmap_HDR</span><span class="p">.</span><span class="n">y</span><span class="p">);</span>
<span class="cp">#else
</span>    <span class="k">return</span> <span class="n">pow</span> <span class="p">((</span><span class="n">unity_DynamicLightmap_HDR</span><span class="p">.</span><span class="n">x</span> <span class="o">*</span> <span class="n">color</span><span class="p">.</span><span class="n">a</span><span class="p">)</span> <span class="o">*</span> <span class="n">color</span><span class="p">.</span><span class="n">rgb</span><span class="p">,</span> <span class="n">unity_DynamicLightmap_HDR</span><span class="p">.</span><span class="n">y</span><span class="p">);</span>
<span class="cp">#endif
</span><span class="p">}</span>

<span class="kr">inline</span> <span class="n">half3</span> <span class="nf">DecodeDirectionalLightmap</span> <span class="p">(</span><span class="n">half3</span> <span class="n">color</span><span class="p">,</span> <span class="n">fixed4</span> <span class="n">dirTex</span><span class="p">,</span> <span class="n">half3</span> <span class="n">normalWorld</span><span class="p">)</span>
<span class="p">{</span>
    <span class="c1">// In directional (non-specular) mode Enlighten bakes dominant light direction</span>
    <span class="c1">// in a way, that using it for half Lambert and then dividing by a "rebalancing coefficient"</span>
    <span class="c1">// gives a result close to plain diffuse response lightmaps, but normalmapped.</span>

    <span class="c1">// Note that dir is not unit length on purpose. Its length is "directionality", like</span>
    <span class="c1">// for the directional specular lightmaps.</span>

    <span class="kr">half</span> <span class="n">halfLambert</span> <span class="o">=</span> <span class="n">dot</span><span class="p">(</span><span class="n">normalWorld</span><span class="p">,</span> <span class="n">dirTex</span><span class="p">.</span><span class="n">xyz</span> <span class="o">-</span> <span class="mi">0</span><span class="p">.</span><span class="mi">5</span><span class="p">)</span> <span class="o">+</span> <span class="mi">0</span><span class="p">.</span><span class="mi">5</span><span class="p">;</span>

    <span class="k">return</span> <span class="n">color</span> <span class="o">*</span> <span class="n">halfLambert</span> <span class="o">/</span> <span class="n">max</span><span class="p">(</span><span class="mf">1e-4</span><span class="n">h</span><span class="p">,</span> <span class="n">dirTex</span><span class="p">.</span><span class="n">w</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="decode-float-rg-解码浮点rg">Decode Float RG: <a href="http://wiki.amplify.pt/index.php?title=Unity_Products:Amplify_Shader_Editor/Decode_Float_RG"><strong>解码浮点RG</strong></a></h3>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kr">inline</span> <span class="kt">float</span> <span class="nf">DecodeFloatRG</span><span class="p">(</span> <span class="n">float2</span> <span class="n">enc</span> <span class="p">)</span>
<span class="p">{</span>
    <span class="n">float2</span> <span class="n">kDecodeDot</span> <span class="o">=</span> <span class="n">float2</span><span class="p">(</span><span class="mi">1</span><span class="p">.</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="o">/</span><span class="mi">255</span><span class="p">.</span><span class="mi">0</span><span class="p">);</span>
    <span class="k">return</span> <span class="n">dot</span><span class="p">(</span> <span class="n">enc</span><span class="p">,</span> <span class="n">kDecodeDot</span> <span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="encode-float-rg--编码float-rg">Encode Float RG:  <a href="http://wiki.amplify.pt/index.php?title=Unity_Products:Amplify_Shader_Editor/Encode_Float_RG"><strong>编码Float RG</strong></a></h3>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Encoding/decoding [0..1) floats into 8 bit/channel RG. Note that 1.0 will not be encoded properly.</span>
<span class="c1">// 编码/解码[0..1）浮动到8位/通道RG。请注意，1.0将不会正确编码。</span>
<span class="kr">inline</span> <span class="n">float2</span> <span class="nf">EncodeFloatRG</span><span class="p">(</span> <span class="kt">float</span> <span class="n">v</span> <span class="p">)</span>
<span class="p">{</span>
    <span class="n">float2</span> <span class="n">kEncodeMul</span> <span class="o">=</span> <span class="n">float2</span><span class="p">(</span><span class="mi">1</span><span class="p">.</span><span class="mi">0</span><span class="p">,</span> <span class="mi">255</span><span class="p">.</span><span class="mi">0</span><span class="p">);</span>
    <span class="kt">float</span> <span class="n">kEncodeBit</span> <span class="o">=</span> <span class="mi">1</span><span class="p">.</span><span class="mi">0</span><span class="o">/</span><span class="mi">255</span><span class="p">.</span><span class="mi">0</span><span class="p">;</span>
    <span class="n">float2</span> <span class="n">enc</span> <span class="o">=</span> <span class="n">kEncodeMul</span> <span class="o">*</span> <span class="n">v</span><span class="p">;</span>
    <span class="n">enc</span> <span class="o">=</span> <span class="n">frac</span> <span class="p">(</span><span class="n">enc</span><span class="p">);</span>
    <span class="n">enc</span><span class="p">.</span><span class="n">x</span> <span class="o">-=</span> <span class="n">enc</span><span class="p">.</span><span class="n">y</span> <span class="o">*</span> <span class="n">kEncodeBit</span><span class="p">;</span>
    <span class="k">return</span> <span class="n">enc</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="decodefloatrgba-解码浮点rgba">DecodeFloatRGBA: <a href="http://wiki.amplify.pt/index.php?title=Unity_Products:Amplify_Shader_Editor/Decode_Float_RGBA"><strong>解码浮点RGBA</strong></a></h3>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kr">inline</span> <span class="kt">float</span> <span class="nf">DecodeFloatRGBA</span><span class="p">(</span> <span class="n">float4</span> <span class="n">enc</span> <span class="p">)</span>
<span class="p">{</span>
    <span class="n">float4</span> <span class="n">kDecodeDot</span> <span class="o">=</span> <span class="n">float4</span><span class="p">(</span><span class="mi">1</span><span class="p">.</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="o">/</span><span class="mi">255</span><span class="p">.</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="o">/</span><span class="mi">65025</span><span class="p">.</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="o">/</span><span class="mi">16581375</span><span class="p">.</span><span class="mi">0</span><span class="p">);</span>
    <span class="k">return</span> <span class="n">dot</span><span class="p">(</span> <span class="n">enc</span><span class="p">,</span> <span class="n">kDecodeDot</span> <span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="encode-float-rgba--编码浮点rgba">Encode Float RGBA:  <a href="http://wiki.amplify.pt/index.php?title=Unity_Products:Amplify_Shader_Editor/Encode_Float_RGBA"><strong>编码浮点RGBA</strong></a></h3>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Encoding/decoding [0..1) floats into 8 bit/channel RGBA. Note that 1.0 will not be encoded properly.</span>
<span class="kr">inline</span> <span class="n">float4</span> <span class="nf">EncodeFloatRGBA</span><span class="p">(</span> <span class="kt">float</span> <span class="n">v</span> <span class="p">)</span>
<span class="p">{</span>
    <span class="n">float4</span> <span class="n">kEncodeMul</span> <span class="o">=</span> <span class="n">float4</span><span class="p">(</span><span class="mi">1</span><span class="p">.</span><span class="mi">0</span><span class="p">,</span> <span class="mi">255</span><span class="p">.</span><span class="mi">0</span><span class="p">,</span> <span class="mi">65025</span><span class="p">.</span><span class="mi">0</span><span class="p">,</span> <span class="mi">16581375</span><span class="p">.</span><span class="mi">0</span><span class="p">);</span>
    <span class="kt">float</span> <span class="n">kEncodeBit</span> <span class="o">=</span> <span class="mi">1</span><span class="p">.</span><span class="mi">0</span><span class="o">/</span><span class="mi">255</span><span class="p">.</span><span class="mi">0</span><span class="p">;</span>
    <span class="n">float4</span> <span class="n">enc</span> <span class="o">=</span> <span class="n">kEncodeMul</span> <span class="o">*</span> <span class="n">v</span><span class="p">;</span>
    <span class="n">enc</span> <span class="o">=</span> <span class="n">frac</span> <span class="p">(</span><span class="n">enc</span><span class="p">);</span>
    <span class="n">enc</span> <span class="o">-=</span> <span class="n">enc</span><span class="p">.</span><span class="n">yzww</span> <span class="o">*</span> <span class="n">kEncodeBit</span><span class="p">;</span>
    <span class="k">return</span> <span class="n">enc</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="diffuse-and-specular-from-metallic-漫反射和镜面反射">Diffuse And Specular From Metallic: 漫反射和镜面反射</h3>

<p>来自“金属”的“漫反射”和“镜面反射”节点从“金属”获得“漫反射”和“镜面反射”值。内部使用<strong>DiffuseAndSpecularFromMetallic</strong>从功能<strong>UnityStandardUtils</strong>。</p>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/image-20200617161950494.png" alt="image-20200617161950494" /></p>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/image-20200617162029610.png" alt="image-20200617162029610" /></p>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/image-20200617162049402.png" alt="image-20200617162049402" /></p>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="cp">#ifdef UNITY_COLORSPACE_GAMMA
</span>	<span class="cp">#define unity_ColorSpaceDielectricSpec half4(0.220916301, 0.220916301, 0.220916301, 1.0 - 0.220916301)
#else // Linear values
</span>	<span class="cp">#define unity_ColorSpaceDielectricSpec half4(0.04, 0.04, 0.04, 1.0 - 0.04) // standard dielectric reflectivity coef at incident angle (= 4%)
#endif
</span>    
<span class="kr">inline</span> <span class="n">half3</span> <span class="nf">DiffuseAndSpecularFromMetallic</span> <span class="p">(</span><span class="n">half3</span> <span class="n">albedo</span><span class="p">,</span> <span class="kr">half</span> <span class="n">metallic</span><span class="p">,</span> <span class="k">out</span> <span class="n">half3</span> <span class="n">specColor</span><span class="p">,</span> <span class="k">out</span> <span class="kr">half</span> <span class="n">oneMinusReflectivity</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">specColor</span> <span class="o">=</span> <span class="n">lerp</span> <span class="p">(</span><span class="n">unity_ColorSpaceDielectricSpec</span><span class="p">.</span><span class="n">rgb</span><span class="p">,</span> <span class="n">albedo</span><span class="p">,</span> <span class="n">metallic</span><span class="p">);</span>
    <span class="n">oneMinusReflectivity</span> <span class="o">=</span> <span class="n">OneMinusReflectivityFromMetallic</span><span class="p">(</span><span class="n">metallic</span><span class="p">);</span>
    <span class="k">return</span> <span class="n">albedo</span> <span class="o">*</span> <span class="n">oneMinusReflectivity</span><span class="p">;</span>
<span class="p">}</span>

<span class="kr">inline</span> <span class="kr">half</span> <span class="nf">OneMinusReflectivityFromMetallic</span><span class="p">(</span><span class="kr">half</span> <span class="n">metallic</span><span class="p">)</span>
<span class="p">{</span>
    <span class="c1">// We'll need oneMinusReflectivity, so</span>
    <span class="c1">//   1-reflectivity = 1-lerp(dielectricSpec, 1, metallic) = lerp(1-dielectricSpec, 0, metallic)</span>
    <span class="c1">// store (1-dielectricSpec) in unity_ColorSpaceDielectricSpec.a, then</span>
    <span class="c1">//   1-reflectivity = lerp(alpha, 0, metallic) = alpha + metallic*(0 - alpha) =</span>
    <span class="c1">//                  = alpha - metallic * alpha</span>
    <span class="kr">half</span> <span class="n">oneMinusDielectricSpec</span> <span class="o">=</span> <span class="n">unity_ColorSpaceDielectricSpec</span><span class="p">.</span><span class="n">a</span><span class="p">;</span>
    <span class="k">return</span> <span class="n">oneMinusDielectricSpec</span> <span class="o">-</span> <span class="n">metallic</span> <span class="o">*</span> <span class="n">oneMinusDielectricSpec</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="distance-based-tessellation-基于距离的镶嵌">Distance-based Tessellation: 基于距离的镶嵌</h3>

<p>基于距离的镶嵌细分节点使用该着色器通过<a href="http://wiki.amplify.pt/index.php?title=Unity_Products:Amplify_Shader_Editor/Distance-based_Tessellation#paramFactor">镶嵌因子</a>，相机<a href="http://wiki.amplify.pt/index.php?title=Unity_Products:Amplify_Shader_Editor/Distance-based_Tessellation#paramMinDist">最小距离</a>和 <a href="http://wiki.amplify.pt/index.php?title=Unity_Products:Amplify_Shader_Editor/Distance-based_Tessellation#paramMaxDist">最大</a>距离，根据对象到相机的距离设置镶嵌细分。此技术允许细分网格的三角形，并在运行时将其拆分为较小的三角形，以增加任何给定网格的表面细节。细化将在最小距离附近最高，而在最大距离附近最低。如果距离值大于“最大距离”，则不会进行细分。</p>

<p><strong>注意：</strong>使用此节点等效于在主节点上激活“镶嵌”选项并将其“ <strong>类型”</strong>设置为“基于距离”。如果将Shader Model设置为较低的值，则它将自动设置为4.6，因为它是最低版本。
仅当对象网格的三角形大小相似时，才应使用基于距离的镶嵌。如果不是这样，可能会发生这样的情况：小三角形可能会镶嵌得太多，而大三角形会变得太小。
在这些情况下，应使用“ <a href="http://wiki.amplify.pt/index.php?title=Unity_Products:Amplify_Shader_Editor/Edge_Length_Tessellation">边长细分”</a>。</p>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/Distance-basedTessellationNode.gif" alt="image-20200617162049402" /></p>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/image-20200617162919830.png" alt="image-20200617162919830" /></p>

<h3 id="edge-length-tessellation-边缘长度细分">Edge Length Tessellation: 边缘长度细分</h3>

<p>“边缘长度细分”节点根据屏幕上对象三角形的边缘长度设置细分。此技术允许细分网格的三角形，并在运行时将其拆分为较小的三角形，以增加任何给定网格的表面细节。特别是在此节点上，通过“ <a href="http://wiki.amplify.pt/index.php?title=Unity_Products:Amplify_Shader_Editor/Edge_Length_Tessellation#paramEdgeLength">边长”</a>参数设置了所需的最终边长，该参数使较长的边具有较大的细分因子。</p>

<p><strong>注意：</strong>使用此节点等效于在主节点上激活“细分”选项并将其“ <strong>类型”</strong>设置为“边长”。如果将Shader Model设置为较低的值，则它将自动设置为4.6，因为它是最低版本。</p>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/EdgeLengthTessellationNode.gif" alt="image-20200617162919830" /></p>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/image-20200617163340976.png" alt="image-20200617163340976" /></p>

<h3 id="edge-length-tessellation-with-cull-带剔除节点的边长细分">Edge Length Tessellation With Cull： 带剔除节点的边长细分</h3>

<p>带边框的“边缘长度镶嵌细分”节点根据屏幕上对象三角形的边缘长度设置镶嵌细分。此技术允许细分网格的三角形，并在运行时将其拆分为较小的三角形，以增加任何给定网格的表面细节。特别是在此节点上，通过“ <a href="http://wiki.amplify.pt/index.php?title=Unity_Products:Amplify_Shader_Editor/Edge_Length_Tessellation_With_Cull#paramEdgeLength">边长”</a>参数设置了所需的最终边长，该参数使较长的边具有较大的细分因子。该节点类似于“ <a href="http://wiki.amplify.pt/index.php?title=Unity_Products:Amplify_Shader_Editor/Edge_Length_Tessellation">边长细分”，</a>但也执行补丁截头锥体剔除，这有点贵，但可以节省摄像机视图之外的对象网格部分的GPU工作量。</p>

<p><strong>注意：</strong>使用此节点等效于在主节点上激活“细分”选项并将其“ <strong>类型”</strong>设置为“边长剔除”。如果将Shader Model设置为较低的值，则它将自动设置为4.6，因为它是最低版本。</p>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/EdgeLengthTessellationWithCullNode.gif" alt="image-20200617163340976" /></p>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/image-20200617163718424.png" alt="image-20200617163718424" /></p>

<h3 id="register-local-var-get-local-var-注册本地变量和获取变得变量">Register Local Var, Get Local Var： 注册本地变量和获取变得变量</h3>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/image-20200617164319351.png" alt="image-20200617164319351" /></p>

<h3 id="layered-blend-分层混合">Layered Blend: 分层混合</h3>

<p>“分层混合”节点输出通过<a href="http://wiki.amplify.pt/index.php?title=Unity_Products:Amplify_Shader_Editor/Layered_Blend#paramWeights">权重</a>给定的插值因子将其每个<a href="http://wiki.amplify.pt/index.php?title=Unity_Products:Amplify_Shader_Editor/Layered_Blend#paramLayer">Layer</a>值分层在<a href="http://wiki.amplify.pt/index.php?title=Unity_Products:Amplify_Shader_Editor/Layered_Blend#paramBase">基础</a>层之上的结果。在分配的基础层之上要混合的层数由权重输入上的连接数据类型给定的通道数确定。 如果将Vector4连接到Weights输入，则将使输入端口1到4可用。使用Weights.x作为插值器在Base Base和Layer 1之间完成<a href="http://wiki.amplify.pt/index.php?title=Unity_Products:Amplify_Shader_Editor/Lerp">Lerp</a>。然后，将使用Weights.y等对第2层进行Lerp’ed先前操作的结果。</p>

<p>如果图层的类型不同且具有不同的通道数量，则对每个图层进行转换以匹配具有最多通道数量的图层。</p>

<p><strong>注意：</strong>其他类型的混合也可以通过“ <a href="http://wiki.amplify.pt/index.php?title=Unity_Products:Amplify_Shader_Editor/Weighted_Blend">加权混合”</a>和“ <a href="http://wiki.amplify.pt/index.php?title=Unity_Products:Amplify_Shader_Editor/Summed_Blend">求和混合”</a>节点获得。</p>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/LayeredBlendNode.jpg" alt="image-20200617164319351" /></p>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">float2</span> <span class="n">weights</span> <span class="o">=</span> <span class="n">i</span><span class="p">.</span><span class="n">ase_texcoord</span><span class="p">.</span><span class="n">xy</span><span class="p">;</span>
<span class="n">float4</span> <span class="n">base</span> <span class="o">=</span> <span class="n">tex2D</span><span class="p">(</span><span class="n">_BaseTexture</span><span class="p">,</span> <span class="n">uv_BaseTexture</span><span class="p">);</span>
<span class="n">float4</span> <span class="n">layer1</span> <span class="o">=</span> <span class="n">tex2D</span><span class="p">(</span><span class="n">_Layer1Texture</span><span class="p">,</span> <span class="n">uv_Layer1Texture</span><span class="p">);</span>
<span class="n">float4</span> <span class="n">layer2</span> <span class="o">=</span> <span class="n">tex2D</span><span class="p">(</span><span class="n">_Layer2Texture</span><span class="p">,</span> <span class="n">uv_Layer2Texture</span><span class="p">);</span>
<span class="n">float4</span> <span class="n">layeredBlend</span> <span class="o">=</span> <span class="p">(</span> <span class="n">lerp</span><span class="p">(</span> <span class="n">lerp</span><span class="p">(</span> <span class="n">base</span> <span class="p">,</span> <span class="n">layer1</span><span class="p">,</span> <span class="n">weights</span><span class="p">.</span><span class="n">x</span> <span class="p">)</span> <span class="p">,</span> <span class="n">layer2</span><span class="p">,</span> <span class="n">weights</span><span class="p">.</span><span class="n">y</span> <span class="p">)</span> <span class="p">);</span>
</code></pre></div></div>

<h3 id="noise-generator-噪音产生器">Noise Generator: <a href="http://wiki.amplify.pt/index.php?title=Unity_Products:Amplify_Shader_Editor/Noise_Generator"><strong>噪音产生器</strong></a></h3>

<p>“噪声生成器”节点使用<a href="http://wiki.amplify.pt/index.php?title=Unity_Products:Amplify_Shader_Editor/Noise_Generator#paramType">Type</a>指定的方法根据<a href="http://wiki.amplify.pt/index.php?title=Unity_Products:Amplify_Shader_Editor/Noise_Generator#paramUV">UV</a>处指定的值在<strong>[-1 1]</strong>范围内创建<strong>浮动</strong>噪声值。 <strong>注意：</strong>输入数据必须在整个几何图形上变化，因为相等的值会产生相同的噪声。一种简单的方法是将“ <a href="http://wiki.amplify.pt/index.php?title=Unity_Products:Amplify_Shader_Editor/Texture_Coordinates">纹理坐标”</a>节点连接到其输入。</p>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/NoiseGeneratorNode.jpg" alt="image-20200617164319351" /></p>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/image-20200617165632605.png" alt="image-20200617165632605" /></p>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/image-20200617165733360.png" alt="image-20200617165733360" /></p>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">Shader</span> <span class="s">"TestNode"</span>
<span class="p">{</span>
	<span class="n">Properties</span>
	<span class="p">{</span>
		<span class="n">_Tiling</span><span class="p">(</span><span class="s">"Tiling"</span><span class="p">,</span> <span class="n">Vector</span><span class="p">)</span> <span class="o">=</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>

	<span class="p">}</span>
	
	<span class="n">SubShader</span>
	<span class="p">{</span>
		
		
		<span class="n">Tags</span> <span class="p">{</span> <span class="s">"RenderType"</span><span class="o">=</span><span class="s">"Opaque"</span> <span class="p">}</span>
	<span class="n">LOD</span> <span class="mi">100</span>

		<span class="n">CGINCLUDE</span>
		<span class="cp">#pragma target 3.0
</span>		<span class="n">ENDCG</span>
		<span class="n">Blend</span> <span class="n">Off</span>
		<span class="n">Cull</span> <span class="n">Back</span>
		<span class="n">ColorMask</span> <span class="n">RGBA</span>
		<span class="n">ZWrite</span> <span class="n">On</span>
		<span class="n">ZTest</span> <span class="n">LEqual</span>
		<span class="n">Offset</span> <span class="mi">0</span> <span class="p">,</span> <span class="mi">0</span>
		
		
		
		<span class="n">Pass</span>
		<span class="p">{</span>
			<span class="n">Name</span> <span class="s">"Unlit"</span>
			<span class="n">Tags</span> <span class="p">{</span> <span class="s">"LightMode"</span><span class="o">=</span><span class="s">"ForwardBase"</span> <span class="p">}</span>
			<span class="n">CGPROGRAM</span>

			

			<span class="cp">#ifndef UNITY_SETUP_STEREO_EYE_INDEX_POST_VERTEX
</span>			<span class="c1">//only defining to not throw compilation error over Unity 5.5</span>
			<span class="cp">#define UNITY_SETUP_STEREO_EYE_INDEX_POST_VERTEX(input)
</span>			<span class="cp">#endif
</span>			<span class="cp">#pragma vertex vert
</span>			<span class="cp">#pragma fragment frag
</span>			<span class="cp">#pragma multi_compile_instancing
</span>			<span class="cp">#include "UnityCG.cginc"
</span>			

			<span class="k">struct</span> <span class="n">appdata</span>
			<span class="p">{</span>
				<span class="n">float4</span> <span class="n">vertex</span> <span class="o">:</span> <span class="n">POSITION</span><span class="p">;</span>
				<span class="n">float4</span> <span class="n">color</span> <span class="o">:</span> <span class="n">COLOR</span><span class="p">;</span>
				<span class="n">UNITY_VERTEX_INPUT_INSTANCE_ID</span>
				<span class="n">float4</span> <span class="n">ase_texcoord</span> <span class="o">:</span> <span class="n">TEXCOORD0</span><span class="p">;</span>
			<span class="p">};</span>
			
			<span class="k">struct</span> <span class="n">v2f</span>
			<span class="p">{</span>
				<span class="n">float4</span> <span class="n">vertex</span> <span class="o">:</span> <span class="n">SV_POSITION</span><span class="p">;</span>
				<span class="n">UNITY_VERTEX_INPUT_INSTANCE_ID</span>
				<span class="n">UNITY_VERTEX_OUTPUT_STEREO</span>
				<span class="n">float4</span> <span class="n">ase_texcoord</span> <span class="o">:</span> <span class="n">TEXCOORD0</span><span class="p">;</span>
			<span class="p">};</span>

			<span class="k">uniform</span> <span class="n">float2</span> <span class="n">_Tiling</span><span class="p">;</span>
			<span class="n">float3</span> <span class="n">mod2D289</span><span class="p">(</span> <span class="n">float3</span> <span class="n">x</span> <span class="p">)</span> <span class="p">{</span> <span class="k">return</span> <span class="n">x</span> <span class="o">-</span> <span class="n">floor</span><span class="p">(</span> <span class="n">x</span> <span class="o">*</span> <span class="p">(</span> <span class="mi">1</span><span class="p">.</span><span class="mi">0</span> <span class="o">/</span> <span class="mi">289</span><span class="p">.</span><span class="mi">0</span> <span class="p">)</span> <span class="p">)</span> <span class="o">*</span> <span class="mi">289</span><span class="p">.</span><span class="mi">0</span><span class="p">;</span> <span class="p">}</span>
			<span class="n">float2</span> <span class="n">mod2D289</span><span class="p">(</span> <span class="n">float2</span> <span class="n">x</span> <span class="p">)</span> <span class="p">{</span> <span class="k">return</span> <span class="n">x</span> <span class="o">-</span> <span class="n">floor</span><span class="p">(</span> <span class="n">x</span> <span class="o">*</span> <span class="p">(</span> <span class="mi">1</span><span class="p">.</span><span class="mi">0</span> <span class="o">/</span> <span class="mi">289</span><span class="p">.</span><span class="mi">0</span> <span class="p">)</span> <span class="p">)</span> <span class="o">*</span> <span class="mi">289</span><span class="p">.</span><span class="mi">0</span><span class="p">;</span> <span class="p">}</span>
			<span class="n">float3</span> <span class="n">permute</span><span class="p">(</span> <span class="n">float3</span> <span class="n">x</span> <span class="p">)</span> <span class="p">{</span> <span class="k">return</span> <span class="n">mod2D289</span><span class="p">(</span> <span class="p">(</span> <span class="p">(</span> <span class="n">x</span> <span class="o">*</span> <span class="mi">34</span><span class="p">.</span><span class="mi">0</span> <span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">.</span><span class="mi">0</span> <span class="p">)</span> <span class="o">*</span> <span class="n">x</span> <span class="p">);</span> <span class="p">}</span>
			<span class="kt">float</span> <span class="n">snoise</span><span class="p">(</span> <span class="n">float2</span> <span class="n">v</span> <span class="p">)</span>
			<span class="p">{</span>
				<span class="k">const</span> <span class="n">float4</span> <span class="n">C</span> <span class="o">=</span> <span class="n">float4</span><span class="p">(</span> <span class="mi">0</span><span class="p">.</span><span class="mi">211324865405187</span><span class="p">,</span> <span class="mi">0</span><span class="p">.</span><span class="mi">366025403784439</span><span class="p">,</span> <span class="o">-</span><span class="mi">0</span><span class="p">.</span><span class="mi">577350269189626</span><span class="p">,</span> <span class="mi">0</span><span class="p">.</span><span class="mo">0243</span><span class="mi">90243902439</span> <span class="p">);</span>
				<span class="n">float2</span> <span class="n">i</span> <span class="o">=</span> <span class="n">floor</span><span class="p">(</span> <span class="n">v</span> <span class="o">+</span> <span class="n">dot</span><span class="p">(</span> <span class="n">v</span><span class="p">,</span> <span class="n">C</span><span class="p">.</span><span class="n">yy</span> <span class="p">)</span> <span class="p">);</span>
				<span class="n">float2</span> <span class="n">x0</span> <span class="o">=</span> <span class="n">v</span> <span class="o">-</span> <span class="n">i</span> <span class="o">+</span> <span class="n">dot</span><span class="p">(</span> <span class="n">i</span><span class="p">,</span> <span class="n">C</span><span class="p">.</span><span class="n">xx</span> <span class="p">);</span>
				<span class="n">float2</span> <span class="n">i1</span><span class="p">;</span>
				<span class="n">i1</span> <span class="o">=</span> <span class="p">(</span> <span class="n">x0</span><span class="p">.</span><span class="n">x</span> <span class="o">&gt;</span> <span class="n">x0</span><span class="p">.</span><span class="n">y</span> <span class="p">)</span> <span class="o">?</span> <span class="n">float2</span><span class="p">(</span> <span class="mi">1</span><span class="p">.</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">.</span><span class="mi">0</span> <span class="p">)</span> <span class="o">:</span> <span class="n">float2</span><span class="p">(</span> <span class="mi">0</span><span class="p">.</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">.</span><span class="mi">0</span> <span class="p">);</span>
				<span class="n">float4</span> <span class="n">x12</span> <span class="o">=</span> <span class="n">x0</span><span class="p">.</span><span class="n">xyxy</span> <span class="o">+</span> <span class="n">C</span><span class="p">.</span><span class="n">xxzz</span><span class="p">;</span>
				<span class="n">x12</span><span class="p">.</span><span class="n">xy</span> <span class="o">-=</span> <span class="n">i1</span><span class="p">;</span>
				<span class="n">i</span> <span class="o">=</span> <span class="n">mod2D289</span><span class="p">(</span> <span class="n">i</span> <span class="p">);</span>
				<span class="n">float3</span> <span class="n">p</span> <span class="o">=</span> <span class="n">permute</span><span class="p">(</span> <span class="n">permute</span><span class="p">(</span> <span class="n">i</span><span class="p">.</span><span class="n">y</span> <span class="o">+</span> <span class="n">float3</span><span class="p">(</span> <span class="mi">0</span><span class="p">.</span><span class="mi">0</span><span class="p">,</span> <span class="n">i1</span><span class="p">.</span><span class="n">y</span><span class="p">,</span> <span class="mi">1</span><span class="p">.</span><span class="mi">0</span> <span class="p">)</span> <span class="p">)</span> <span class="o">+</span> <span class="n">i</span><span class="p">.</span><span class="n">x</span> <span class="o">+</span> <span class="n">float3</span><span class="p">(</span> <span class="mi">0</span><span class="p">.</span><span class="mi">0</span><span class="p">,</span> <span class="n">i1</span><span class="p">.</span><span class="n">x</span><span class="p">,</span> <span class="mi">1</span><span class="p">.</span><span class="mi">0</span> <span class="p">)</span> <span class="p">);</span>
				<span class="n">float3</span> <span class="n">m</span> <span class="o">=</span> <span class="n">max</span><span class="p">(</span> <span class="mi">0</span><span class="p">.</span><span class="mi">5</span> <span class="o">-</span> <span class="n">float3</span><span class="p">(</span> <span class="n">dot</span><span class="p">(</span> <span class="n">x0</span><span class="p">,</span> <span class="n">x0</span> <span class="p">),</span> <span class="n">dot</span><span class="p">(</span> <span class="n">x12</span><span class="p">.</span><span class="n">xy</span><span class="p">,</span> <span class="n">x12</span><span class="p">.</span><span class="n">xy</span> <span class="p">),</span> <span class="n">dot</span><span class="p">(</span> <span class="n">x12</span><span class="p">.</span><span class="n">zw</span><span class="p">,</span> <span class="n">x12</span><span class="p">.</span><span class="n">zw</span> <span class="p">)</span> <span class="p">),</span> <span class="mi">0</span><span class="p">.</span><span class="mi">0</span> <span class="p">);</span>
				<span class="n">m</span> <span class="o">=</span> <span class="n">m</span> <span class="o">*</span> <span class="n">m</span><span class="p">;</span>
				<span class="n">m</span> <span class="o">=</span> <span class="n">m</span> <span class="o">*</span> <span class="n">m</span><span class="p">;</span>
				<span class="n">float3</span> <span class="n">x</span> <span class="o">=</span> <span class="mi">2</span><span class="p">.</span><span class="mi">0</span> <span class="o">*</span> <span class="n">frac</span><span class="p">(</span> <span class="n">p</span> <span class="o">*</span> <span class="n">C</span><span class="p">.</span><span class="n">www</span> <span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">.</span><span class="mi">0</span><span class="p">;</span>
				<span class="n">float3</span> <span class="n">h</span> <span class="o">=</span> <span class="n">abs</span><span class="p">(</span> <span class="n">x</span> <span class="p">)</span> <span class="o">-</span> <span class="mi">0</span><span class="p">.</span><span class="mi">5</span><span class="p">;</span>
				<span class="n">float3</span> <span class="n">ox</span> <span class="o">=</span> <span class="n">floor</span><span class="p">(</span> <span class="n">x</span> <span class="o">+</span> <span class="mi">0</span><span class="p">.</span><span class="mi">5</span> <span class="p">);</span>
				<span class="n">float3</span> <span class="n">a0</span> <span class="o">=</span> <span class="n">x</span> <span class="o">-</span> <span class="n">ox</span><span class="p">;</span>
				<span class="n">m</span> <span class="o">*=</span> <span class="mi">1</span><span class="p">.</span><span class="mi">79284291400159</span> <span class="o">-</span> <span class="mi">0</span><span class="p">.</span><span class="mi">85373472095314</span> <span class="o">*</span> <span class="p">(</span> <span class="n">a0</span> <span class="o">*</span> <span class="n">a0</span> <span class="o">+</span> <span class="n">h</span> <span class="o">*</span> <span class="n">h</span> <span class="p">);</span>
				<span class="n">float3</span> <span class="n">g</span><span class="p">;</span>
				<span class="n">g</span><span class="p">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">a0</span><span class="p">.</span><span class="n">x</span> <span class="o">*</span> <span class="n">x0</span><span class="p">.</span><span class="n">x</span> <span class="o">+</span> <span class="n">h</span><span class="p">.</span><span class="n">x</span> <span class="o">*</span> <span class="n">x0</span><span class="p">.</span><span class="n">y</span><span class="p">;</span>
				<span class="n">g</span><span class="p">.</span><span class="n">yz</span> <span class="o">=</span> <span class="n">a0</span><span class="p">.</span><span class="n">yz</span> <span class="o">*</span> <span class="n">x12</span><span class="p">.</span><span class="n">xz</span> <span class="o">+</span> <span class="n">h</span><span class="p">.</span><span class="n">yz</span> <span class="o">*</span> <span class="n">x12</span><span class="p">.</span><span class="n">yw</span><span class="p">;</span>
				<span class="k">return</span> <span class="mi">130</span><span class="p">.</span><span class="mi">0</span> <span class="o">*</span> <span class="n">dot</span><span class="p">(</span> <span class="n">m</span><span class="p">,</span> <span class="n">g</span> <span class="p">);</span>
			<span class="p">}</span>
			

			
			<span class="n">v2f</span> <span class="n">vert</span> <span class="p">(</span> <span class="n">appdata</span> <span class="n">v</span> <span class="p">)</span>
			<span class="p">{</span>
				<span class="n">v2f</span> <span class="n">o</span><span class="p">;</span>
				<span class="n">UNITY_SETUP_INSTANCE_ID</span><span class="p">(</span><span class="n">v</span><span class="p">);</span>
				<span class="n">UNITY_INITIALIZE_VERTEX_OUTPUT_STEREO</span><span class="p">(</span><span class="n">o</span><span class="p">);</span>
				<span class="n">UNITY_TRANSFER_INSTANCE_ID</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="n">o</span><span class="p">);</span>

				<span class="n">o</span><span class="p">.</span><span class="n">ase_texcoord</span><span class="p">.</span><span class="n">xy</span> <span class="o">=</span> <span class="n">v</span><span class="p">.</span><span class="n">ase_texcoord</span><span class="p">.</span><span class="n">xy</span><span class="p">;</span>
				
				<span class="c1">//setting value to unused interpolator channels and avoid initialization warnings</span>
				<span class="n">o</span><span class="p">.</span><span class="n">ase_texcoord</span><span class="p">.</span><span class="n">zw</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
				<span class="n">float3</span> <span class="n">vertexValue</span> <span class="o">=</span> <span class="n">float3</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
				<span class="cp">#if ASE_ABSOLUTE_VERTEX_POS
</span>				<span class="n">vertexValue</span> <span class="o">=</span> <span class="n">v</span><span class="p">.</span><span class="n">vertex</span><span class="p">.</span><span class="n">xyz</span><span class="p">;</span>
				<span class="cp">#endif
</span>				<span class="n">vertexValue</span> <span class="o">=</span> <span class="n">vertexValue</span><span class="p">;</span>
				<span class="cp">#if ASE_ABSOLUTE_VERTEX_POS
</span>				<span class="n">v</span><span class="p">.</span><span class="n">vertex</span><span class="p">.</span><span class="n">xyz</span> <span class="o">=</span> <span class="n">vertexValue</span><span class="p">;</span>
				<span class="cp">#else
</span>				<span class="n">v</span><span class="p">.</span><span class="n">vertex</span><span class="p">.</span><span class="n">xyz</span> <span class="o">+=</span> <span class="n">vertexValue</span><span class="p">;</span>
				<span class="cp">#endif
</span>				<span class="n">o</span><span class="p">.</span><span class="n">vertex</span> <span class="o">=</span> <span class="n">UnityObjectToClipPos</span><span class="p">(</span><span class="n">v</span><span class="p">.</span><span class="n">vertex</span><span class="p">);</span>
				<span class="k">return</span> <span class="n">o</span><span class="p">;</span>
			<span class="p">}</span>
			
			<span class="n">fixed4</span> <span class="n">frag</span> <span class="p">(</span><span class="n">v2f</span> <span class="n">i</span> <span class="p">)</span> <span class="o">:</span> <span class="n">SV_Target</span>
			<span class="p">{</span>
				<span class="n">UNITY_SETUP_INSTANCE_ID</span><span class="p">(</span><span class="n">i</span><span class="p">);</span>
				<span class="n">UNITY_SETUP_STEREO_EYE_INDEX_POST_VERTEX</span><span class="p">(</span><span class="n">i</span><span class="p">);</span>
				<span class="n">fixed4</span> <span class="n">finalColor</span><span class="p">;</span>
				<span class="n">float2</span> <span class="n">uv0876</span> <span class="o">=</span> <span class="n">i</span><span class="p">.</span><span class="n">ase_texcoord</span><span class="p">.</span><span class="n">xy</span> <span class="o">*</span> <span class="n">_Tiling</span> <span class="o">+</span> <span class="n">float2</span><span class="p">(</span> <span class="mi">0</span><span class="p">,</span><span class="mi">0</span> <span class="p">);</span>
				<span class="kt">float</span> <span class="n">simplePerlin2D874</span> <span class="o">=</span> <span class="n">snoise</span><span class="p">(</span> <span class="n">uv0876</span> <span class="p">);</span>
				<span class="n">simplePerlin2D874</span> <span class="o">=</span> <span class="n">simplePerlin2D874</span><span class="o">*</span><span class="mi">0</span><span class="p">.</span><span class="mi">5</span> <span class="o">+</span> <span class="mi">0</span><span class="p">.</span><span class="mi">5</span><span class="p">;</span>
				<span class="n">float4</span> <span class="n">temp_cast_0</span> <span class="o">=</span> <span class="p">(</span><span class="n">simplePerlin2D874</span><span class="p">).</span><span class="n">xxxx</span><span class="p">;</span>
				
				
				<span class="n">finalColor</span> <span class="o">=</span> <span class="n">temp_cast_0</span><span class="p">;</span>
				<span class="k">return</span> <span class="n">finalColor</span><span class="p">;</span>
			<span class="p">}</span>
			<span class="n">ENDCG</span>
		<span class="p">}</span>
	<span class="p">}</span>
	<span class="n">CustomEditor</span> <span class="s">"ASEMaterialInspector"</span>
	
	
<span class="p">}</span>
</code></pre></div></div>

<h3 id="noise-sine-wave">Noise Sine Wave:</h3>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/image-20200617182125466.png" alt="image-20200617182125466" /></p>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">float2</span> <span class="n">minmax</span> <span class="o">=</span> <span class="n">_MinMax</span><span class="p">;</span>
<span class="n">float2</span> <span class="n">_in</span> <span class="o">=</span> <span class="n">i</span><span class="p">.</span><span class="n">ase_texcoord</span><span class="p">.</span><span class="n">xy</span><span class="p">;</span>
<span class="n">float2</span> <span class="n">_in_sin</span> <span class="o">=</span> <span class="n">sin</span><span class="p">(</span> <span class="n">_in</span> <span class="p">);</span>
<span class="n">float2</span> <span class="n">_in_sin__1</span> <span class="o">=</span> <span class="n">sin</span><span class="p">(</span> <span class="p">(</span> <span class="n">_in</span> <span class="o">+</span> <span class="mi">1</span><span class="p">.</span><span class="mi">0</span> <span class="p">)</span> <span class="p">);</span>
<span class="kt">float</span> <span class="n">lerpResult20_g7</span> <span class="o">=</span> <span class="n">lerp</span><span class="p">(</span> <span class="n">minmax</span><span class="p">.</span><span class="n">x</span> <span class="p">,</span> <span class="n">minmax</span><span class="p">.</span><span class="n">y</span> <span class="p">,</span> <span class="n">frac</span><span class="p">(</span> <span class="p">(</span> <span class="n">sin</span><span class="p">(</span> <span class="p">(</span> <span class="p">(</span> <span class="n">_in_sin</span> <span class="o">-</span> <span class="n">_in_sin__1</span> <span class="p">)</span> <span class="o">*</span> <span class="mi">91</span><span class="p">.</span><span class="mi">2228</span> <span class="p">)</span> <span class="p">)</span> <span class="o">*</span> <span class="mi">43758</span><span class="p">.</span><span class="mi">55</span> <span class="p">)</span> <span class="p">).</span><span class="n">x</span><span class="p">);</span>
</code></pre></div></div>

<h3 id="summed-blend-求和混合">Summed Blend: 求和混合</h3>

<p><em>Weights.x*Layer1 + Weights.y*Layer2 +Weights.z*Layer3 +Weights.w*Layer4</em></p>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/SummedBlendNode.jpg" alt="image-20200617165733360" /></p>

<h3 id="switch-by-face-切换面-vface">Switch by Face: 切换面, VFACE</h3>

<p>“按面切换”输出根据渲染的表面是面向相机（<a href="http://wiki.amplify.pt/index.php?title=Unity_Products:Amplify_Shader_Editor/Switch_by_Face#paramFront">正面</a>）还是背离相机（<a href="http://wiki.amplify.pt/index.php?title=Unity_Products:Amplify_Shader_Editor/Switch_by_Face#paramBack">背面</a>）来中继其输入之一。</p>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/image-20200617172740800.png" alt="image-20200617172740800" /></p>

<h3 id="vertex-to-fragment-传送变量-顶点-到-片段">Vertex To Fragment: 传送变量， 顶点 到 片段</h3>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/image-20200617172959805.png" alt="image-20200617172959805" /></p>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/image-20200617173110846.png" alt="image-20200617173110846" /></p>

<h3 id="voronoi--生成泰森多边形纹理-水面波光粼粼">Voronoi:  生成泰森多边形纹理， 水面波光粼粼</h3>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/image-20200617173531530.png" alt="image-20200617173531530" /></p>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/image-20200617173633334.png" alt="image-20200617173633334" /></p>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">Shader</span> <span class="s">"TestNode"</span>
<span class="p">{</span>
	<span class="n">Properties</span>
	<span class="p">{</span>
		<span class="n">_Angle</span><span class="p">(</span><span class="s">"Angle"</span><span class="p">,</span> <span class="n">Range</span><span class="p">(</span> <span class="mi">0</span> <span class="p">,</span> <span class="mi">7</span><span class="p">))</span> <span class="o">=</span> <span class="mi">0</span>
		<span class="n">_Scale</span><span class="p">(</span><span class="s">"Scale"</span><span class="p">,</span> <span class="n">Range</span><span class="p">(</span> <span class="mi">0</span> <span class="p">,</span> <span class="mi">5</span><span class="p">))</span> <span class="o">=</span> <span class="mi">0</span>

	<span class="p">}</span>
	
	<span class="n">SubShader</span>
	<span class="p">{</span>
		
		
		<span class="n">Tags</span> <span class="p">{</span> <span class="s">"RenderType"</span><span class="o">=</span><span class="s">"Opaque"</span> <span class="p">}</span>
	<span class="n">LOD</span> <span class="mi">100</span>

		<span class="n">CGINCLUDE</span>
		<span class="cp">#pragma target 3.0
</span>		<span class="n">ENDCG</span>
		<span class="n">Blend</span> <span class="n">Off</span>
		<span class="n">Cull</span> <span class="n">Back</span>
		<span class="n">ColorMask</span> <span class="n">RGBA</span>
		<span class="n">ZWrite</span> <span class="n">On</span>
		<span class="n">ZTest</span> <span class="n">LEqual</span>
		<span class="n">Offset</span> <span class="mi">0</span> <span class="p">,</span> <span class="mi">0</span>
		
		
		
		<span class="n">Pass</span>
		<span class="p">{</span>
			<span class="n">Name</span> <span class="s">"Unlit"</span>
			<span class="n">Tags</span> <span class="p">{</span> <span class="s">"LightMode"</span><span class="o">=</span><span class="s">"ForwardBase"</span> <span class="p">}</span>
			<span class="n">CGPROGRAM</span>

			

			<span class="cp">#ifndef UNITY_SETUP_STEREO_EYE_INDEX_POST_VERTEX
</span>			<span class="c1">//only defining to not throw compilation error over Unity 5.5</span>
			<span class="cp">#define UNITY_SETUP_STEREO_EYE_INDEX_POST_VERTEX(input)
</span>			<span class="cp">#endif
</span>			<span class="cp">#pragma vertex vert
</span>			<span class="cp">#pragma fragment frag
</span>			<span class="cp">#pragma multi_compile_instancing
</span>			<span class="cp">#include "UnityCG.cginc"
</span>			

			<span class="k">struct</span> <span class="n">appdata</span>
			<span class="p">{</span>
				<span class="n">float4</span> <span class="n">vertex</span> <span class="o">:</span> <span class="n">POSITION</span><span class="p">;</span>
				<span class="n">float4</span> <span class="n">color</span> <span class="o">:</span> <span class="n">COLOR</span><span class="p">;</span>
				<span class="n">UNITY_VERTEX_INPUT_INSTANCE_ID</span>
				<span class="n">float4</span> <span class="n">ase_texcoord</span> <span class="o">:</span> <span class="n">TEXCOORD0</span><span class="p">;</span>
			<span class="p">};</span>
			
			<span class="k">struct</span> <span class="n">v2f</span>
			<span class="p">{</span>
				<span class="n">float4</span> <span class="n">vertex</span> <span class="o">:</span> <span class="n">SV_POSITION</span><span class="p">;</span>
				<span class="n">UNITY_VERTEX_INPUT_INSTANCE_ID</span>
				<span class="n">UNITY_VERTEX_OUTPUT_STEREO</span>
				<span class="n">float4</span> <span class="n">ase_texcoord</span> <span class="o">:</span> <span class="n">TEXCOORD0</span><span class="p">;</span>
			<span class="p">};</span>

			<span class="k">uniform</span> <span class="kt">float</span> <span class="n">_Scale</span><span class="p">;</span>
			<span class="k">uniform</span> <span class="kt">float</span> <span class="n">_Angle</span><span class="p">;</span>
					<span class="n">float2</span> <span class="n">voronoihash887</span><span class="p">(</span> <span class="n">float2</span> <span class="n">p</span> <span class="p">)</span>
					<span class="p">{</span>
						
						<span class="n">p</span> <span class="o">=</span> <span class="n">float2</span><span class="p">(</span> <span class="n">dot</span><span class="p">(</span> <span class="n">p</span><span class="p">,</span> <span class="n">float2</span><span class="p">(</span> <span class="mi">127</span><span class="p">.</span><span class="mi">1</span><span class="p">,</span> <span class="mi">311</span><span class="p">.</span><span class="mi">7</span> <span class="p">)</span> <span class="p">),</span> <span class="n">dot</span><span class="p">(</span> <span class="n">p</span><span class="p">,</span> <span class="n">float2</span><span class="p">(</span> <span class="mi">269</span><span class="p">.</span><span class="mi">5</span><span class="p">,</span> <span class="mi">183</span><span class="p">.</span><span class="mi">3</span> <span class="p">)</span> <span class="p">)</span> <span class="p">);</span>
						<span class="k">return</span> <span class="n">frac</span><span class="p">(</span> <span class="n">sin</span><span class="p">(</span> <span class="n">p</span> <span class="p">)</span> <span class="o">*</span><span class="mi">43758</span><span class="p">.</span><span class="mi">5453</span><span class="p">);</span>
					<span class="p">}</span>
			
					<span class="kt">float</span> <span class="n">voronoi887</span><span class="p">(</span> <span class="n">float2</span> <span class="n">v</span><span class="p">,</span> <span class="kt">float</span> <span class="n">time</span><span class="p">,</span> <span class="k">inout</span> <span class="n">float2</span> <span class="n">id</span><span class="p">,</span> <span class="kt">float</span> <span class="n">smoothness</span> <span class="p">)</span>
					<span class="p">{</span>
						<span class="n">float2</span> <span class="n">n</span> <span class="o">=</span> <span class="n">floor</span><span class="p">(</span> <span class="n">v</span> <span class="p">);</span>
						<span class="n">float2</span> <span class="n">f</span> <span class="o">=</span> <span class="n">frac</span><span class="p">(</span> <span class="n">v</span> <span class="p">);</span>
						<span class="kt">float</span> <span class="n">F1</span> <span class="o">=</span> <span class="mi">8</span><span class="p">.</span><span class="mi">0</span><span class="p">;</span>
						<span class="kt">float</span> <span class="n">F2</span> <span class="o">=</span> <span class="mi">8</span><span class="p">.</span><span class="mi">0</span><span class="p">;</span> <span class="n">float2</span> <span class="n">mr</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">float2</span> <span class="n">mg</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
						<span class="k">for</span> <span class="p">(</span> <span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">j</span><span class="o">++</span> <span class="p">)</span>
						<span class="p">{</span>
							<span class="k">for</span> <span class="p">(</span> <span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span> <span class="p">)</span>
						 	<span class="p">{</span>
						 		<span class="n">float2</span> <span class="n">g</span> <span class="o">=</span> <span class="n">float2</span><span class="p">(</span> <span class="n">i</span><span class="p">,</span> <span class="n">j</span> <span class="p">);</span>
						 		<span class="n">float2</span> <span class="n">o</span> <span class="o">=</span> <span class="n">voronoihash887</span><span class="p">(</span> <span class="n">n</span> <span class="o">+</span> <span class="n">g</span> <span class="p">);</span>
								<span class="n">o</span> <span class="o">=</span> <span class="p">(</span> <span class="n">sin</span><span class="p">(</span> <span class="n">time</span> <span class="o">+</span> <span class="n">o</span> <span class="o">*</span> <span class="mi">6</span><span class="p">.</span><span class="mi">2831</span> <span class="p">)</span> <span class="o">*</span> <span class="mi">0</span><span class="p">.</span><span class="mi">5</span> <span class="o">+</span> <span class="mi">0</span><span class="p">.</span><span class="mi">5</span> <span class="p">);</span> <span class="n">float2</span> <span class="n">r</span> <span class="o">=</span> <span class="n">g</span> <span class="o">-</span> <span class="n">f</span> <span class="o">+</span> <span class="n">o</span><span class="p">;</span>
								<span class="kt">float</span> <span class="n">d</span> <span class="o">=</span> <span class="mi">0</span><span class="p">.</span><span class="mi">5</span> <span class="o">*</span> <span class="n">dot</span><span class="p">(</span> <span class="n">r</span><span class="p">,</span> <span class="n">r</span> <span class="p">);</span>
						 		<span class="k">if</span><span class="p">(</span> <span class="n">d</span><span class="o">&lt;</span><span class="n">F1</span> <span class="p">)</span> <span class="p">{</span>
						 			<span class="n">F2</span> <span class="o">=</span> <span class="n">F1</span><span class="p">;</span>
						 			<span class="n">F1</span> <span class="o">=</span> <span class="n">d</span><span class="p">;</span> <span class="n">mg</span> <span class="o">=</span> <span class="n">g</span><span class="p">;</span> <span class="n">mr</span> <span class="o">=</span> <span class="n">r</span><span class="p">;</span> <span class="n">id</span> <span class="o">=</span> <span class="n">o</span><span class="p">;</span>
						 		<span class="p">}</span> <span class="k">else</span> <span class="k">if</span><span class="p">(</span> <span class="n">d</span><span class="o">&lt;</span><span class="n">F2</span> <span class="p">)</span> <span class="p">{</span>
						 			<span class="n">F2</span> <span class="o">=</span> <span class="n">d</span><span class="p">;</span>
						 		<span class="p">}</span>
						 	<span class="p">}</span>
						<span class="p">}</span>
						<span class="k">return</span> <span class="n">F1</span><span class="p">;</span>
					<span class="p">}</span>
			

			
			<span class="n">v2f</span> <span class="n">vert</span> <span class="p">(</span> <span class="n">appdata</span> <span class="n">v</span> <span class="p">)</span>
			<span class="p">{</span>
				<span class="n">v2f</span> <span class="n">o</span><span class="p">;</span>
				<span class="n">UNITY_SETUP_INSTANCE_ID</span><span class="p">(</span><span class="n">v</span><span class="p">);</span>
				<span class="n">UNITY_INITIALIZE_VERTEX_OUTPUT_STEREO</span><span class="p">(</span><span class="n">o</span><span class="p">);</span>
				<span class="n">UNITY_TRANSFER_INSTANCE_ID</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="n">o</span><span class="p">);</span>

				<span class="n">o</span><span class="p">.</span><span class="n">ase_texcoord</span><span class="p">.</span><span class="n">xy</span> <span class="o">=</span> <span class="n">v</span><span class="p">.</span><span class="n">ase_texcoord</span><span class="p">.</span><span class="n">xy</span><span class="p">;</span>
				
				<span class="c1">//setting value to unused interpolator channels and avoid initialization warnings</span>
				<span class="n">o</span><span class="p">.</span><span class="n">ase_texcoord</span><span class="p">.</span><span class="n">zw</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
				<span class="n">float3</span> <span class="n">vertexValue</span> <span class="o">=</span> <span class="n">float3</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
				<span class="cp">#if ASE_ABSOLUTE_VERTEX_POS
</span>				<span class="n">vertexValue</span> <span class="o">=</span> <span class="n">v</span><span class="p">.</span><span class="n">vertex</span><span class="p">.</span><span class="n">xyz</span><span class="p">;</span>
				<span class="cp">#endif
</span>				<span class="n">vertexValue</span> <span class="o">=</span> <span class="n">vertexValue</span><span class="p">;</span>
				<span class="cp">#if ASE_ABSOLUTE_VERTEX_POS
</span>				<span class="n">v</span><span class="p">.</span><span class="n">vertex</span><span class="p">.</span><span class="n">xyz</span> <span class="o">=</span> <span class="n">vertexValue</span><span class="p">;</span>
				<span class="cp">#else
</span>				<span class="n">v</span><span class="p">.</span><span class="n">vertex</span><span class="p">.</span><span class="n">xyz</span> <span class="o">+=</span> <span class="n">vertexValue</span><span class="p">;</span>
				<span class="cp">#endif
</span>				<span class="n">o</span><span class="p">.</span><span class="n">vertex</span> <span class="o">=</span> <span class="n">UnityObjectToClipPos</span><span class="p">(</span><span class="n">v</span><span class="p">.</span><span class="n">vertex</span><span class="p">);</span>
				<span class="k">return</span> <span class="n">o</span><span class="p">;</span>
			<span class="p">}</span>
			
			<span class="n">fixed4</span> <span class="n">frag</span> <span class="p">(</span><span class="n">v2f</span> <span class="n">i</span> <span class="p">)</span> <span class="o">:</span> <span class="n">SV_Target</span>
			<span class="p">{</span>
				<span class="n">UNITY_SETUP_INSTANCE_ID</span><span class="p">(</span><span class="n">i</span><span class="p">);</span>
				<span class="n">UNITY_SETUP_STEREO_EYE_INDEX_POST_VERTEX</span><span class="p">(</span><span class="n">i</span><span class="p">);</span>
				<span class="n">fixed4</span> <span class="n">finalColor</span><span class="p">;</span>
				<span class="kt">float</span> <span class="n">time887</span> <span class="o">=</span> <span class="n">_Angle</span><span class="p">;</span>
				<span class="n">float2</span> <span class="n">coords887</span> <span class="o">=</span> <span class="n">i</span><span class="p">.</span><span class="n">ase_texcoord</span><span class="p">.</span><span class="n">xy</span> <span class="o">*</span> <span class="n">_Scale</span><span class="p">;</span>
				<span class="n">float2</span> <span class="n">id887</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
				<span class="kt">float</span> <span class="n">voroi887</span> <span class="o">=</span> <span class="n">voronoi887</span><span class="p">(</span> <span class="n">coords887</span><span class="p">,</span> <span class="n">time887</span><span class="p">,</span><span class="n">id887</span><span class="p">,</span> <span class="mi">0</span> <span class="p">);</span>
				<span class="n">float4</span> <span class="n">temp_cast_0</span> <span class="o">=</span> <span class="p">(</span><span class="n">id887</span><span class="p">).</span><span class="n">xxxx</span><span class="p">;</span>
				
				
				<span class="n">finalColor</span> <span class="o">=</span> <span class="n">temp_cast_0</span><span class="p">;</span>
				<span class="k">return</span> <span class="n">finalColor</span><span class="p">;</span>
			<span class="p">}</span>
			<span class="n">ENDCG</span>
		<span class="p">}</span>
	<span class="p">}</span>
	<span class="n">CustomEditor</span> <span class="s">"ASEMaterialInspector"</span>
	
	
<span class="p">}</span>
</code></pre></div></div>

<h3 id="triangle-wave-三角波">Triangle Wave： 三角波</h3>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">float</span> <span class="n">r</span> <span class="o">=</span> <span class="p">(</span> 
						<span class="p">(</span>
							<span class="n">abs</span>
							<span class="p">(</span>
								<span class="p">(</span> 
									<span class="p">(</span> <span class="n">v</span> <span class="o">-</span> <span class="n">floor</span><span class="p">(</span>  <span class="n">v</span> <span class="o">+</span> <span class="mi">0</span><span class="p">.</span><span class="mi">5</span>  <span class="p">)</span> <span class="p">)</span> 
									<span class="o">*</span> 
									<span class="mi">2</span> 
								<span class="p">)</span> 
							<span class="p">)</span> 
							<span class="o">*</span> 
							<span class="mi">2</span> 
						<span class="p">)</span> 
						<span class="o">-</span> 
						<span class="mi">1</span><span class="p">.</span><span class="mi">0</span> 
					<span class="p">)</span>
</code></pre></div></div>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/image-20200617181255694.png" alt="image-20200617181255694" /></p>

<h3 id="square-wave-方波">Square Wave: 方波</h3>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code>				<span class="p">(</span>
						<span class="p">(</span>
							<span class="n">abs</span> 
							<span class="p">(</span> 
								<span class="p">(</span> <span class="n">v</span> <span class="o">-</span> <span class="n">floor</span><span class="p">(</span> <span class="p">(</span> <span class="n">v</span> <span class="o">+</span> <span class="mi">0</span><span class="p">.</span><span class="mi">5</span> <span class="p">)</span> <span class="p">)</span> <span class="p">)</span> 
								<span class="o">*</span> 
								<span class="mi">2</span> 
							<span class="p">)</span> 
							<span class="o">*</span> 
							<span class="mi">2</span> 
						<span class="p">)</span>
						<span class="o">-</span> <span class="mi">1</span><span class="p">.</span><span class="mi">0</span> 
					<span class="p">)</span>
</code></pre></div></div>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/image-20200617181401541.png" alt="image-20200617181401541" /></p>

<h3 id="sawtooh-wave">Sawtooh Wave:</h3>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">(</span> <span class="p">(</span> <span class="n">v</span> <span class="o">-</span> <span class="n">floor</span><span class="p">(</span> <span class="p">(</span> <span class="n">v</span> <span class="o">+</span> <span class="mi">0</span><span class="p">.</span><span class="mi">5</span> <span class="p">)</span> <span class="p">)</span> <span class="p">)</span> <span class="o">*</span> <span class="mi">2</span> <span class="p">)</span>
</code></pre></div></div>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/image-20200617181741158.png" alt="image-20200617181741158" /></p>

<h3 id="rounded-rectangle-圆角矩形">Rounded Rectangle: 圆角矩形</h3>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/image-20200617182716247.png" alt="image-20200617182716247" /></p>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">float</span> <span class="n">width</span> <span class="o">=</span> <span class="n">_Width</span><span class="p">;</span>
<span class="kt">float</span> <span class="n">height</span> <span class="o">=</span> <span class="n">_Height</span><span class="p">;</span>
<span class="n">float2</span> <span class="n">wh</span> <span class="o">=</span> <span class="p">(</span><span class="n">float2</span><span class="p">(</span><span class="n">width</span> <span class="p">,</span> <span class="n">height</span><span class="p">));</span>
<span class="kt">float</span> <span class="n">radius</span> <span class="o">=</span> <span class="n">max</span><span class="p">(</span> <span class="n">min</span><span class="p">(</span> <span class="n">min</span><span class="p">(</span> <span class="n">abs</span><span class="p">(</span> <span class="p">(</span> <span class="n">_Radius</span> <span class="o">*</span> <span class="mi">2</span> <span class="p">)</span> <span class="p">)</span> <span class="p">,</span> <span class="n">abs</span><span class="p">(</span> <span class="n">width</span> <span class="p">)</span> <span class="p">)</span> <span class="p">,</span> <span class="n">abs</span><span class="p">(</span> <span class="n">height</span> <span class="p">)</span> <span class="p">)</span> <span class="p">,</span> <span class="mf">1E-05</span> <span class="p">);</span>
<span class="n">float2</span> <span class="n">zero2</span> <span class="o">=</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">0</span><span class="p">).</span><span class="n">xx</span><span class="p">;</span>
<span class="kt">float</span> <span class="n">len</span> <span class="o">=</span> <span class="p">(</span> <span class="n">length</span><span class="p">(</span> <span class="n">max</span><span class="p">(</span> <span class="p">(</span> <span class="p">(</span> <span class="n">abs</span><span class="p">(</span> <span class="p">(</span><span class="n">i</span><span class="p">.</span><span class="n">ase_texcoord</span><span class="p">.</span><span class="n">xy</span><span class="o">*</span><span class="mi">2</span><span class="p">.</span><span class="mi">0</span> <span class="o">+</span> <span class="o">-</span><span class="mi">1</span><span class="p">.</span><span class="mi">0</span><span class="p">)</span> <span class="p">)</span> <span class="o">-</span> <span class="n">wh</span> <span class="p">)</span> <span class="o">+</span> <span class="n">radius</span> <span class="p">)</span> <span class="p">,</span> <span class="n">zero2</span> <span class="p">)</span> <span class="p">)</span> <span class="o">/</span> <span class="n">radius</span> <span class="p">);</span>
<span class="n">float4</span> <span class="n">temp_cast_1</span> <span class="o">=</span> <span class="p">(</span><span class="n">saturate</span><span class="p">(</span> <span class="p">(</span> <span class="p">(</span> <span class="mi">1</span><span class="p">.</span><span class="mi">0</span> <span class="o">-</span> <span class="n">len</span> <span class="p">)</span> <span class="o">/</span> <span class="n">fwidth</span><span class="p">(</span> <span class="n">len</span> <span class="p">)</span> <span class="p">)</span> <span class="p">)).</span><span class="n">xxxx</span><span class="p">;</span>
</code></pre></div></div>

<h3 id="rectangle-矩形">Rectangle: 矩形</h3>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/image-20200617190759596.png" alt="image-20200617190759596" /></p>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">float2</span> <span class="n">size</span> <span class="o">=</span> <span class="p">(</span><span class="n">float2</span><span class="p">(</span><span class="n">_Width</span> <span class="p">,</span> <span class="n">_Height</span><span class="p">));</span>
<span class="n">float2</span> <span class="n">uv</span> <span class="o">=</span> <span class="p">(</span> <span class="n">abs</span><span class="p">(</span> <span class="p">(</span><span class="n">i</span><span class="p">.</span><span class="n">ase_texcoord</span><span class="p">.</span><span class="n">xy</span><span class="o">*</span><span class="mi">2</span><span class="p">.</span><span class="mi">0</span> <span class="o">+</span> <span class="o">-</span><span class="mi">1</span><span class="p">.</span><span class="mi">0</span><span class="p">)</span> <span class="p">)</span> <span class="o">-</span> <span class="n">size</span> <span class="p">);</span>
<span class="n">float2</span> <span class="n">_break</span> <span class="o">=</span> <span class="p">(</span> <span class="mi">1</span><span class="p">.</span><span class="mi">0</span> <span class="o">-</span> <span class="p">(</span> <span class="n">uv</span> <span class="o">/</span> <span class="n">fwidth</span><span class="p">(</span> <span class="n">uv</span> <span class="p">)</span> <span class="p">)</span> <span class="p">);</span>
<span class="n">float4</span> <span class="n">temp_cast_0</span> <span class="o">=</span> <span class="p">(</span><span class="n">saturate</span><span class="p">(</span> <span class="n">min</span><span class="p">(</span> <span class="n">_break</span><span class="p">.</span><span class="n">x</span> <span class="p">,</span> <span class="n">_break</span><span class="p">.</span><span class="n">y</span> <span class="p">)</span> <span class="p">)).</span><span class="n">xxxx</span><span class="p">;</span>
</code></pre></div></div>

<h3 id="polygon-多边形">Polygon: 多边形</h3>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/image-20200617183655324.png" alt="image-20200617183655324" /></p>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">Shader</span> <span class="s">"TestNode"</span>
<span class="p">{</span>
	<span class="n">Properties</span>
	<span class="p">{</span>
		<span class="n">_MainTexture</span><span class="p">(</span><span class="s">"MainTexture"</span><span class="p">,</span> <span class="mi">2</span><span class="n">D</span><span class="p">)</span> <span class="o">=</span> <span class="s">"white"</span> <span class="p">{}</span>
		<span class="n">_Sides</span><span class="p">(</span><span class="s">"Sides"</span><span class="p">,</span> <span class="n">Int</span><span class="p">)</span> <span class="o">=</span> <span class="mi">0</span>
		<span class="n">_Width</span><span class="p">(</span><span class="s">"Width"</span><span class="p">,</span> <span class="n">Range</span><span class="p">(</span> <span class="mi">0</span> <span class="p">,</span> <span class="mi">7</span><span class="p">))</span> <span class="o">=</span> <span class="mi">0</span>
		<span class="n">_Height</span><span class="p">(</span><span class="s">"Height"</span><span class="p">,</span> <span class="n">Range</span><span class="p">(</span> <span class="mi">0</span> <span class="p">,</span> <span class="mi">7</span><span class="p">))</span> <span class="o">=</span> <span class="mi">0</span>
		<span class="p">[</span><span class="n">HideInInspector</span><span class="p">]</span> <span class="n">_texcoord</span><span class="p">(</span> <span class="s">""</span><span class="p">,</span> <span class="mi">2</span><span class="n">D</span> <span class="p">)</span> <span class="o">=</span> <span class="s">"white"</span> <span class="p">{}</span>

	<span class="p">}</span>
	
	<span class="n">SubShader</span>
	<span class="p">{</span>
		
		
		<span class="n">Tags</span> <span class="p">{</span> <span class="s">"RenderType"</span><span class="o">=</span><span class="s">"Opaque"</span> <span class="p">}</span>
	<span class="n">LOD</span> <span class="mi">100</span>

		<span class="n">CGINCLUDE</span>
		<span class="cp">#pragma target 3.0
</span>		<span class="n">ENDCG</span>
		<span class="n">Blend</span> <span class="n">SrcAlpha</span> <span class="n">OneMinusSrcAlpha</span>
		<span class="n">Cull</span> <span class="n">Back</span>
		<span class="n">ColorMask</span> <span class="n">RGBA</span>
		<span class="n">ZWrite</span> <span class="n">On</span>
		<span class="n">ZTest</span> <span class="n">LEqual</span>
		<span class="n">Offset</span> <span class="mi">0</span> <span class="p">,</span> <span class="mi">0</span>
		
		
		
		<span class="n">Pass</span>
		<span class="p">{</span>
			<span class="n">Name</span> <span class="s">"Unlit"</span>
			<span class="n">Tags</span> <span class="p">{</span> <span class="s">"LightMode"</span><span class="o">=</span><span class="s">"ForwardBase"</span> <span class="p">}</span>
			<span class="n">CGPROGRAM</span>

			

			<span class="cp">#ifndef UNITY_SETUP_STEREO_EYE_INDEX_POST_VERTEX
</span>			<span class="c1">//only defining to not throw compilation error over Unity 5.5</span>
			<span class="cp">#define UNITY_SETUP_STEREO_EYE_INDEX_POST_VERTEX(input)
</span>			<span class="cp">#endif
</span>			<span class="cp">#pragma vertex vert
</span>			<span class="cp">#pragma fragment frag
</span>			<span class="cp">#pragma multi_compile_instancing
</span>			<span class="cp">#include "UnityCG.cginc"
</span>			

			<span class="k">struct</span> <span class="n">appdata</span>
			<span class="p">{</span>
				<span class="n">float4</span> <span class="n">vertex</span> <span class="o">:</span> <span class="n">POSITION</span><span class="p">;</span>
				<span class="n">float4</span> <span class="n">color</span> <span class="o">:</span> <span class="n">COLOR</span><span class="p">;</span>
				<span class="n">UNITY_VERTEX_INPUT_INSTANCE_ID</span>
				<span class="n">float4</span> <span class="n">ase_texcoord</span> <span class="o">:</span> <span class="n">TEXCOORD0</span><span class="p">;</span>
			<span class="p">};</span>
			
			<span class="k">struct</span> <span class="n">v2f</span>
			<span class="p">{</span>
				<span class="n">float4</span> <span class="n">vertex</span> <span class="o">:</span> <span class="n">SV_POSITION</span><span class="p">;</span>
				<span class="n">UNITY_VERTEX_INPUT_INSTANCE_ID</span>
				<span class="n">UNITY_VERTEX_OUTPUT_STEREO</span>
				<span class="n">float4</span> <span class="n">ase_texcoord</span> <span class="o">:</span> <span class="n">TEXCOORD0</span><span class="p">;</span>
			<span class="p">};</span>

			<span class="k">uniform</span> <span class="kt">sampler2D</span> <span class="n">_MainTexture</span><span class="p">;</span>
			<span class="k">uniform</span> <span class="n">float4</span> <span class="n">_MainTexture_ST</span><span class="p">;</span>
			<span class="k">uniform</span> <span class="kt">float</span> <span class="n">_Width</span><span class="p">;</span>
			<span class="k">uniform</span> <span class="kt">int</span> <span class="n">_Sides</span><span class="p">;</span>
			<span class="k">uniform</span> <span class="kt">float</span> <span class="n">_Height</span><span class="p">;</span>

			
			<span class="n">v2f</span> <span class="n">vert</span> <span class="p">(</span> <span class="n">appdata</span> <span class="n">v</span> <span class="p">)</span>
			<span class="p">{</span>
				<span class="n">v2f</span> <span class="n">o</span><span class="p">;</span>
				<span class="n">UNITY_SETUP_INSTANCE_ID</span><span class="p">(</span><span class="n">v</span><span class="p">);</span>
				<span class="n">UNITY_INITIALIZE_VERTEX_OUTPUT_STEREO</span><span class="p">(</span><span class="n">o</span><span class="p">);</span>
				<span class="n">UNITY_TRANSFER_INSTANCE_ID</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="n">o</span><span class="p">);</span>

				<span class="n">o</span><span class="p">.</span><span class="n">ase_texcoord</span><span class="p">.</span><span class="n">xy</span> <span class="o">=</span> <span class="n">v</span><span class="p">.</span><span class="n">ase_texcoord</span><span class="p">.</span><span class="n">xy</span><span class="p">;</span>
				
				<span class="c1">//setting value to unused interpolator channels and avoid initialization warnings</span>
				<span class="n">o</span><span class="p">.</span><span class="n">ase_texcoord</span><span class="p">.</span><span class="n">zw</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
				<span class="n">float3</span> <span class="n">vertexValue</span> <span class="o">=</span> <span class="n">float3</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
				<span class="cp">#if ASE_ABSOLUTE_VERTEX_POS
</span>				<span class="n">vertexValue</span> <span class="o">=</span> <span class="n">v</span><span class="p">.</span><span class="n">vertex</span><span class="p">.</span><span class="n">xyz</span><span class="p">;</span>
				<span class="cp">#endif
</span>				<span class="n">vertexValue</span> <span class="o">=</span> <span class="n">vertexValue</span><span class="p">;</span>
				<span class="cp">#if ASE_ABSOLUTE_VERTEX_POS
</span>				<span class="n">v</span><span class="p">.</span><span class="n">vertex</span><span class="p">.</span><span class="n">xyz</span> <span class="o">=</span> <span class="n">vertexValue</span><span class="p">;</span>
				<span class="cp">#else
</span>				<span class="n">v</span><span class="p">.</span><span class="n">vertex</span><span class="p">.</span><span class="n">xyz</span> <span class="o">+=</span> <span class="n">vertexValue</span><span class="p">;</span>
				<span class="cp">#endif
</span>				<span class="n">o</span><span class="p">.</span><span class="n">vertex</span> <span class="o">=</span> <span class="n">UnityObjectToClipPos</span><span class="p">(</span><span class="n">v</span><span class="p">.</span><span class="n">vertex</span><span class="p">);</span>
				<span class="k">return</span> <span class="n">o</span><span class="p">;</span>
			<span class="p">}</span>
			
			<span class="n">fixed4</span> <span class="n">frag</span> <span class="p">(</span><span class="n">v2f</span> <span class="n">i</span> <span class="p">)</span> <span class="o">:</span> <span class="n">SV_Target</span>
			<span class="p">{</span>
				<span class="n">UNITY_SETUP_INSTANCE_ID</span><span class="p">(</span><span class="n">i</span><span class="p">);</span>
				<span class="n">UNITY_SETUP_STEREO_EYE_INDEX_POST_VERTEX</span><span class="p">(</span><span class="n">i</span><span class="p">);</span>
				<span class="n">fixed4</span> <span class="n">finalColor</span><span class="p">;</span>
				<span class="n">float2</span> <span class="n">uv_MainTexture</span> <span class="o">=</span> <span class="n">i</span><span class="p">.</span><span class="n">ase_texcoord</span><span class="p">.</span><span class="n">xy</span> <span class="o">*</span> <span class="n">_MainTexture_ST</span><span class="p">.</span><span class="n">xy</span> <span class="o">+</span> <span class="n">_MainTexture_ST</span><span class="p">.</span><span class="n">zw</span><span class="p">;</span>
				<span class="kt">float</span> <span class="n">sides</span> <span class="o">=</span> <span class="p">(</span><span class="kt">float</span><span class="p">)</span><span class="n">_Sides</span><span class="p">;</span>
				<span class="kt">float</span> <span class="n">cosSides</span> <span class="o">=</span> <span class="n">cos</span><span class="p">(</span> <span class="p">(</span> <span class="n">UNITY_PI</span> <span class="o">/</span> <span class="n">sides</span> <span class="p">)</span> <span class="p">);</span>
				<span class="n">float2</span> <span class="n">size</span> <span class="o">=</span> <span class="p">(</span><span class="n">float2</span><span class="p">((</span> <span class="n">_Width</span> <span class="o">*</span> <span class="n">cosSides</span> <span class="p">)</span> <span class="p">,</span> <span class="p">(</span> <span class="n">_Height</span> <span class="o">*</span> <span class="n">cosSides</span> <span class="p">)));</span>
				<span class="n">float2</span> <span class="n">_break</span> <span class="o">=</span> <span class="p">(</span> <span class="p">(</span><span class="n">i</span><span class="p">.</span><span class="n">ase_texcoord</span><span class="p">.</span><span class="n">xy</span><span class="o">*</span><span class="mi">2</span><span class="p">.</span><span class="mi">0</span> <span class="o">+</span> <span class="o">-</span><span class="mi">1</span><span class="p">.</span><span class="mi">0</span><span class="p">)</span> <span class="o">/</span> <span class="n">size</span> <span class="p">);</span>
				<span class="kt">float</span> <span class="n">polarCoords</span> <span class="o">=</span> <span class="n">atan2</span><span class="p">(</span> <span class="n">_break</span><span class="p">.</span><span class="n">x</span> <span class="p">,</span> <span class="o">-</span><span class="n">_break</span><span class="p">.</span><span class="n">y</span> <span class="p">);</span>
				<span class="kt">float</span> <span class="n">onceSideAngle</span> <span class="o">=</span> <span class="p">(</span> <span class="mi">6</span><span class="p">.</span><span class="mi">28318548202515</span> <span class="o">/</span> <span class="n">sides</span> <span class="p">);</span>
				<span class="n">float2</span> <span class="n">_break2</span> <span class="o">=</span> <span class="p">(</span><span class="n">float2</span><span class="p">(</span><span class="n">_break</span><span class="p">.</span><span class="n">x</span> <span class="p">,</span> <span class="o">-</span><span class="n">_break</span><span class="p">.</span><span class="n">y</span><span class="p">));</span>
				<span class="n">float2</span> <span class="n">break2</span> <span class="o">=</span> <span class="n">_break2</span><span class="p">;</span>
				<span class="kt">float</span> <span class="n">val</span> <span class="o">=</span> <span class="p">(</span> <span class="n">cos</span><span class="p">(</span> <span class="p">(</span> <span class="p">(</span> <span class="n">floor</span><span class="p">(</span> <span class="p">(</span> <span class="mi">0</span><span class="p">.</span><span class="mi">5</span> <span class="o">+</span> <span class="p">(</span> <span class="n">polarCoords</span> <span class="o">/</span> <span class="n">onceSideAngle</span> <span class="p">)</span> <span class="p">)</span> <span class="p">)</span> <span class="o">*</span> <span class="n">onceSideAngle</span> <span class="p">)</span> <span class="o">-</span> <span class="n">polarCoords</span> <span class="p">)</span> <span class="p">)</span> <span class="o">*</span> <span class="n">length</span><span class="p">(</span> <span class="n">break2</span> <span class="p">)</span> <span class="p">);</span>
				
				
				<span class="n">finalColor</span> <span class="o">=</span> <span class="p">(</span> <span class="n">tex2D</span><span class="p">(</span> <span class="n">_MainTexture</span><span class="p">,</span> <span class="n">uv_MainTexture</span> <span class="p">)</span> <span class="o">*</span> <span class="n">saturate</span><span class="p">(</span> <span class="p">(</span> <span class="p">(</span> <span class="mi">1</span><span class="p">.</span><span class="mi">0</span> <span class="o">-</span> <span class="n">val</span> <span class="p">)</span> <span class="o">/</span> <span class="n">fwidth</span><span class="p">(</span> <span class="n">val</span> <span class="p">)</span> <span class="p">)</span> <span class="p">)</span> <span class="p">);</span>
				<span class="k">return</span> <span class="n">finalColor</span><span class="p">;</span>
			<span class="p">}</span>
			<span class="n">ENDCG</span>
		<span class="p">}</span>
	<span class="p">}</span>
	<span class="n">CustomEditor</span> <span class="s">"ASEMaterialInspector"</span>
	
	
<span class="p">}</span>
</code></pre></div></div>

<h3 id="ellipse-椭圆">Ellipse: 椭圆</h3>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/image-20200617184801379.png" alt="image-20200617184801379" /></p>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">Shader</span> <span class="s">"TestNode"</span>
<span class="p">{</span>
	<span class="n">Properties</span>
	<span class="p">{</span>
		<span class="n">_MainTexture</span><span class="p">(</span><span class="s">"MainTexture"</span><span class="p">,</span> <span class="mi">2</span><span class="n">D</span><span class="p">)</span> <span class="o">=</span> <span class="s">"white"</span> <span class="p">{}</span>
		<span class="n">_Width</span><span class="p">(</span><span class="s">"Width"</span><span class="p">,</span> <span class="n">Range</span><span class="p">(</span> <span class="mi">0</span> <span class="p">,</span> <span class="mi">7</span><span class="p">))</span> <span class="o">=</span> <span class="mi">0</span><span class="p">.</span><span class="mi">9053376</span>
		<span class="n">_Height</span><span class="p">(</span><span class="s">"Height"</span><span class="p">,</span> <span class="n">Range</span><span class="p">(</span> <span class="mi">0</span> <span class="p">,</span> <span class="mi">7</span><span class="p">))</span> <span class="o">=</span> <span class="mi">0</span><span class="p">.</span><span class="mi">6138254</span>
		<span class="p">[</span><span class="n">HideInInspector</span><span class="p">]</span> <span class="n">_texcoord</span><span class="p">(</span> <span class="s">""</span><span class="p">,</span> <span class="mi">2</span><span class="n">D</span> <span class="p">)</span> <span class="o">=</span> <span class="s">"white"</span> <span class="p">{}</span>

	<span class="p">}</span>
	
	<span class="n">SubShader</span>
	<span class="p">{</span>
		
		
		<span class="n">Tags</span> <span class="p">{</span> <span class="s">"RenderType"</span><span class="o">=</span><span class="s">"Opaque"</span> <span class="p">}</span>
	<span class="n">LOD</span> <span class="mi">100</span>

		<span class="n">CGINCLUDE</span>
		<span class="cp">#pragma target 3.0
</span>		<span class="n">ENDCG</span>
		<span class="n">Blend</span> <span class="n">SrcAlpha</span> <span class="n">OneMinusSrcAlpha</span>
		<span class="n">Cull</span> <span class="n">Back</span>
		<span class="n">ColorMask</span> <span class="n">RGBA</span>
		<span class="n">ZWrite</span> <span class="n">On</span>
		<span class="n">ZTest</span> <span class="n">LEqual</span>
		<span class="n">Offset</span> <span class="mi">0</span> <span class="p">,</span> <span class="mi">0</span>
		
		
		
		<span class="n">Pass</span>
		<span class="p">{</span>
			<span class="n">Name</span> <span class="s">"Unlit"</span>
			<span class="n">Tags</span> <span class="p">{</span> <span class="s">"LightMode"</span><span class="o">=</span><span class="s">"ForwardBase"</span> <span class="p">}</span>
			<span class="n">CGPROGRAM</span>

			

			<span class="cp">#ifndef UNITY_SETUP_STEREO_EYE_INDEX_POST_VERTEX
</span>			<span class="c1">//only defining to not throw compilation error over Unity 5.5</span>
			<span class="cp">#define UNITY_SETUP_STEREO_EYE_INDEX_POST_VERTEX(input)
</span>			<span class="cp">#endif
</span>			<span class="cp">#pragma vertex vert
</span>			<span class="cp">#pragma fragment frag
</span>			<span class="cp">#pragma multi_compile_instancing
</span>			<span class="cp">#include "UnityCG.cginc"
</span>			

			<span class="k">struct</span> <span class="n">appdata</span>
			<span class="p">{</span>
				<span class="n">float4</span> <span class="n">vertex</span> <span class="o">:</span> <span class="n">POSITION</span><span class="p">;</span>
				<span class="n">float4</span> <span class="n">color</span> <span class="o">:</span> <span class="n">COLOR</span><span class="p">;</span>
				<span class="n">UNITY_VERTEX_INPUT_INSTANCE_ID</span>
				<span class="n">float4</span> <span class="n">ase_texcoord</span> <span class="o">:</span> <span class="n">TEXCOORD0</span><span class="p">;</span>
			<span class="p">};</span>
			
			<span class="k">struct</span> <span class="n">v2f</span>
			<span class="p">{</span>
				<span class="n">float4</span> <span class="n">vertex</span> <span class="o">:</span> <span class="n">SV_POSITION</span><span class="p">;</span>
				<span class="n">UNITY_VERTEX_INPUT_INSTANCE_ID</span>
				<span class="n">UNITY_VERTEX_OUTPUT_STEREO</span>
				<span class="n">float4</span> <span class="n">ase_texcoord</span> <span class="o">:</span> <span class="n">TEXCOORD0</span><span class="p">;</span>
			<span class="p">};</span>

			<span class="k">uniform</span> <span class="kt">sampler2D</span> <span class="n">_MainTexture</span><span class="p">;</span>
			<span class="k">uniform</span> <span class="n">float4</span> <span class="n">_MainTexture_ST</span><span class="p">;</span>
			<span class="k">uniform</span> <span class="kt">float</span> <span class="n">_Width</span><span class="p">;</span>
			<span class="k">uniform</span> <span class="kt">float</span> <span class="n">_Height</span><span class="p">;</span>

			
			<span class="n">v2f</span> <span class="n">vert</span> <span class="p">(</span> <span class="n">appdata</span> <span class="n">v</span> <span class="p">)</span>
			<span class="p">{</span>
				<span class="n">v2f</span> <span class="n">o</span><span class="p">;</span>
				<span class="n">UNITY_SETUP_INSTANCE_ID</span><span class="p">(</span><span class="n">v</span><span class="p">);</span>
				<span class="n">UNITY_INITIALIZE_VERTEX_OUTPUT_STEREO</span><span class="p">(</span><span class="n">o</span><span class="p">);</span>
				<span class="n">UNITY_TRANSFER_INSTANCE_ID</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="n">o</span><span class="p">);</span>

				<span class="n">o</span><span class="p">.</span><span class="n">ase_texcoord</span><span class="p">.</span><span class="n">xy</span> <span class="o">=</span> <span class="n">v</span><span class="p">.</span><span class="n">ase_texcoord</span><span class="p">.</span><span class="n">xy</span><span class="p">;</span>
				
				<span class="c1">//setting value to unused interpolator channels and avoid initialization warnings</span>
				<span class="n">o</span><span class="p">.</span><span class="n">ase_texcoord</span><span class="p">.</span><span class="n">zw</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
				<span class="n">float3</span> <span class="n">vertexValue</span> <span class="o">=</span> <span class="n">float3</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
				<span class="cp">#if ASE_ABSOLUTE_VERTEX_POS
</span>				<span class="n">vertexValue</span> <span class="o">=</span> <span class="n">v</span><span class="p">.</span><span class="n">vertex</span><span class="p">.</span><span class="n">xyz</span><span class="p">;</span>
				<span class="cp">#endif
</span>				<span class="n">vertexValue</span> <span class="o">=</span> <span class="n">vertexValue</span><span class="p">;</span>
				<span class="cp">#if ASE_ABSOLUTE_VERTEX_POS
</span>				<span class="n">v</span><span class="p">.</span><span class="n">vertex</span><span class="p">.</span><span class="n">xyz</span> <span class="o">=</span> <span class="n">vertexValue</span><span class="p">;</span>
				<span class="cp">#else
</span>				<span class="n">v</span><span class="p">.</span><span class="n">vertex</span><span class="p">.</span><span class="n">xyz</span> <span class="o">+=</span> <span class="n">vertexValue</span><span class="p">;</span>
				<span class="cp">#endif
</span>				<span class="n">o</span><span class="p">.</span><span class="n">vertex</span> <span class="o">=</span> <span class="n">UnityObjectToClipPos</span><span class="p">(</span><span class="n">v</span><span class="p">.</span><span class="n">vertex</span><span class="p">);</span>
				<span class="k">return</span> <span class="n">o</span><span class="p">;</span>
			<span class="p">}</span>
			
			<span class="n">fixed4</span> <span class="n">frag</span> <span class="p">(</span><span class="n">v2f</span> <span class="n">i</span> <span class="p">)</span> <span class="o">:</span> <span class="n">SV_Target</span>
			<span class="p">{</span>
				<span class="n">UNITY_SETUP_INSTANCE_ID</span><span class="p">(</span><span class="n">i</span><span class="p">);</span>
				<span class="n">UNITY_SETUP_STEREO_EYE_INDEX_POST_VERTEX</span><span class="p">(</span><span class="n">i</span><span class="p">);</span>
				<span class="n">fixed4</span> <span class="n">finalColor</span><span class="p">;</span>
				<span class="n">float2</span> <span class="n">uv_MainTexture</span> <span class="o">=</span> <span class="n">i</span><span class="p">.</span><span class="n">ase_texcoord</span><span class="p">.</span><span class="n">xy</span> <span class="o">*</span> <span class="n">_MainTexture_ST</span><span class="p">.</span><span class="n">xy</span> <span class="o">+</span> <span class="n">_MainTexture_ST</span><span class="p">.</span><span class="n">zw</span><span class="p">;</span>
				<span class="n">float2</span> <span class="n">size</span> <span class="o">=</span> <span class="p">(</span><span class="n">float2</span><span class="p">(</span><span class="n">_Width</span> <span class="p">,</span> <span class="n">_Height</span><span class="p">));</span>
				<span class="kt">float</span> <span class="n">len</span> <span class="o">=</span> <span class="n">length</span><span class="p">(</span> <span class="p">(</span> <span class="p">(</span><span class="n">i</span><span class="p">.</span><span class="n">ase_texcoord</span><span class="p">.</span><span class="n">xy</span><span class="o">*</span><span class="mi">2</span><span class="p">.</span><span class="mi">0</span> <span class="o">+</span> <span class="o">-</span><span class="mi">1</span><span class="p">.</span><span class="mi">0</span><span class="p">)</span> <span class="o">/</span> <span class="n">size</span> <span class="p">)</span> <span class="p">);</span>
				
				
				<span class="n">finalColor</span> <span class="o">=</span> <span class="p">(</span> <span class="n">tex2D</span><span class="p">(</span> <span class="n">_MainTexture</span><span class="p">,</span> <span class="n">uv_MainTexture</span> <span class="p">)</span> <span class="o">*</span> <span class="n">saturate</span><span class="p">(</span> <span class="p">(</span> <span class="p">(</span> <span class="mi">1</span><span class="p">.</span><span class="mi">0</span> <span class="o">-</span> <span class="n">len</span> <span class="p">)</span> <span class="o">/</span> <span class="n">fwidth</span><span class="p">(</span> <span class="n">len</span> <span class="p">)</span> <span class="p">)</span> <span class="p">)</span> <span class="p">);</span>
				<span class="k">return</span> <span class="n">finalColor</span><span class="p">;</span>
			<span class="p">}</span>
			<span class="n">ENDCG</span>
		<span class="p">}</span>
	<span class="p">}</span>
	<span class="n">CustomEditor</span> <span class="s">"ASEMaterialInspector"</span>
	
	
<span class="p">}</span>
</code></pre></div></div>

<h3 id="flow-浮动可以做云彩飘动">Flow: 浮动，可以做云彩飘动</h3>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/image-20200617185743489.png" alt="image-20200617185743489" /></p>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/image-20200617185802897.png" alt="image-20200617185802897" /></p>

<p><img src="https://gitee.com/ihaiu/AmplifyShaderEditor/raw/master/Node/image-20200617185859596.png" alt="image-20200617185859596" /></p>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">Shader</span> <span class="s">"TestNode"</span>
<span class="p">{</span>
	<span class="n">Properties</span>
	<span class="p">{</span>
		<span class="n">_Size</span><span class="p">(</span><span class="s">"Size"</span><span class="p">,</span> <span class="n">Range</span><span class="p">(</span> <span class="mi">0</span> <span class="p">,</span> <span class="mi">10</span><span class="p">))</span> <span class="o">=</span> <span class="mi">1</span>
		<span class="n">_FlowStrength</span><span class="p">(</span><span class="s">"FlowStrength"</span><span class="p">,</span> <span class="n">Range</span><span class="p">(</span> <span class="mi">0</span> <span class="p">,</span> <span class="mi">7</span><span class="p">))</span> <span class="o">=</span> <span class="mi">1</span><span class="p">.</span><span class="mo">00764</span>
		<span class="n">_Texture0</span><span class="p">(</span><span class="s">"Texture 0"</span><span class="p">,</span> <span class="mi">2</span><span class="n">D</span><span class="p">)</span> <span class="o">=</span> <span class="s">"white"</span> <span class="p">{}</span>
		<span class="n">_TextureSample4</span><span class="p">(</span><span class="s">"Texture Sample 4"</span><span class="p">,</span> <span class="mi">2</span><span class="n">D</span><span class="p">)</span> <span class="o">=</span> <span class="s">"white"</span> <span class="p">{}</span>
		<span class="p">[</span><span class="n">HideInInspector</span><span class="p">]</span> <span class="n">_texcoord</span><span class="p">(</span> <span class="s">""</span><span class="p">,</span> <span class="mi">2</span><span class="n">D</span> <span class="p">)</span> <span class="o">=</span> <span class="s">"white"</span> <span class="p">{}</span>

	<span class="p">}</span>
	
	<span class="n">SubShader</span>
	<span class="p">{</span>
		
		
		<span class="n">Tags</span> <span class="p">{</span> <span class="s">"RenderType"</span><span class="o">=</span><span class="s">"Opaque"</span> <span class="p">}</span>
	<span class="n">LOD</span> <span class="mi">100</span>

		<span class="n">CGINCLUDE</span>
		<span class="cp">#pragma target 3.0
</span>		<span class="n">ENDCG</span>
		<span class="n">Blend</span> <span class="n">Off</span>
		<span class="n">Cull</span> <span class="n">Back</span>
		<span class="n">ColorMask</span> <span class="n">RGBA</span>
		<span class="n">ZWrite</span> <span class="n">On</span>
		<span class="n">ZTest</span> <span class="n">LEqual</span>
		<span class="n">Offset</span> <span class="mi">0</span> <span class="p">,</span> <span class="mi">0</span>
		
		
		
		<span class="n">Pass</span>
		<span class="p">{</span>
			<span class="n">Name</span> <span class="s">"Unlit"</span>
			<span class="n">Tags</span> <span class="p">{</span> <span class="s">"LightMode"</span><span class="o">=</span><span class="s">"ForwardBase"</span> <span class="p">}</span>
			<span class="n">CGPROGRAM</span>

			

			<span class="cp">#ifndef UNITY_SETUP_STEREO_EYE_INDEX_POST_VERTEX
</span>			<span class="c1">//only defining to not throw compilation error over Unity 5.5</span>
			<span class="cp">#define UNITY_SETUP_STEREO_EYE_INDEX_POST_VERTEX(input)
</span>			<span class="cp">#endif
</span>			<span class="cp">#pragma vertex vert
</span>			<span class="cp">#pragma fragment frag
</span>			<span class="cp">#pragma multi_compile_instancing
</span>			<span class="cp">#include "UnityCG.cginc"
</span>			<span class="cp">#include "UnityShaderVariables.cginc"
</span>

			<span class="k">struct</span> <span class="n">appdata</span>
			<span class="p">{</span>
				<span class="n">float4</span> <span class="n">vertex</span> <span class="o">:</span> <span class="n">POSITION</span><span class="p">;</span>
				<span class="n">float4</span> <span class="n">color</span> <span class="o">:</span> <span class="n">COLOR</span><span class="p">;</span>
				<span class="n">UNITY_VERTEX_INPUT_INSTANCE_ID</span>
				<span class="n">float4</span> <span class="n">ase_texcoord</span> <span class="o">:</span> <span class="n">TEXCOORD0</span><span class="p">;</span>
			<span class="p">};</span>
			
			<span class="k">struct</span> <span class="n">v2f</span>
			<span class="p">{</span>
				<span class="n">float4</span> <span class="n">vertex</span> <span class="o">:</span> <span class="n">SV_POSITION</span><span class="p">;</span>
				<span class="n">UNITY_VERTEX_INPUT_INSTANCE_ID</span>
				<span class="n">UNITY_VERTEX_OUTPUT_STEREO</span>
				<span class="n">float4</span> <span class="n">ase_texcoord</span> <span class="o">:</span> <span class="n">TEXCOORD0</span><span class="p">;</span>
			<span class="p">};</span>

			<span class="k">uniform</span> <span class="kt">sampler2D</span> <span class="n">_Texture0</span><span class="p">;</span>
			<span class="k">uniform</span> <span class="kt">float</span> <span class="n">_Size</span><span class="p">;</span>
			<span class="k">uniform</span> <span class="kt">sampler2D</span> <span class="n">_TextureSample4</span><span class="p">;</span>
			<span class="k">uniform</span> <span class="n">float4</span> <span class="n">_TextureSample4_ST</span><span class="p">;</span>
			<span class="k">uniform</span> <span class="kt">float</span> <span class="n">_FlowStrength</span><span class="p">;</span>

			
			<span class="n">v2f</span> <span class="n">vert</span> <span class="p">(</span> <span class="n">appdata</span> <span class="n">v</span> <span class="p">)</span>
			<span class="p">{</span>
				<span class="n">v2f</span> <span class="n">o</span><span class="p">;</span>
				<span class="n">UNITY_SETUP_INSTANCE_ID</span><span class="p">(</span><span class="n">v</span><span class="p">);</span>
				<span class="n">UNITY_INITIALIZE_VERTEX_OUTPUT_STEREO</span><span class="p">(</span><span class="n">o</span><span class="p">);</span>
				<span class="n">UNITY_TRANSFER_INSTANCE_ID</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="n">o</span><span class="p">);</span>

				<span class="n">o</span><span class="p">.</span><span class="n">ase_texcoord</span><span class="p">.</span><span class="n">xy</span> <span class="o">=</span> <span class="n">v</span><span class="p">.</span><span class="n">ase_texcoord</span><span class="p">.</span><span class="n">xy</span><span class="p">;</span>
				
				<span class="c1">//setting value to unused interpolator channels and avoid initialization warnings</span>
				<span class="n">o</span><span class="p">.</span><span class="n">ase_texcoord</span><span class="p">.</span><span class="n">zw</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
				<span class="n">float3</span> <span class="n">vertexValue</span> <span class="o">=</span> <span class="n">float3</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
				<span class="cp">#if ASE_ABSOLUTE_VERTEX_POS
</span>				<span class="n">vertexValue</span> <span class="o">=</span> <span class="n">v</span><span class="p">.</span><span class="n">vertex</span><span class="p">.</span><span class="n">xyz</span><span class="p">;</span>
				<span class="cp">#endif
</span>				<span class="n">vertexValue</span> <span class="o">=</span> <span class="n">vertexValue</span><span class="p">;</span>
				<span class="cp">#if ASE_ABSOLUTE_VERTEX_POS
</span>				<span class="n">v</span><span class="p">.</span><span class="n">vertex</span><span class="p">.</span><span class="n">xyz</span> <span class="o">=</span> <span class="n">vertexValue</span><span class="p">;</span>
				<span class="cp">#else
</span>				<span class="n">v</span><span class="p">.</span><span class="n">vertex</span><span class="p">.</span><span class="n">xyz</span> <span class="o">+=</span> <span class="n">vertexValue</span><span class="p">;</span>
				<span class="cp">#endif
</span>				<span class="n">o</span><span class="p">.</span><span class="n">vertex</span> <span class="o">=</span> <span class="n">UnityObjectToClipPos</span><span class="p">(</span><span class="n">v</span><span class="p">.</span><span class="n">vertex</span><span class="p">);</span>
				<span class="k">return</span> <span class="n">o</span><span class="p">;</span>
			<span class="p">}</span>
			
			<span class="n">fixed4</span> <span class="n">frag</span> <span class="p">(</span><span class="n">v2f</span> <span class="n">i</span> <span class="p">)</span> <span class="o">:</span> <span class="n">SV_Target</span>
			<span class="p">{</span>
				<span class="n">UNITY_SETUP_INSTANCE_ID</span><span class="p">(</span><span class="n">i</span><span class="p">);</span>
				<span class="n">UNITY_SETUP_STEREO_EYE_INDEX_POST_VERTEX</span><span class="p">(</span><span class="n">i</span><span class="p">);</span>
				<span class="n">fixed4</span> <span class="n">finalColor</span><span class="p">;</span>
				<span class="n">float2</span> <span class="n">uv_size</span> <span class="o">=</span> <span class="p">((</span> <span class="n">i</span><span class="p">.</span><span class="n">ase_texcoord</span><span class="p">.</span><span class="n">xy</span> <span class="o">/</span> <span class="n">_Size</span> <span class="p">)).</span><span class="n">xy</span><span class="p">;</span>
				<span class="n">float2</span> <span class="n">uv_TextureSample4</span> <span class="o">=</span> <span class="n">i</span><span class="p">.</span><span class="n">ase_texcoord</span><span class="p">.</span><span class="n">xy</span> <span class="o">*</span> <span class="n">_TextureSample4_ST</span><span class="p">.</span><span class="n">xy</span> <span class="o">+</span> <span class="n">_TextureSample4_ST</span><span class="p">.</span><span class="n">zw</span><span class="p">;</span>
				<span class="n">float2</span> <span class="n">textureRG</span> <span class="o">=</span> <span class="p">(</span> <span class="n">tex2D</span><span class="p">(</span> <span class="n">_TextureSample4</span><span class="p">,</span> <span class="n">uv_TextureSample4</span> <span class="p">).</span><span class="n">rg</span> <span class="o">+</span> <span class="mi">0</span><span class="p">.</span><span class="mi">5</span> <span class="p">);</span>
				<span class="kt">float</span> <span class="n">FlowStrength</span> <span class="o">=</span> <span class="n">_FlowStrength</span><span class="p">;</span>
				<span class="kt">float</span> <span class="n">mulTime</span> <span class="o">=</span> <span class="n">_Time</span><span class="p">.</span><span class="n">y</span> <span class="o">*</span> <span class="n">float2</span><span class="p">(</span> <span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">.</span><span class="mi">5</span> <span class="p">).</span><span class="n">x</span><span class="p">;</span>
				<span class="kt">float</span> <span class="n">mulTime_frac</span> <span class="o">=</span> <span class="n">frac</span><span class="p">(</span> <span class="n">mulTime</span> <span class="p">);</span>
				<span class="n">float2</span> <span class="n">uv1</span> <span class="o">=</span> <span class="p">(</span> <span class="n">uv_size</span> <span class="o">+</span> <span class="p">(</span> <span class="n">textureRG</span> <span class="o">*</span> <span class="n">FlowStrength</span> <span class="o">*</span> <span class="n">mulTime_frac</span> <span class="p">)</span> <span class="p">);</span>
				<span class="n">float2</span> <span class="n">uv2</span> <span class="o">=</span> <span class="p">(</span> <span class="n">uv_size</span> <span class="o">+</span> <span class="p">(</span> <span class="n">textureRG</span> <span class="o">*</span> <span class="n">FlowStrength</span> <span class="o">*</span> <span class="n">frac</span><span class="p">(</span> <span class="p">(</span> <span class="n">mulTime</span> <span class="o">+</span> <span class="mi">0</span><span class="p">.</span><span class="mi">5</span> <span class="p">)</span> <span class="p">)</span> <span class="p">)</span> <span class="p">);</span>
				<span class="n">float3</span> <span class="n">lerpResult9_g13</span> <span class="o">=</span> <span class="n">lerp</span><span class="p">(</span> <span class="n">UnpackNormal</span><span class="p">(</span> <span class="n">tex2D</span><span class="p">(</span> <span class="n">_Texture0</span><span class="p">,</span> <span class="n">uv1</span> <span class="p">)</span> <span class="p">)</span> <span class="p">,</span> <span class="n">UnpackNormal</span><span class="p">(</span> <span class="n">tex2D</span><span class="p">(</span> <span class="n">_Texture0</span><span class="p">,</span> <span class="n">uv2</span> <span class="p">)</span> <span class="p">)</span> <span class="p">,</span> <span class="p">(</span> <span class="n">abs</span><span class="p">(</span> <span class="p">(</span> <span class="n">mulTime_frac</span> <span class="o">-</span> <span class="mi">0</span><span class="p">.</span><span class="mi">5</span> <span class="p">)</span> <span class="p">)</span> <span class="o">/</span> <span class="mi">0</span><span class="p">.</span><span class="mi">5</span> <span class="p">));</span>
				
				
				<span class="n">finalColor</span> <span class="o">=</span> <span class="n">float4</span><span class="p">(</span> <span class="n">lerpResult9_g13</span> <span class="p">,</span> <span class="mi">0</span><span class="p">.</span><span class="mi">0</span> <span class="p">);</span>
				<span class="k">return</span> <span class="n">finalColor</span><span class="p">;</span>
			<span class="p">}</span>
			<span class="n">ENDCG</span>
		<span class="p">}</span>
	<span class="p">}</span>
	<span class="n">CustomEditor</span> <span class="s">"ASEMaterialInspector"</span>
	
	
<span class="p">}</span>
</code></pre></div></div>

<h1 id="总结">总结</h1>

<p><strong>shader 主要由以先组成</strong></p>

<ul>
  <li>对象数据：顶点、贴图、UV、摄像机、屏幕、灯光、雾、帧缓冲、传入的材质球参数。</li>
  <li>基本数据类型:  float、half、int、float2–4、half2–4, int2-4,  floatNxN, halfNxN, intNxN</li>
  <li>全局变量/常量：时间、PI</li>
  <li>函数：数学函数、三角函数、矩阵函数、向量函数、贴图采样函数</li>
  <li>逻辑判断：比较少用</li>
</ul>

]]></content:encoded>
    </item>
    
    <item>
      <title>卡通材质</title>
      <link href="http://blog.ihaiu.com/ktcz/"/>
      <pubDate>2020-05-27T21:51:00+08:00</pubDate>
      <author>ihaiu</author>
      <guid>http://blog.ihaiu.com/ktcz</guid>
      <content:encoded><![CDATA[<h1 id="go框架">go框架</h1>

<table>
  <thead>
    <tr>
      <th>K</th>
      <th>W</th>
      <th>H</th>
      <th>L</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>What do I know？</td>
      <td>What do I want to know？</td>
      <td>How I will learn？</td>
      <td>What I have learned？</td>
    </tr>
    <tr>
      <td>我知道些什么？</td>
      <td>我想要知道些什么？</td>
      <td>我该如何去学习？</td>
      <td>我学到了什么？</td>
    </tr>
    <tr>
      <td>Know</td>
      <td>Want</td>
      <td>How</td>
      <td>Learned</td>
    </tr>
    <tr>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td> </td>
      <td>目录结构？</td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td> </td>
      <td>启动服务器流程？</td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td> </td>
      <td>有哪些配置？负责做什么？</td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td> </td>
      <td>redis数据库怎么使用？</td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td> </td>
      <td>redis lua脚本怎么使用?</td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td> </td>
      <td>sync.RWMutex 互斥锁怎么使用？</td>
      <td>https://studygolang.com/pkgdoc</td>
      <td> </td>
    </tr>
    <tr>
      <td> </td>
      <td>defer 作用？</td>
      <td>https://xiaozhou.net/something-about-defer-2014-05-25.html<br />https://blog.csdn.net/huang_yong_peng/article/details/82950743</td>
      <td> </td>
    </tr>
    <tr>
      <td> </td>
      <td>parser 协议解析</td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td> </td>
      <td>reflect 反射</td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
  </tbody>
</table>

<h1 id="目录">目录</h1>

<p>[TOC]</p>

<h1 id="资料">资料</h1>

<h6 id="pragma-multi_compile">#pragma multi_compile</h6>

<p>https://www.jianshu.com/p/f2eae5d6641c</p>

<h6 id="unpackscalenormal">UnpackScaleNormal</h6>

<p>https://blog.csdn.net/qq_26365139/article/details/101291955</p>

<h6 id="unity3d-shader-之-clip-函数">Unity3D Shader 之 Clip 函数</h6>

<p>https://www.jianshu.com/p/8c753468d495</p>

<h6 id="unity-shader-内置函数">Unity Shader 内置函数</h6>

<p>https://blog.csdn.net/a6627651/article/details/50680360</p>

<p>http://www.cppblog.com/lai3d/archive/2008/10/23/64889.html</p>

<p>saturate          把输入值限制到[0, 1]之间。</p>

<p>clip             如果输入向量中的任何元素小于0，则丢弃当前像素。</p>

<p>any             测试输入值中的任何非零值。</p>

<p>UNITY_FOG_COORDS(1)//雾数据</p>

<h6 id="shaderlab中内置的matrix">ShaderLab中内置的Matrix</h6>

<p>https://blog.csdn.net/cubesky/article/details/38664143</p>

<p>https://blog.csdn.net/a133900029/article/details/80558765</p>

<p>float3 _Camera_Right = UNITY_MATRIX_V[0].xyz;
float3 _Camera_Front = UNITY_MATRIX_V[2].xyz;</p>

<h6 id="观察矩阵推导">观察矩阵推导</h6>

<p>https://zhuanlan.zhihu.com/p/104765641</p>

<p>https://cloud.tencent.com/developer/article/1472448</p>

<h6 id="shadesh9-unityshader球谐光照">ShadeSH9 UnityShader——球谐光照</h6>

<p>https://blog.csdn.net/NotMz/article/details/78339913</p>

<p>https://blog.csdn.net/weixin_42653501/article/details/104405016</p>

<h6 id="unity泛光bloom的实现方式">UNITY泛光（BLOOM）的实现方式</h6>

<p>http://www.wantgame.net/blog/?p=480&amp;utm_source=tuicool&amp;utm_medium=referral</p>

<h6 id="unity2018实现-泛光-荧光灯-效果">Unity2018实现 泛光 荧光灯 效果</h6>

<p>https://blog.csdn.net/A13155283231/article/details/99678183</p>

<p>https://github.com/ihaiucom/Unity_Plexus-Effect</p>

<h6 id="unityshader实例15屏幕特效之bloom">UnityShader实例15:屏幕特效之Bloom</h6>

<p>https://blog.csdn.net/u011047171/article/details/48522073</p>

<p><a href="https://github.com/zouchunyi/KinoBloom">KinoBloom</a></p>

<p><a href="https://github.com/XJINE/Unity_Bloom">Unity_Bloom</a></p>

<p><a href="https://github.com/XJINE/Unity_AlphaBloom">Unity_AlphaBloom</a></p>

<p><a href="https://github.com/ihaiucom/Unity_ImageFilters">Unity_ImageFilters</a></p>

<p><a href="https://github.com/XJINE/Unity_ImageEffectBase">Unity_ImageEffectBase</a></p>

<p>[[口袋妖怪]系列最终的全3D化     再现图像风格的制作技法]: https://www.cnblogs.com/TracePlus/p/4299428.html</p>

<h6 id="unityshader屏幕后处理效果之碎屏效果">UnityShader屏幕后处理效果之碎屏效果</h6>

<p>https://blog.csdn.net/qq_36383623/article/details/86304894</p>

<h6 id="unity5中新的shader">Unity5中新的Shader</h6>

<p>https://blog.csdn.net/zhaoguanghui2012/article/details/51462320</p>

<h6 id="unitychantoonshaderver2_project">UnityChanToonShaderVer2_Project</h6>

<p>https://gitee.com/ihaiu/UnityChanToonShaderVer2_Project</p>

<p>https://www.bilibili.com/read/cv3347898</p>

<p><a href="https://www.zhihu.com/column/c_1183802694685433856">Unity复现《重力眩晕2》中的渲染技术</a></p>

<p>视频：</p>

<p>UTS2的基本设置方式【Unity卡通渲染着色器教程其一】</p>

<p>https://www.bilibili.com/video/BV1WV411d7dv?from=search&amp;seid=13189659463342600505</p>

<p>使用UTS2渲染Q版Unity娘 【Unity卡通渲染着色器教程其二】</p>

<p>https://www.bilibili.com/video/BV1g54y1R7Ao?from=search&amp;seid=13189659463342600505</p>

<p>使用UTS2渲染Unity娘 【Unity卡通渲染着色器教程其三】</p>

<p>https://www.bilibili.com/video/BV1hC4y1W7RX?from=search&amp;seid=13189659463342600505</p>

<p>文章：</p>

<h1 id="mmd联动unity学习笔记-vol41-在uts2中使用不同的着色器">MMD联动Unity学习笔记 Vol.41 在UTS2中使用不同的着色器</h1>

<p>https://www.bilibili.com/read/cv3278897</p>

<h1 id="mmd联动unity学习笔记-vol42-uts2进阶慎入长篇多图预警">MMD联动Unity学习笔记 Vol.42 UTS2进阶（慎入长篇多图预警）</h1>

<p>https://www.bilibili.com/read/cv3347514</p>

<h1 id="mmd联动unity学习笔记-vol43-uts2补充说明">MMD联动Unity学习笔记 Vol.43 UTS2补充说明</h1>

<p>https://www.bilibili.com/read/cv3347898</p>

<h1 id="最简单的屏幕后期处理">最简单的屏幕后期处理</h1>

<div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">Shader</span> <span class="s">"Custom/RenderImage/ScreenBroken"</span> <span class="p">{</span>
	<span class="n">Properties</span><span class="p">{</span>
		<span class="n">_MainTex</span><span class="p">(</span><span class="s">"Main Tex"</span><span class="p">,</span> <span class="mi">2</span><span class="n">D</span><span class="p">)</span> <span class="o">=</span> <span class="s">"white"</span> <span class="p">{}</span>
		<span class="n">_BrokenNormalMap</span><span class="p">(</span><span class="s">"BrokenNormal Map"</span><span class="p">,</span><span class="mi">2</span><span class="n">D</span><span class="p">)</span> <span class="o">=</span> <span class="s">"bump"</span><span class="p">{}</span>
		<span class="n">_BrokenScale</span><span class="p">(</span><span class="s">"BrokenScale"</span><span class="p">,</span><span class="n">Range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">))</span> <span class="o">=</span> <span class="mi">1</span><span class="p">.</span><span class="mi">0</span>
	<span class="p">}</span>
		<span class="n">SubShader</span><span class="p">{</span>


			<span class="n">Pass</span><span class="p">{</span>
				<span class="n">Tags</span> <span class="p">{</span> <span class="s">"LightMode"</span> <span class="o">=</span> <span class="s">"ForwardBase"</span> <span class="p">}</span>

				<span class="n">CGPROGRAM</span>

				<span class="cp">#include "UnityCG.cginc"
</span>				<span class="cp">#include "Lighting.cginc"
</span>
				<span class="cp">#pragma vertex vert
</span>				<span class="cp">#pragma fragment frag
</span>
			<span class="c1">//这一部分参数的定义要根据Properties</span>
			<span class="n">fixed4</span> <span class="n">_Color</span><span class="p">;</span>
			<span class="kt">sampler2D</span> <span class="n">_MainTex</span><span class="p">;</span>
			<span class="n">float4</span> <span class="n">_MainTex_ST</span><span class="p">;</span>
			<span class="kt">sampler2D</span> <span class="n">_BrokenNormalMap</span><span class="p">;</span>
			<span class="n">float4</span> <span class="n">_BrokenNormalMap_ST</span><span class="p">;</span>
			<span class="kt">float</span> <span class="n">_BrokenScale</span><span class="p">;</span>

			<span class="k">struct</span> <span class="n">a2v</span> <span class="p">{</span>
				<span class="n">float4</span> <span class="n">vertex</span> <span class="o">:</span> <span class="n">POSITION</span><span class="p">;</span>
				<span class="n">float4</span> <span class="n">texcoord</span> <span class="o">:</span> <span class="n">TEXCOORD0</span><span class="p">;</span>
			<span class="p">};</span>

			<span class="c1">//输出部分要和输入部分对应起来,而输出部分又要由片元着色器里的计算模型来确定</span>
			<span class="k">struct</span> <span class="n">v2f</span> <span class="p">{</span>
				<span class="n">float4</span> <span class="n">pos</span> <span class="o">:</span> <span class="n">SV_POSITION</span><span class="p">;</span>
				<span class="n">float4</span> <span class="n">uv</span> <span class="o">:</span> <span class="n">TEXCOORD0</span><span class="p">;</span>
			<span class="p">};</span>

			<span class="n">v2f</span> <span class="n">vert</span><span class="p">(</span><span class="n">a2v</span> <span class="n">v</span><span class="p">)</span> <span class="p">{</span>
				<span class="n">v2f</span> <span class="n">o</span><span class="p">;</span>
				<span class="n">o</span><span class="p">.</span><span class="n">pos</span> <span class="o">=</span> <span class="n">UnityObjectToClipPos</span><span class="p">(</span><span class="n">v</span><span class="p">.</span><span class="n">vertex</span><span class="p">);</span>

				<span class="n">o</span><span class="p">.</span><span class="n">uv</span><span class="p">.</span><span class="n">xy</span> <span class="o">=</span> <span class="n">TRANSFORM_TEX</span><span class="p">(</span><span class="n">v</span><span class="p">.</span><span class="n">texcoord</span><span class="p">,</span><span class="n">_MainTex</span><span class="p">);</span>
				<span class="n">o</span><span class="p">.</span><span class="n">uv</span><span class="p">.</span><span class="n">zw</span> <span class="o">=</span> <span class="n">TRANSFORM_TEX</span><span class="p">(</span><span class="n">v</span><span class="p">.</span><span class="n">texcoord</span><span class="p">,</span> <span class="n">_BrokenNormalMap</span><span class="p">);</span>
				<span class="k">return</span> <span class="n">o</span><span class="p">;</span>
			<span class="p">}</span>

			<span class="n">fixed4</span> <span class="n">frag</span><span class="p">(</span><span class="n">v2f</span> <span class="n">i</span><span class="p">)</span> <span class="o">:</span> <span class="n">SV_Target</span><span class="p">{</span>

				<span class="n">fixed4</span> <span class="n">packedNormal</span> <span class="o">=</span> <span class="n">tex2D</span><span class="p">(</span><span class="n">_BrokenNormalMap</span><span class="p">,</span><span class="n">i</span><span class="p">.</span><span class="n">uv</span><span class="p">.</span><span class="n">zw</span><span class="p">);</span>
				<span class="n">fixed3</span> <span class="n">tangentNormal</span><span class="p">;</span>
				<span class="n">tangentNormal</span> <span class="o">=</span> <span class="n">UnpackNormal</span><span class="p">(</span><span class="n">packedNormal</span><span class="p">);</span>

				<span class="n">tangentNormal</span><span class="p">.</span><span class="n">xy</span> <span class="o">*=</span> <span class="n">_BrokenScale</span><span class="p">;</span>
				<span class="n">float2</span> <span class="n">offset</span> <span class="o">=</span> <span class="n">tangentNormal</span><span class="p">.</span><span class="n">xy</span><span class="p">;</span>

				<span class="n">fixed3</span> <span class="n">lightColor</span> <span class="o">=</span> <span class="n">fixed3</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">);</span>
				<span class="n">fixed3</span> <span class="n">col</span> <span class="o">=</span> <span class="n">tex2D</span><span class="p">(</span><span class="n">_MainTex</span><span class="p">,</span><span class="n">i</span><span class="p">.</span><span class="n">uv</span><span class="p">.</span><span class="n">xy</span> <span class="o">+</span> <span class="n">offset</span><span class="p">).</span><span class="n">rgb</span> <span class="p">;</span>

				<span class="kr">fixed</span> <span class="n">luminance</span> <span class="o">=</span> <span class="p">(</span><span class="n">col</span><span class="p">.</span><span class="n">r</span> <span class="o">+</span> <span class="n">col</span><span class="p">.</span><span class="n">g</span> <span class="o">+</span> <span class="n">col</span><span class="p">.</span><span class="n">b</span><span class="p">)</span> <span class="o">/</span> <span class="mi">3</span><span class="p">;</span>
				<span class="n">fixed3</span> <span class="n">finalCol</span> <span class="o">=</span> <span class="n">lerp</span><span class="p">(</span><span class="n">fixed3</span><span class="p">(</span><span class="n">luminance</span><span class="p">,</span><span class="n">luminance</span><span class="p">,</span><span class="n">luminance</span><span class="p">),</span><span class="n">col</span><span class="p">,</span><span class="mi">0</span><span class="p">.</span><span class="mi">25</span><span class="p">);</span>

				<span class="k">return</span> <span class="n">fixed4</span><span class="p">(</span><span class="n">finalCol</span><span class="p">,</span><span class="mi">1</span><span class="p">.</span><span class="mi">0</span><span class="n">f</span><span class="p">);</span>
			<span class="p">}</span>
			<span class="n">ENDCG</span>
			<span class="p">}</span>

		<span class="p">}</span>
			<span class="n">FallBack</span> <span class="s">"Diffuse"</span>
<span class="p">}</span>
</code></pre></div></div>

<div class="language-c# highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">using</span> <span class="nn">System.Collections</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Collections.Generic</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">UnityEngine</span><span class="p">;</span>

<span class="p">[</span><span class="n">ExecuteInEditMode</span><span class="p">]</span>
<span class="k">public</span> <span class="k">class</span> <span class="nc">ScreenBroken</span> <span class="p">:</span> <span class="n">MonoBehaviour</span>
<span class="p">{</span>

    <span class="k">public</span> <span class="n">Material</span> <span class="n">mat</span><span class="p">;</span>

    <span class="k">private</span> <span class="k">void</span> <span class="nf">OnRenderImage</span><span class="p">(</span><span class="n">RenderTexture</span> <span class="n">source</span><span class="p">,</span> <span class="n">RenderTexture</span> <span class="n">destination</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">RenderTexture</span> <span class="n">src0</span> <span class="p">=</span> <span class="n">RenderTexture</span><span class="p">.</span><span class="nf">GetTemporary</span><span class="p">(</span><span class="n">source</span><span class="p">.</span><span class="n">width</span><span class="p">,</span> <span class="n">source</span><span class="p">.</span><span class="n">height</span><span class="p">);</span>
        <span class="n">mat</span><span class="p">.</span><span class="nf">SetTexture</span><span class="p">(</span><span class="s">"_MainTex"</span><span class="p">,</span> <span class="n">source</span><span class="p">);</span>
        <span class="n">Graphics</span><span class="p">.</span><span class="nf">Blit</span><span class="p">(</span><span class="n">source</span><span class="p">,</span> <span class="n">src0</span><span class="p">,</span> <span class="n">mat</span><span class="p">,</span> <span class="m">0</span><span class="p">);</span>
        <span class="n">Graphics</span><span class="p">.</span><span class="nf">Blit</span><span class="p">(</span><span class="n">src0</span><span class="p">,</span> <span class="n">destination</span><span class="p">);</span>

        <span class="n">RenderTexture</span><span class="p">.</span><span class="nf">ReleaseTemporary</span><span class="p">(</span><span class="n">src0</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

]]></content:encoded>
    </item>
    
    <item>
      <title>熟悉服务器代码go框架</title>
      <link href="http://blog.ihaiu.com/go-frame-read/"/>
      <pubDate>2020-05-25T21:51:00+08:00</pubDate>
      <author>ihaiu</author>
      <guid>http://blog.ihaiu.com/go-frame-read</guid>
      <content:encoded><![CDATA[<h1 id="go框架">go框架</h1>

<table>
  <thead>
    <tr>
      <th>K</th>
      <th>W</th>
      <th>H</th>
      <th>L</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>What do I know？</td>
      <td>What do I want to know？</td>
      <td>How I will learn？</td>
      <td>What I have learned？</td>
    </tr>
    <tr>
      <td>我知道些什么？</td>
      <td>我想要知道些什么？</td>
      <td>我该如何去学习？</td>
      <td>我学到了什么？</td>
    </tr>
    <tr>
      <td>Know</td>
      <td>Want</td>
      <td>How</td>
      <td>Learned</td>
    </tr>
    <tr>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td> </td>
      <td>目录结构？</td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td> </td>
      <td>启动服务器流程？</td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td> </td>
      <td>有哪些配置？负责做什么？</td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td> </td>
      <td>redis数据库怎么使用？</td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td> </td>
      <td>redis lua脚本怎么使用?</td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td> </td>
      <td>sync.RWMutex 互斥锁怎么使用？</td>
      <td>https://studygolang.com/pkgdoc</td>
      <td> </td>
    </tr>
    <tr>
      <td> </td>
      <td>defer 作用？</td>
      <td>https://xiaozhou.net/something-about-defer-2014-05-25.html<br />https://blog.csdn.net/huang_yong_peng/article/details/82950743</td>
      <td> </td>
    </tr>
    <tr>
      <td> </td>
      <td>parser 协议解析</td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td> </td>
      <td>reflect 反射</td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
  </tbody>
</table>

<h1 id="目录">目录</h1>

<p>[TOC]</p>

<h1 id="问题">问题</h1>

<h5 id="目录结构">目录结构？</h5>

<p>xserver</p>

<table>
  <tbody>
    <tr>
      <td>–conf     配置文件,进程启动配置、秘钥key</td>
    </tr>
  </tbody>
</table>

<table>
  <tbody>
    <tr>
    </tr>
  </tbody>
</table>

<h1 id="配置">配置</h1>

<p>ServerCmd: 启动进程时cmd输入的参数</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>message ServerCmd
{
	string path = 1;
	string globalPath = 2;
	string logPath  = 3;
	string logSign = 4;
	bool daemon = 5;
	bool lan  = 6;
}
</code></pre></div></div>

<p>ServerInfo</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>message ServerInfo
{
   int32 id = 1;         //服务器id
   string name = 3;   //服务器名称
   string cmdAddr = 4;    //命令行绑定地址
   string rpcAddr = 5;    //rpc绑定地址
   string extAddr = 6;    //对外服务器地址
   int64 lastTick = 7;    //最后心跳
   string type = 8;
   int32 load = 9;    //负载
   string conf = 10;//配置文件
   int32 onlineCount = 11;//在线玩家
   string md5 = 12;
   string pbVer = 13;
}
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>message ServerWarn
{
   repeated int32 badRpc = 1;  
   int64 lastPanic = 2;
   int32 panicCount = 3;
   bool  goScale = 4;//goroutine比例是否失衡
}
</code></pre></div></div>

<p>Config</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Server *configServer
Global *configGlobal
Doc    *ConfigDoc
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>//服务器配置
type configServer struct {
	Id        int32
	Type      string
	Name      string
	Net       *configServerNet
	Subscribe []int32
}
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>//服务器网络配置
type configServerNet struct {
   Rpc      string
   Cmd      string
   Ext      string
   ExtIpUrl string
   Timeout  int
}
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>type configGlobal struct {
   LoginVersion         string //登陆版本
   LoginVersionSwitch   bool   //版本检查开关
   GamerCountPerRedis   int32  //每台redis玩家数量
   LoginSessionTimeout  int32  //登陆session保存时间
   MaxCacheGamer        int32  //最大缓存玩家数量
   MinGamerId           int32
   NeedCDKSwitch      bool    //cdk开关
   ProfSwitch           bool     //性能监视开关
   LogUploadUrl         string   //日志上传url
   LogFormField         string   //日志上传filed
   HTTPLogUploadUrl    string   //HTTP日志上传url
   MsgqueCountBuffer    int32    //msgque缓冲数量
   GoroutineCountBuffer int32    //goroutin缓冲数量
   RedisPoolSize        int32    //redis链接池大小
   Timezone             int32    //时区
   Redis                []string //redis
   FastAuthWhiteList    []string
   FastAuthCheckSwitch  bool
   Proto                string
   LogLevel             string //日志等级
   MaxLogFileSize       int    //日志文件最大size，单位MB
   SSLCrtPath           string
   SSLKeyPath           string
   WWWDir               string //www文件目录
   WWWUrl               string //wwwurl路径
   Compress             bool
   Pvp                  *configPVP
   WXId                 string
   WXSec                string
   GMSwitch          bool //GM开关
}
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>type configPVP struct {
   PvpMaxObSize        int
   PvpFrameDelta       int
   PvpMinFrameDelta    int
   PvpFrameDeltaScale  int
   PvpThreadRecv       bool
   PvpInputDelta       int
   PvpStartWaitTimeout int
   PvpAllAIExit        bool
   PvpResultCheck      bool
   PvpMaxKeepTime      int
}
</code></pre></div></div>
]]></content:encoded>
    </item>
    
    <item>
      <title>番茄时钟</title>
      <link href="http://blog.ihaiu.com/fqsz/"/>
      <pubDate>2020-05-13T21:51:00+08:00</pubDate>
      <author>ihaiu</author>
      <guid>http://blog.ihaiu.com/fqsz</guid>
      <content:encoded><![CDATA[
<h3 id="番茄时钟-kwhl">番茄时钟 KWHL</h3>

<table>
  <thead>
    <tr>
      <th>K</th>
      <th>W</th>
      <th>H</th>
      <th>L</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>What do I know？</td>
      <td>What do I want to know？</td>
      <td>How I will learn？</td>
      <td>What I have learned？</td>
    </tr>
    <tr>
      <td>我知道些什么？</td>
      <td>我想要知道些什么？</td>
      <td>我该如何去学习？</td>
      <td>我学到了什么？</td>
    </tr>
    <tr>
      <td>Know</td>
      <td>Want</td>
      <td>How</td>
      <td>Learned</td>
    </tr>
  </tbody>
</table>

]]></content:encoded>
    </item>
    
    <item>
      <title>阿拉德之怒</title>
      <link href="http://blog.ihaiu.com/aldzn/"/>
      <pubDate>2020-05-13T21:51:00+08:00</pubDate>
      <author>ihaiu</author>
      <guid>http://blog.ihaiu.com/aldzn</guid>
      <content:encoded><![CDATA[<h2 id="阿拉德之怒">阿拉德之怒</h2>

<table>
  <thead>
    <tr>
      <th>K</th>
      <th>W</th>
      <th>H</th>
      <th>L</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>What do I know？</td>
      <td>What do I want to know？</td>
      <td>How I will learn？</td>
      <td>What I have learned？</td>
    </tr>
    <tr>
      <td>我知道些什么？</td>
      <td>我想要知道些什么？</td>
      <td>我该如何去学习？</td>
      <td>我学到了什么？</td>
    </tr>
    <tr>
      <td>Know</td>
      <td>Want</td>
      <td>How</td>
      <td>Learned</td>
    </tr>
    <tr>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td>职业</td>
      <td>职业有哪些？</td>
      <td>游戏里拔</td>
      <td> </td>
    </tr>
    <tr>
      <td>技能</td>
      <td>每种职业的区别？</td>
      <td>群里问</td>
      <td> </td>
    </tr>
    <tr>
      <td>装备</td>
      <td>技能有什么类型？</td>
      <td>网上看视频</td>
      <td> </td>
    </tr>
    <tr>
      <td>武器</td>
      <td>装备有哪些？</td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td>时装</td>
      <td>每种装备加什么属性？</td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td>属性</td>
      <td>时装有哪些？</td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td> </td>
      <td>时装加什么属性？</td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td> </td>
      <td>属性有哪些？分别起什么作用？</td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td> </td>
      <td>属性分类？</td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td> </td>
      <td>游戏玩法有哪些？</td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td> </td>
      <td>单人玩法有哪些？</td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td> </td>
      <td>多人组队玩法有哪些？</td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td> </td>
      <td>PVP玩法有哪些？</td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td> </td>
      <td>活动地图有哪些？怎么玩？</td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td> </td>
      <td>主要的养成有哪些？</td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td> </td>
      <td>材料有哪些？分别做什么？</td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td> </td>
      <td>消耗品有哪些？分别什么作用？</td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td> </td>
      <td>货币有哪些？什么区别？</td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td> </td>
      <td>经济循环？</td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td> </td>
      <td>整体模块划分？</td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
  </tbody>
</table>

<h2 id="目录">目录</h2>

<p>[TOC]</p>

<h2 id="属性">属性</h2>

<p><img src="../images/aldzn/image-20200514004849332.png" alt="image-20200514004849332" /></p>

<table>
  <thead>
    <tr>
      <th>名称</th>
      <th>作用</th>
      <th> </th>
      <th> </th>
      <th> </th>
      <th> </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>生命</td>
      <td>生命值减为0时，角色死亡；</td>
      <td>血量</td>
      <td> </td>
      <td> </td>
      <td>当前血量</td>
    </tr>
    <tr>
      <td>魔力</td>
      <td>角色使用技能将会消耗一定量的魔力值；</td>
      <td>技能</td>
      <td> </td>
      <td> </td>
      <td>当前蓝量</td>
    </tr>
    <tr>
      <td>力量</td>
      <td>影响角色的物理攻击力和固定值技能、中毒、出血、灼伤、感电的伤害；</td>
      <td>物理</td>
      <td> </td>
      <td> </td>
      <td>物理攻击力</td>
    </tr>
    <tr>
      <td>智力</td>
      <td>影响角色的魔法攻击力和固定值技能、中毒、出血、灼伤、感电的伤害；</td>
      <td>魔法</td>
      <td> </td>
      <td> </td>
      <td>魔法攻击力，固定值技能</td>
    </tr>
    <tr>
      <td>体力</td>
      <td>影响角色的生命最大值、生命恢复量和物理防御力；</td>
      <td>物理</td>
      <td> </td>
      <td> </td>
      <td>血量最大值，血量恢复量， 物理防御力</td>
    </tr>
    <tr>
      <td>精神</td>
      <td>影响角色的魔力最大值、魔力恢复量和魔法防御力；</td>
      <td>魔法</td>
      <td> </td>
      <td> </td>
      <td>蓝量最大值，蓝量恢复量， 魔法防御力</td>
    </tr>
    <tr>
      <td>物理攻击</td>
      <td>对0防御的对象造成伤害，并造成无视防御的追加伤害；</td>
      <td>物理</td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td>魔法攻击</td>
      <td>对0防御的对象造成伤害，并造成无视防御的追加伤害；</td>
      <td>魔法</td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td>固定攻击</td>
      <td>独立于物理攻击、魔法攻击之外的攻击，增加技能面板中的固定伤害</td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td>物理防御</td>
      <td>被相同lv的对象攻击时，减少受到的伤害，物理防御提升后，将减少中毒、出血、灼伤、感电的伤害；</td>
      <td>物理</td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td>魔法防御</td>
      <td>被相同lv的对象攻击时，减少受到的伤害，魔法防御提升后，将减少中毒、出血、灼伤、感电的伤害；</td>
      <td>魔法</td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td>物暴</td>
      <td>提升物理攻击造成额外伤害的概率；</td>
      <td>物理</td>
      <td>概率</td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td>魔暴</td>
      <td>提升魔法攻击造成额外伤害的概率；</td>
      <td>魔法</td>
      <td>概率</td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td>攻速</td>
      <td>影响玩家物理攻击的出手速度；</td>
      <td>物理</td>
      <td> </td>
      <td>百分比</td>
      <td> </td>
    </tr>
    <tr>
      <td>施法速度</td>
      <td>影响玩家施放魔法的施放时间；</td>
      <td>技能</td>
      <td> </td>
      <td>百分比</td>
      <td> </td>
    </tr>
    <tr>
      <td>移速</td>
      <td>影响玩家移动速度</td>
      <td> </td>
      <td> </td>
      <td>百分比</td>
      <td> </td>
    </tr>
    <tr>
      <td>命中</td>
      <td>额外提升角色攻击时的成功几率；</td>
      <td> </td>
      <td>概率</td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td>闪避</td>
      <td>额外提升角色攻击时的躲避几率；</td>
      <td> </td>
      <td>概率</td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td>生命恢复量</td>
      <td>每分钟恢复的血量；</td>
      <td>血量</td>
      <td> </td>
      <td> </td>
      <td>血量恢复</td>
    </tr>
    <tr>
      <td>魔力恢复量</td>
      <td>每分钟恢复的魔力；</td>
      <td>技能</td>
      <td> </td>
      <td> </td>
      <td>蓝量恢复</td>
    </tr>
    <tr>
      <td>僵直</td>
      <td>增加敌人受击后无法动弹的时间</td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td>硬直</td>
      <td>提升后，可以减少自身被攻击后无法动弹的时间</td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td>侵蚀抗性</td>
      <td>英雄角色在虚空地下城和混沌地下城中的伤害和生命最大值</td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td>武器属性攻击</td>
      <td>当技能没有属性攻击，武器属性攻击会决定技能的属性攻击</td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td>光/火/冰/暗属性强化</td>
      <td>增加光/火/冰/暗属性攻击的伤害；</td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td>光/火/冰/暗属性抗性</td>
      <td>减少受到的光/火/冰/暗属性攻击伤害。</td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
  </tbody>
</table>

<h2 id="装备">装备</h2>

<p><img src="../images/aldzn/image-20200513193901471.png" alt="image-20200513193901471" /></p>

<ul>
  <li>肩部</li>
  <li>胸部</li>
  <li>腰部</li>
  <li>腿部</li>
  <li>
    <p>鞋子</p>
  </li>
  <li>
    <p>武器 （外显）</p>
  </li>
  <li>
    <p>戒指</p>
  </li>
  <li>
    <p>项链</p>
  </li>
  <li>
    <p>手镯</p>
  </li>
  <li>称号 （外显）</li>
</ul>

<h2 id="时装">时装</h2>

<p><img src="../images/aldzn/image-20200513194915977.png" alt="image-20200513194915977" /></p>

<p><img src="../images/aldzn/image-20200513194630563.png" alt="image-20200513194630563" /></p>

<p><img src="../images/aldzn/image-20200513195017318.png" alt="image-20200513195017318" /></p>

<table>
  <thead>
    <tr>
      <th> </th>
      <th> </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>头部</td>
      <td>外显</td>
    </tr>
    <tr>
      <td>衣服</td>
      <td>外显</td>
    </tr>
    <tr>
      <td>头饰</td>
      <td> </td>
    </tr>
    <tr>
      <td>首饰</td>
      <td> </td>
    </tr>
    <tr>
      <td>裤子</td>
      <td>外显</td>
    </tr>
    <tr>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td>武器</td>
      <td> </td>
    </tr>
    <tr>
      <td>翅膀</td>
      <td> </td>
    </tr>
    <tr>
      <td>光环 （脚底光圈）</td>
      <td> </td>
    </tr>
  </tbody>
</table>

<h2 id="技能">技能</h2>

<ul>
  <li>主要靠角色升级，开放技能，和升级技能加点</li>
  <li>技能解锁条件：角色等级、完成任务</li>
  <li>武器会对耗蓝和CD产生影响</li>
</ul>

<h3 id="技能分类">技能分类</h3>

<ul>
  <li>初始技能：被动技能，不用升级，直接为最高等级</li>
  <li>状态技能（Buff技能）：不能手动配置，会默认配置好</li>
  <li>主动技能</li>
</ul>

<h3 id="技能标签">技能标签</h3>

<ul>
  <li>辅助</li>
  <li>防御</li>
  <li>物理</li>
  <li>魔法</li>
  <li>近战</li>
  <li>远程</li>
  <li>起手</li>
  <li>连招</li>
  <li>抓取</li>
  <li>跑位</li>
  <li>输出</li>
</ul>

<h3 id="技能分析">技能分析</h3>

<h4 id="条件">条件</h4>

<ul>
  <li>对应武器效果</li>
</ul>

<h4 id="表现">表现</h4>

<ul>
  <li>动作表现</li>
  <li>位移表现</li>
  <li>自己前提条件</li>
  <li>给与其他地方的前提条件</li>
  <li>再次点击施放二段</li>
  <li>浮空挑</li>
  <li>高高跃起跳向敌人</li>
  <li>将敌人击飞</li>
  <li>人物落下</li>
  <li>震地</li>
  <li>多段伤害</li>
  <li>跳跃到空中，再次点击按钮，可向下方发出</li>
  <li>落地后出血冲击波</li>
  <li>用武器将敌人挑飞到空中，然后下劈将先接触的1名敌人抓取，对抓取住的敌人造成范围多段伤害</li>
  <li>招架，受到来自前方的攻击时，可以减少自身受到的攻击伤害，且无法被正面浮空或者击倒，但背面受到攻击时招架状态会被打断</li>
</ul>

<h4 id="效果">效果</h4>

<ul>
  <li>无敌</li>
  <li>霸体</li>
  <li>僵直</li>
  <li>浮空</li>
  <li>击倒</li>
  <li>击飞</li>
  <li>眩晕</li>
  <li>混乱</li>
  <li>抓取</li>
  <li>招架</li>
  <li>打断</li>
  <li>出血</li>
  <li>灼伤</li>
  <li>冰冻</li>
  <li>加属性</li>
  <li>
    <p>叠加次数</p>
  </li>
  <li>起身瞬间无敌</li>
  <li>蹲伏最大无敌</li>
  <li>起身霸体时间</li>
  <li>物理攻击力</li>
  <li>攻击力</li>
  <li>浮空力</li>
  <li>2段浮空挑击攻击力</li>
  <li>2段浮空挑击浮空力</li>
  <li>斩击攻击力</li>
  <li>出血几率</li>
  <li>出血等级</li>
  <li>出血时间</li>
  <li>出血总伤害</li>
  <li>下压物理攻击力</li>
  <li>冲击波攻击力</li>
  <li>冲击波伤害范围</li>
  <li>上斩魔法攻击力</li>
  <li>下斩魔法攻击力</li>
  <li>裂波魔法攻击力</li>
  <li>物理减伤率</li>
  <li>魔法减伤率</li>
  <li>【招架】旋风触发概率</li>
  <li>旋风物理功</li>
  <li>旋风眩晕概率</li>
  <li>眩晕等级</li>
  <li>眩晕持续时间</li>
</ul>

<h3 id="初始技能">初始技能</h3>

<table>
  <thead>
    <tr>
      <th>图标和名称</th>
      <th>标签</th>
      <th>类型</th>
      <th>冷却（秒）</th>
      <th>耗魔</th>
      <th>技能介绍</th>
      <th>技能效果</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><img src="../images/aldzn/image-20200514034536378.png" alt="image-20200514034536378" /></td>
      <td>物理，近战</td>
      <td>被动</td>
      <td>0</td>
      <td>0</td>
      <td>快速闪身后撤，躲避敌人攻击</td>
      <td>起跳瞬间无敌0.15秒</td>
    </tr>
    <tr>
      <td><img src="../images/aldzn/image-20200514034629277.png" alt="image-20200514034629277" /></td>
      <td>防御</td>
      <td>被动</td>
      <td>5</td>
      <td>0</td>
      <td>在倒地状态下按住攻击按钮不放开，人物会进行起身蹲伏，放开按键会进入起身状态，达到最打蹲伏时间后也会进入起身状态；在起身蹲伏时，自身是无敌的</td>
      <td>蹲伏最大无敌：3秒<br />起身霸体时间：0.2秒</td>
    </tr>
    <tr>
      <td><img src="../images/aldzn/image-20200514034730036.png" alt="image-20200514034730036" /></td>
      <td>物理，近战，跑位</td>
      <td>被动</td>
      <td>0</td>
      <td>0</td>
      <td>在双击跑动的状态中点击攻击按钮，向前滑行用脚进行攻击敌人，只有在系统设置中开启双击跑动才能使用</td>
      <td>物理攻击里：100%</td>
    </tr>
    <tr>
      <td><img src="../images/aldzn/image-20200514103046952.png" alt="image-20200514103046952" /></td>
      <td>物理，近战</td>
      <td>被动</td>
      <td>1</td>
      <td>5</td>
      <td>在双击跑动的状态中点击攻击按钮，使用武器向前滑行进行攻击敌人，只有在系统设置中开启双击跑动才能使用</td>
      <td>物理攻击里：120%</td>
    </tr>
    <tr>
      <td><img src="../images/aldzn/image-20200514103301121.png" alt="image-20200514103301121" /></td>
      <td>辅助</td>
      <td>被动</td>
      <td>0</td>
      <td>0</td>
      <td>飞影的防具会沾染自身的剑道气息，每装备一件轻甲都会获得额外的力量、体力、精神、生命、魔力、魔力恢复、硬直的加成</td>
      <td>增加力量、体力、精神、生命、魔力：受装备品质和等级影响<br />增加魔力恢复、硬直：不受装备品质和等级影响</td>
    </tr>
    <tr>
      <td><img src="../images/aldzn/image-20200514110709405.png" alt="image-20200514110709405" /></td>
      <td> </td>
      <td>被动</td>
      <td>0</td>
      <td>0</td>
      <td>只有习得此技能时，才可以穿戴光刃武器</td>
      <td> </td>
    </tr>
  </tbody>
</table>

<p><img src="../images/aldzn/image-20200514033418273.png" alt="image-20200514033418273" /></p>

<p><img src="../images/aldzn/image-20200514033440035.png" alt="image-20200514033440035" /></p>

<h2 id="职业">职业</h2>

<h4 id="职业类型">职业类型</h4>

<ul>
  <li>战士 （男）: 剑术出神入化，善用刀剑类武器攻击敌人
    <ul>
      <li>飞影: 物理攻击、攻速</li>
      <li>弑神：力量、攻速</li>
      <li>明王：智力、施法速度</li>
      <li>阵魔： 魔法攻击、施法速度</li>
    </ul>
  </li>
  <li>枪手 （男）： 枪法精悍，善于利用机械远程距离攻击袭击敌人</li>
  <li>枪手 （女）： 不可思议的爆发力， 连击能力更胜男枪手</li>
  <li>武术师 （女）： 自然界中无处不在的念，念是万物</li>
  <li>神谕者 （男）：手中的巨兵赋予了他们超凡的攻击力和打击范围</li>
  <li>法师 （女）： 可灵活运用自然界的冰、火、光、暗元素施展魔法</li>
  <li>牧师</li>
  <li>潜行者</li>
</ul>

<h4 id="职业影响">职业影响</h4>

<ul>
  <li>技能：这是职业最大的区别</li>
  <li>武器</li>
  <li>时装</li>
</ul>

<h4 id="战士-男-剑术出神入化善用刀剑类武器攻击敌人">战士 （男）: 剑术出神入化，善用刀剑类武器攻击敌人</h4>

<p>​	<img src="../images/aldzn/image-20200514095524472.png" alt="image-20200514095524472" /></p>

<p><img src="../images/aldzn/image-20200514095544793.png" alt="image-20200514095544793" /></p>

<p><img src="../images/aldzn/image-20200514095601155.png" alt="image-20200514095601155" /></p>

<p><img src="../images/aldzn/image-20200514095615080.png" alt="image-20200514095615080" /></p>

<h4 id="枪手-男-枪法精悍善于利用机械远程距离攻击袭击敌人">枪手 （男）： 枪法精悍，善于利用机械远程距离攻击袭击敌人</h4>

<p><img src="../images/aldzn/image-20200514095700606.png" alt="image-20200514095700606" /></p>

<p><img src="../images/aldzn/image-20200514095714285.png" alt="image-20200514095714285" /></p>

<p><img src="../images/aldzn/image-20200514095726734.png" alt="image-20200514095726734" /></p>

<h4 id="枪手-女-不可思议的爆发力-连击能力更胜男枪手">枪手 （女）： 不可思议的爆发力， 连击能力更胜男枪手</h4>

<p><img src="../images/aldzn/image-20200514100405371.png" alt="image-20200514100405371" /></p>

<p><img src="../images/aldzn/image-20200514100418089.png" alt="image-20200514100418089" /></p>

<h4 id="武术师-女-自然界中无处不在的念念是万物">武术师 （女）： 自然界中无处不在的念，念是万物</h4>

<p><img src="../images/aldzn/image-20200514095741747.png" alt="image-20200514095741747" /></p>

<p><img src="../images/aldzn/image-20200514095909834.png" alt="image-20200514095909834" /></p>

<h4 id="神谕者-男手中的巨兵赋予了他们超凡的攻击力和打击范围">神谕者 （男）：手中的巨兵赋予了他们超凡的攻击力和打击范围</h4>

<p><img src="../images/aldzn/image-20200514100007914.png" alt="image-20200514100007914" /></p>

<p><img src="../images/aldzn/image-20200514100024505.png" alt="image-20200514100024505" /></p>

<h4 id="法师-女-可灵活运用自然界的冰火光暗元素施展魔法">法师 （女）： 可灵活运用自然界的冰、火、光、暗元素施展魔法</h4>

<p><img src="../images/aldzn/image-20200514100125256.png" alt="image-20200514100125256" /></p>

<p><img src="../images/aldzn/image-20200514100144296.png" alt="image-20200514100144296" /></p>

<p><img src="../images/aldzn/image-20200514100214461.png" alt="image-20200514100214461" /></p>

<h2 id="玩法">玩法</h2>

<ul>
  <li>
    <p>主线副本</p>
  </li>
  <li>
    <p>日常限次玩法</p>
  </li>
  <li>
    <p>日常限时玩法</p>
  </li>
  <li>
    <p>秘境</p>
  </li>
  <li>
    <p>决斗</p>
  </li>
  <li>
    <p>深渊</p>
  </li>
  <li>
    <p>公会活动</p>
  </li>
</ul>

<h3 id="主线副本">主线副本</h3>

<p><img src="../images/aldzn/image-20200513211011512.png" alt="image-20200513211011512" /></p>

<h3 id="日常限次玩法">日常限次玩法</h3>

<ul>
  <li>限制次数</li>
  <li>获取大量经验或者绑定金币，特殊材料</li>
  <li>国际斗牛节、哥布林宝藏室：和主线副本一样，只是掉落的东西比较多和特殊</li>
  <li>勇者之塔：爬塔玩法，看数值和操作</li>
</ul>

<p><img src="../images/aldzn/image-20200513205253840.png" alt="image-20200513205253840" /></p>

<h5 id="国际斗牛节-和-哥布林宝藏室">国际斗牛节 和 哥布林宝藏室</h5>

<p><img src="../images/aldzn/image-20200513210453135.png" alt="image-20200513210453135" /></p>

<h5 id="勇者之塔">勇者之塔</h5>

<p><img src="../images/aldzn/image-20200513205426143.png" alt="image-20200513205426143" /></p>

<p><img src="../images/aldzn/image-20200513210045783.png" alt="image-20200513210045783" /></p>

<p><img src="../images/aldzn/image-20200513210253972.png" alt="image-20200513210253972" /></p>

<h5 id="堕落之塔">堕落之塔</h5>

<p><img src="../images/aldzn/image-20200513210600381.png" alt="image-20200513210600381" /></p>

<p><img src="../images/aldzn/image-20200513210821027.png" alt="image-20200513210821027" /></p>

<h3 id="日常限时玩法">日常限时玩法</h3>

<p><img src="../images/aldzn/image-20200513215257623.png" alt="image-20200513215257623" /></p>

<h5 id="怪物攻城-组队玩法">怪物攻城 (组队玩法)</h5>

<ul>
  <li>整点会在地图中刷怪</li>
  <li>需要组队才能玩，一个人的队伍也可以</li>
</ul>

<p><img src="../images/aldzn/image-20200513220042064.png" alt="image-20200513220042064" /></p>

<p><img src="../images/aldzn/image-20200513215411090.png" alt="image-20200513215411090" /></p>

<p><img src="../images/aldzn/image-20200513215751461.png" alt="image-20200513215751461" /></p>

<p><img src="../images/aldzn/image-20200513215905501.png" alt="image-20200513215905501" /></p>

<p><img src="../images/aldzn/image-20200513215925132.png" alt="image-20200513215925132" /></p>

<p><img src="../images/aldzn/image-20200513220615769.png" alt="image-20200513220615769" /></p>

<p><img src="../images/aldzn/image-20200513220715743.png" alt="image-20200513220715743" /></p>

<p><img src="../images/aldzn/image-20200513220753248.png" alt="image-20200513220753248" /></p>

<p>一个人的队伍也可以打</p>

<p><img src="../images/aldzn/image-20200513221844541.png" alt="image-20200513221844541" /></p>

<p>![(../images/aldzn/image-20200513221809246.png)</p>

<p><img src="../images/aldzn/image-20200513221427502.png" alt="image-20200513221427502" /></p>

<h5 id="神秘商店">神秘商店</h5>

<p><img src="../images/aldzn/image-20200513221018813.png" alt="image-20200513221018813" /></p>

<p><img src="../images/aldzn/image-20200513220903517.png" alt="image-20200513220903517" /></p>

<p><img src="../images/aldzn/image-20200513220914083.png" alt="image-20200513220914083" /></p>

<p><img src="../images/aldzn/image-20200513221127883.png" alt="image-20200513221127883" /></p>

<p><img src="../images/aldzn/image-20200513221138502.png" alt="image-20200513221138502" /></p>

<p><img src="../images/aldzn/image-20200513221149192.png" alt="image-20200513221149192" /></p>

<p><img src="../images/aldzn/image-20200513221158450.png" alt="image-20200513221158450" /></p>

<h5 id="荣耀战场-吃鸡模式">荣耀战场 （吃鸡模式）</h5>

<p><img src="../images/aldzn/image-20200513220422589.png" alt="image-20200513220422589" /></p>

<h3 id="公会活动">公会活动</h3>

<p><img src="../images/aldzn/image-20200513213516077.png" alt="image-20200513213516077" /></p>

<h4 id="公会领地战">公会领地战</h4>

<ul>
  <li>城市雕像： 占领天空之城的公会的会长、副会长</li>
</ul>

<p><img src="../images/aldzn/image-20200513211625726.png" alt="image-20200513211625726" /></p>

<p><img src="../images/aldzn/image-20200513211750229.png" alt="image-20200513211750229" /></p>

<p><img src="../images/aldzn/image-20200513212030896.png" alt="image-20200513212030896" /></p>

<p><img src="../images/aldzn/image-20200513211732588.png" alt="image-20200513211732588" /></p>

<p><img src="../images/aldzn/image-20200513211208980.png" alt="image-20200513211208980" /></p>

<p><img src="../images/aldzn/image-20200513211443871.png" alt="image-20200513211443871" /></p>

<p><img src="../images/aldzn/image-20200513211512883.png" alt="image-20200513211512883" /></p>

<p><img src="../images/aldzn/image-20200513211536169.png" alt="image-20200513211536169" /></p>

<p><img src="../images/aldzn/image-20200513211545277.png" alt="image-20200513211545277" /></p>

<p><img src="../images/aldzn/image-20200513211554959.png" alt="image-20200513211554959" /></p>

<h4 id="公会跨服领地-跨服公会战">公会跨服领地 （跨服公会战）</h4>

<p><img src="../images/aldzn/image-20200513220319179.png" alt="image-20200513220319179" /></p>

<p><img src="../images/aldzn/image-20200513220335678.png" alt="image-20200513220335678" /></p>

<p><img src="../images/aldzn/image-20200513212212587.png" alt="image-20200513212212587" /></p>

<p><img src="../images/aldzn/image-20200513212246732.png" alt="image-20200513212246732" /></p>

<p><img src="../images/aldzn/image-20200513212707861.png" alt="image-20200513212707861" /></p>

<p>前往：秘籍的地图</p>

<p><img src="../images/aldzn/image-20200513212855804.png" alt="image-20200513212855804" /></p>

<p><img src="../images/aldzn/image-20200513212913818.png" alt="image-20200513212913818" /></p>

<p><img src="../images/aldzn/image-20200513212945541.png" alt="image-20200513212945541" /></p>

<h3 id="秘境-可组队">秘境 (可组队)</h3>

<ul>
  <li>
    <p>可以组队完</p>
  </li>
  <li>
    <p>单人可以携带药品使用，组队药品无效</p>
  </li>
  <li>
    <p>普通关卡一样的玩法，主要是掉落高级物品，限制次数，需要消耗品等</p>

    <table>
      <thead>
        <tr>
          <th>名称</th>
          <th>消耗</th>
          <th>掉落</th>
          <th>难度影响</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>深渊地下城</td>
          <td>精力值，深渊票</td>
          <td>橙色装备，紫色装备，宇宙之眼材料，混沌之匙</td>
          <td>影响掉落经验和物品加成</td>
        </tr>
        <tr>
          <td>远古地下城</td>
          <td>精力值，远古票</td>
          <td>粉色装备，深渊票，远古票，万世王者称号，帝王文章称号</td>
          <td>影响掉落经验和物品加成</td>
        </tr>
        <tr>
          <td>混沌地下城</td>
          <td>混沌之匙</td>
          <td>虚无之源</td>
          <td> </td>
        </tr>
        <tr>
          <td> </td>
          <td> </td>
          <td> </td>
          <td> </td>
        </tr>
      </tbody>
    </table>
  </li>
</ul>

<h5 id="深渊地下城">深渊地下城</h5>

<ul>
  <li>消耗：精力值，深渊票</li>
  <li>掉落：主要橙色装备、部分紫色装备</li>
  <li>难度：影响掉落经验和物品加成</li>
</ul>

<p><img src="../images/aldzn/image-20200513222203667.png" alt="image-20200513222203667" /></p>

<p><img src="../images/aldzn/image-20200513222348893.png" alt="image-20200513222348893" /></p>

<p><img src="../images/aldzn/image-20200513222417346.png" alt="image-20200513222417346" /></p>

<p><img src="../images/aldzn/image-20200513233847620.png" alt="image-20200513233847620" /></p>

<iframe src="http://open.iqiyi.com/developer/player_js/coopPlayerIndex.html?vid=0d3b55f25abed03bf6edad4ac8930274&amp;tvId=9686044309&amp;accessToken=2.f22860a2479ad60d8da7697274de9346&amp;appKey=3955c3425820435e86d0f4cdfe56f5e7&amp;appId=1368&amp;height=100%&amp;width=100%" frameborder="0" allowfullscreen="true" width="100%" height="100%"></iframe>

<h5 id="深渊商店">深渊商店</h5>

<p><img src="../images/aldzn/image-20200513234851629.png" alt="image-20200513234851629" /></p>

<p><img src="../images/aldzn/image-20200513234915273.png" alt="image-20200513234915273" /></p>

<p><img src="../images/aldzn/image-20200513234958954.png" alt="image-20200513234958954" /></p>

<h5 id="远古地下城">远古地下城</h5>

<p><img src="../images/aldzn/image-20200513235211917.png" alt="image-20200513235211917" /></p>

<p><img src="../images/aldzn/image-20200513235154795.png" alt="image-20200513235154795" /></p>

<p><img src="../images/aldzn/image-20200513235252592.png" alt="image-20200513235252592" /></p>

<p><img src="../images/aldzn/image-20200513235327434.png" alt="image-20200513235327434" /></p>

<p><img src="../images/aldzn/image-20200513235628032.png" alt="image-20200513235628032" /></p>

<p>有个神秘剑客一起帮打</p>

<h5 id="传奇之路-材料兑换称号商店">传奇之路 （材料兑换称号商店）</h5>

<p><img src="../images/aldzn/image-20200514000509010.png" alt="image-20200514000509010" /></p>

<h5 id="混沌地下城">混沌地下城</h5>

<p><img src="../images/aldzn/image-20200514000724817.png" alt="image-20200514000724817" /></p>

<p><img src="../images/aldzn/image-20200514000741257.png" alt="image-20200514000741257" /></p>

<p><img src="../images/aldzn/image-20200514000758807.png" alt="image-20200514000758807" /></p>

<h5 id="团队地下城">团队地下城</h5>

<p><img src="../images/aldzn/image-20200514001229790.png" alt="image-20200514001229790" /></p>

<h3 id="决斗pvp">决斗PVP</h3>

<p><img src="../images/aldzn/image-20200514002902408.png" alt="image-20200514002902408" /></p>

<h5 id="自由练习">自由练习</h5>

<ul>
  <li>练习不同的招式、连招等可以获得奖励。</li>
</ul>

<p><img src="../images/aldzn/image-20200514002958892.png" alt="image-20200514002958892" /></p>

<p><img src="../images/aldzn/image-20200514003811751.png" alt="image-20200514003811751" /></p>

<h5 id="1v1天梯">1v1天梯</h5>

<ul>
  <li>主要该玩法来排段位，排行榜</li>
</ul>

<p><img src="../images/aldzn/image-20200514003902422.png" alt="image-20200514003902422" /></p>

<p><img src="../images/aldzn/image-20200514003917222.png" alt="image-20200514003917222" /></p>

<p><img src="../images/aldzn/image-20200514003940026.png" alt="image-20200514003940026" /></p>

<p><img src="../images/aldzn/image-20200514004049704.png" alt="image-20200514004049704" /></p>

<h5 id="1v1-段位奖励">1v1 段位奖励</h5>

<ul>
  <li>7个段位</li>
  <li>段位可以属性加成</li>
</ul>

<p><img src="../images/aldzn/image-20200514010347461.png" alt="image-20200514010347461" /></p>

<p><img src="../images/aldzn/image-20200514010442988.png" alt="image-20200514010442988" /></p>

<p><img src="../images/aldzn/image-20200514010528692.png" alt="image-20200514010528692" /></p>

<p><img src="../images/aldzn/image-20200514010551992.png" alt="image-20200514010551992" /></p>

<p><img src="../images/aldzn/image-20200514010615515.png" alt="image-20200514010615515" /></p>

<p><img src="../images/aldzn/image-20200514010725487.png" alt="image-20200514010725487" /></p>

<h5 id="1v1-段位排行榜">1v1 段位排行榜</h5>

<p><img src="../images/aldzn/image-20200514010800650.png" alt="image-20200514010800650" /></p>

<h5 id="录像">录像</h5>

<p><img src="../images/aldzn/image-20200514011129840.png" alt="image-20200514011129840" /></p>

<p><img src="../images/aldzn/image-20200514011049696.png" alt="image-20200514011049696" /></p>

<h5 id="多人对战">多人对战</h5>

<ul>
  <li>3V3娱乐模式，没有惩罚和奖励，车轮战，1对1，可以调整出场顺序</li>
  <li>2v2乱斗模式，所有人同时参战，不计算段位积分</li>
</ul>

<p><img src="../images/aldzn/image-20200514005747778.png" alt="image-20200514005747778" /></p>

<p><img src="../images/aldzn/image-20200514010024090.png" alt="image-20200514010024090" /></p>

<p><img src="../images/aldzn/image-20200514004503632.png" alt="image-20200514004503632" /></p>

<p><img src="../images/aldzn/image-20200514005231067.png" alt="image-20200514005231067" /></p>

<p><img src="../images/aldzn/image-20200514005307491.png" alt="image-20200514005307491" /></p>

<p><img src="../images/aldzn/image-20200514005322023.png" alt="image-20200514005322023" /></p>

<p><img src="../images/aldzn/image-20200514005354575.png" alt="image-20200514005354575" /></p>

<p><img src="../images/aldzn/image-20200514005522230.png" alt="image-20200514005522230" /></p>

<h3 id="组队pve">组队PVE</h3>

<p><img src="../images/aldzn/image-20200514011407706.png" alt="image-20200514011407706" /></p>

<p><img src="../images/aldzn/image-20200514011458797.png" alt="image-20200514011458797" /></p>

<p><img src="../images/aldzn/image-20200514011620773.png" alt="image-20200514011620773" /></p>

<h2 id="公会">公会</h2>

<ul>
  <li>会长 1个
    <ul>
      <li>副会长 2个
        <ul>
          <li>普通</li>
          <li>精英 （在公会连续7天）</li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

<p><img src="../images/aldzn/image-20200513213830883.png" alt="image-20200513213830883" /></p>

<p><img src="../images/aldzn/image-20200513214110983.png" alt="image-20200513214110983" /></p>

<p><img src="../images/aldzn/image-20200513214230113.png" alt="image-20200513214230113" /></p>

<p><img src="../images/aldzn/image-20200513213810213.png" alt="image-20200513213810213" /></p>

<p><img src="../images/aldzn/image-20200513214401230.png" alt="image-20200513214401230" /></p>

<h4 id="建筑">建筑</h4>

<p><img src="../images/aldzn/image-20200513214414906.png" alt="image-20200513214414906" /></p>

<p><img src="../images/aldzn/image-20200513214448296.png" alt="image-20200513214448296" /></p>

<p><img src="../images/aldzn/image-20200513214656792.png" alt="image-20200513214656792" /></p>

<p><img src="../images/aldzn/image-20200513214541219.png" alt="image-20200513214541219" /></p>

<h5 id="公会商店">公会商店</h5>

<p><img src="../images/aldzn/image-20200513214755707.png" alt="image-20200513214755707" /></p>

<h4 id="福利">福利</h4>

<p><img src="../images/aldzn/image-20200513214425138.png" alt="image-20200513214425138" /></p>

<h5 id="公会仓库">公会仓库</h5>

<p><img src="../images/aldzn/image-20200513214916535.png" alt="image-20200513214916535" /></p>

<p><img src="../images/aldzn/image-20200513214842206.png" alt="image-20200513214842206" /></p>

<p><img src="../images/aldzn/image-20200513214902578.png" alt="image-20200513214902578" /></p>

<p><img src="../images/aldzn/image-20200513214853090.png" alt="image-20200513214853090" /></p>

<h5 id="公会红包">公会红包</h5>

<p><img src="../images/aldzn/image-20200513215002970.png" alt="image-20200513215002970" /></p>

<p><img src="../images/aldzn/image-20200513215020088.png" alt="image-20200513215020088" /></p>
]]></content:encoded>
    </item>
    
    <item>
      <title>javascript 扩展原型 get set 方法</title>
      <link href="http://blog.ihaiu.com/js-yxkz_get_set/"/>
      <pubDate>2020-03-31T23:00:00+08:00</pubDate>
      <author>ihaiu</author>
      <guid>http://blog.ihaiu.com/js-yxkz_get_set</guid>
      <content:encoded><![CDATA[<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">export</span> <span class="k">default</span> <span class="kd">class</span> <span class="nx">Hello</span>
<span class="p">{</span>
    <span class="nl">_name</span><span class="p">:</span> <span class="kr">string</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">abc</span><span class="dl">"</span><span class="p">;</span>
    <span class="kd">get</span> <span class="nx">name</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">原始 get name </span><span class="dl">"</span><span class="p">);</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">_name</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="kd">set</span> <span class="nx">name</span><span class="p">(</span><span class="nx">v</span><span class="p">:</span><span class="kr">string</span><span class="p">)</span>
    <span class="p">{</span>
        
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">原始 set name </span><span class="dl">"</span><span class="p">,</span> <span class="nx">v</span><span class="p">);</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">_name</span> <span class="o">=</span> <span class="nx">v</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>


<span class="k">export</span>  <span class="kd">class</span> <span class="nx">HelloExtend</span>
<span class="p">{</span>
    <span class="k">static</span> <span class="nx">Init</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">name_source</span> <span class="o">=</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">getOwnPropertyDescriptor</span><span class="p">(</span><span class="nx">Hello</span><span class="p">.</span><span class="nx">prototype</span><span class="p">,</span> <span class="dl">"</span><span class="s2">name</span><span class="dl">"</span><span class="p">);</span>
        <span class="nb">Object</span><span class="p">.</span><span class="nx">defineProperty</span><span class="p">(</span><span class="nx">Hello</span><span class="p">.</span><span class="nx">prototype</span><span class="p">,</span> <span class="dl">"</span><span class="s2">name</span><span class="dl">"</span><span class="p">,</span> 
        <span class="p">{</span>
            <span class="na">get</span><span class="p">:</span> <span class="kd">function</span> <span class="p">()</span> 
            <span class="p">{</span>
                <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">扩展 get name</span><span class="dl">"</span><span class="p">);</span>
                <span class="k">return</span> <span class="nx">name_source</span><span class="p">.</span><span class="kd">get</span><span class="p">();</span>
            <span class="p">},</span>

            <span class="na">set</span><span class="p">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">v</span><span class="p">)</span> 
            <span class="p">{</span>
                <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">扩展 set name</span><span class="dl">"</span><span class="p">,</span> <span class="nx">v</span><span class="p">);</span>
                <span class="nx">name_source</span><span class="p">.</span><span class="kd">set</span><span class="p">(</span><span class="nx">v</span> <span class="o">+</span> <span class="dl">"</span><span class="s2">---abcdefg</span><span class="dl">"</span><span class="p">);</span>
            <span class="p">},</span>
            <span class="na">enumerable</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
            <span class="na">configurable</span><span class="p">:</span> <span class="kc">true</span>
        <span class="p">});</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>测试代码</p>

<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
		<span class="nx">HelloExtend</span><span class="p">.</span><span class="nx">Init</span><span class="p">();</span>
		<span class="kd">var</span> <span class="nx">h</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Hello</span><span class="p">();</span>
		<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">h</span><span class="p">.</span><span class="nx">name</span><span class="p">);</span>
		<span class="nx">h</span><span class="p">.</span><span class="nx">name</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">aa</span><span class="dl">'</span><span class="p">;</span>
		<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">h</span><span class="p">.</span><span class="nx">name</span><span class="p">);</span>
</code></pre></div></div>

<p>输入日志</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
bundle.js:523 扩展 get name
bundle.js:504 原始 get name 
bundle.js:566 undefined
bundle.js:527 扩展 set name aa
bundle.js:508 原始 set name  aa---abcdefg
bundle.js:523 扩展 get name
bundle.js:504 原始 get name 
bundle.js:568 aa---abcdefg
</code></pre></div></div>

]]></content:encoded>
    </item>
    
  </channel>
</rss>
